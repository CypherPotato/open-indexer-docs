<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Documents | AIVAX </title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="title" content="Documents | AIVAX ">


        <link rel="icon" href="../../../assets/img/favicon.ico">
        <link rel="stylesheet" href="../../../public/docfx.min.css">
        <link rel="stylesheet" href="../../../public/main.css">

        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Geist+Mono:wght@100..900&family=Geist:wght@100..900&display=swap" rel="stylesheet">
        
        <link href="https://cdn.jsdelivr.net/npm/remixicon@4.6.0/fonts/remixicon.css" rel="stylesheet">

        <meta name="docfx:navrel" content="../../../toc.html">
        <meta name="docfx:tocrel" content="../toc.html">

        <meta name="docfx:rel" content="../../../">


        <meta name="docfx:docurl" content="https://github.com/CypherPotato/open-indexer-docs/blob/master/docs/en/entities/documents.md/#L1">
        <meta name="loc:inThisArticle" content="In this article">
        <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
        <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
        <meta name="loc:tocFilter" content="Filter by title">
        <meta name="loc:nextArticle" content="Next">
        <meta name="loc:prevArticle" content="Previous">
        <meta name="loc:themeLight" content="Light">
        <meta name="loc:themeDark" content="Dark">
        <meta name="loc:themeAuto" content="Auto">
        <meta name="loc:changeTheme" content="Change theme">
        <meta name="loc:copy" content="Copy">
        <meta name="loc:downloadPdf" content="Download PDF">
        
        <script type="module" src="./../../../public/docfx.min.js"></script>
        <script>
            const theme = localStorage.getItem('theme') || 'auto';
            document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
        </script>
        
        <script src="https://unpkg.com/@cypherpotato/el/dist/el.min.js"></script>
                
        <script>            
            function switchLanguage(lang) {
                const docPart = window.location.pathname.match(/\/docs\/((en)\/)?(.*)/)[3];
                const newPath = lang + docPart;
                window.location.href = window.location.origin + newPath;
            }        
        </script>
        
    </head>
    
    
    <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
        <header class="bg-body border-bottom">
            <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
                <div class="container-xxl flex-nowrap">
                    <a class="navbar-brand" href="../../../index.html">
                        <img id="logo" class="svg" src="../../../assets/img/aivax.png" alt="AIVAX">
                        AIVAX
                    </a>
                    <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
                        <i class="bi bi-three-dots"></i>
                    </button>
                    <div class="collapse navbar-collapse" id="navpanel">
                        <div id="navbar">
                            <form class="search" role="search" id="search">
                                <i class="bi bi-search"></i>
                                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">
                            </form>
                        </div>
                    </div>
                </div>
            </nav>
        </header>

        <main class="container-xxl">
            <div class="toc-offcanvas">
                <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
                    <div class="offcanvas-header">
                        <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
                    </div>
                    <div class="offcanvas-body">
                        <nav class="toc" id="toc"></nav>
                    </div>
                </div>
            </div>

            <div class="content">
                <div class="actionbar">
                    <button class="btn btn-lg border-0 d-md-none" style="margin-top: -.65em; margin-left: -.8em" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
                        <i class="bi bi-list"></i>
                    </button>

                    <nav id="breadcrumb"></nav>

                    <div id="language-wrapper">
                        <a class="btn border-0 dropdown-toggle show" data-bs-toggle="dropdown" aria-expanded="true" title="Change theme">
                            <i class="bi bi-globe"></i>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end language-dropdown">
                            <li>
                                <a class="dropdown-item" href="javascript:switchLanguage('/docs/')">
                                    <img src="/assets/flag/brazil.png">
                                    Português
                                </a>
                            </li>
                            <li>
                                <a class="dropdown-item" href="javascript:switchLanguage('/docs/en/')">
                                    <img src="/assets/flag/usa.png">
                                    English
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>

                <article data-uid="">
<h1 id="documents">Documents</h1>

<p>A document represents a piece of knowledge. It is a limited, self‑contained excerpt that makes sense in isolation. A document is the component that is indexed by the internal model to be retrieved later through a semantic search term.</p>
<p>Consider a car manual: it is not a single document but several documents. Each of these documents talks, in isolation, about a specific subject concerning that car, so that the document does not depend on external context or information to make sense.</p>
<p>Each document in this manual will cover a topic: one will explain how to start the car, another how to turn it off, another how its paint is applied, and another how to change the oil periodically. It is not a good idea to reserve a document for multiple things at once, because that will reduce the objectivity and scope of inference and lower the quality of retrieval.</p>
<p>Examples of document creation:</p>
<h3 id="-do-not">❌ Do not</h3>
<ul>
<li>Do not create very short documents (with 10 words or fewer).</li>
<li>Do not create very large documents (with 700 words or more).</li>
<li>Do not talk about more than one thing in a document.</li>
<li>Do not mix different languages in documents.</li>
<li>Do not be implicit in documents.</li>
<li>Do not write documents using technical language, such as code or structures like JSON.</li>
</ul>
<h3 id="-do">✅ Do</h3>
<ul>
<li>Be explicit about the purpose of your document.</li>
<li>Focus documents on individual subjects that summarize what should be done or explained.</li>
<li>Always repeat terms that are keywords for the document search. Example: prefer using “The color of the 2015 Honda Civic is yellow” instead of “the car’s color is yellow”.</li>
<li>Restrict the document content to talk about only one topic or subject.</li>
<li>Use human, simple, and easy‑to‑understand language.</li>
</ul>
<h2 id="api-usage">API Usage</h2>
<p>Since all documents are entities that belong to a <a href="collections.html">collection</a>, always have the collection where the document is/will be located at hand.</p>
<p>For detailed information about the document API endpoints, see the <a href="https://inference.aivax.net/apidocs#Documents">official API documentation</a>.</p>
<h2 id="bulk-upload-documents">Bulk upload documents</h2>
<p>To upload a large list of documents to a collection, structure them following the <a href="https://jsonlines.org/">JSONL</a> format. The structure consists of the following properties:</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>docid</code></td>
<td><code>string</code></td>
<td>Specifies the document’s name. Useful for debugging and identification.</td>
</tr>
<tr>
<td><code>text</code></td>
<td><code>string</code></td>
<td>The raw content of the document that will be indexed.</td>
</tr>
<tr>
<td><code>__ref</code></td>
<td><code>string</code></td>
<td>Optional. Specifies a reference ID for the document.</td>
</tr>
<tr>
<td><code>__tags</code></td>
<td><code>string[]</code></td>
<td>Optional. Specifies an array of tags for the document. Useful for document management.</td>
</tr>
</tbody>
</table>
<p>A document’s reference is an ID that can be specified in multiple documents that need to be linked in a search when one of them is matched in a similarity search. For example, if a search finds a document that has a reference ID, all other documents in the same collection that share the same reference ID will also be included in the search response.</p>
<p>Using references can be helpful when a document depends on one or more other documents to make sense. There is no required format for the reference ID: any format is accepted.</p>
<p>You can send up to <strong>10,000</strong> document lines per request. If you need to send more documents, split the upload into multiple requests. If you send a document with more than 1,000 lines, the subsequent lines will be ignored.</p>
<p>Note that very long documents, which exceed the token limit of the internal embedding model, will have their content <strong>truncated</strong> and the indexing quality may be severely affected. To avoid this issue, send documents that contain between 20 and 700 words.</p>
<div class="WARNING">
<h5>Warning</h5>
<p><strong>Attention:</strong> this endpoint incurs cost. The cost is calculated based on the tokens in each document’s content. Each document’s content is tokenized according to the model used for indexing the documents.</p>
</div>
<p>For details on how to bulk‑upload documents, see the endpoint <a href="https://inference.aivax.net/apidocs#IndexDocumentsJSONL">Index Documents (JSONL)</a>.</p>
<h2 id="create-or-update-a-document">Create or update a document</h2>
<p>This endpoint creates or updates a document by its name. When a document is updated, its indexing vectors are reset, meaning the document will re‑enter the queue to be indexed by the indexing engine.</p>
<p>This indexing is not free. The cost is proportional to the number of tokens in the submitted content. The cost is only generated when the document is actually changed. Calling this route with the same document content does not produce a modification, therefore no cost is incurred.</p>
<div class="WARNING">
<h5>Warning</h5>
<p><strong>Attention:</strong> this endpoint incurs cost. The cost is calculated based on the tokens in the file’s content. The file’s content is tokenized according to the model used for indexing the documents.</p>
</div>
<p>For details on how to create or update documents, see the endpoint <a href="https://inference.aivax.net/apidocs#CreateorUpdateDocument">Create or Update Document</a>.</p>
<h2 id="list-documents">List documents</h2>
<p>This endpoint lists all documents available in a collection. You can pass an additional query parameter <code>filter</code> to filter documents by name, tag, or content.</p>
<p>The filter supports expressions that help narrow down what you are looking for:</p>
<ul>
<li><code>-t &quot;tag&quot;</code> – filters documents that have this tag.</li>
<li><code>-r &quot;reference&quot;</code> – filters documents that have this reference ID.</li>
<li><code>-c &quot;content&quot;</code> – filters documents that contain this snippet in their content.</li>
<li><code>-n &quot;name&quot;</code> – filters documents that contain this snippet in their name.</li>
<li><code>in &quot;id&quot;</code> – filters documents by ID.</li>
</ul>
<p>For details on how to list documents, see the endpoint <a href="https://inference.aivax.net/apidocs#BrowseDocuments">Browse Documents</a>.</p>
<h2 id="get-document">Get document</h2>
<p>View details about a specific document.</p>
<p>For details on how to retrieve a document, see the endpoint <a href="https://inference.aivax.net/apidocs#GetDocument">Get Document</a>.</p>
<h2 id="delete-document">Delete document</h2>
<p>Permanently delete a document by its ID.</p>
<p>For details on how to delete a document, see the endpoint <a href="https://inference.aivax.net/apidocs#DeleteDocument">Delete Document</a>.</p>

</article>

                <div class="contribution d-print-none">
                    <a href="https://github.com/CypherPotato/open-indexer-docs/blob/master/docs/en/entities/documents.md/#L1" class="edit-link">Edit this page</a>
                </div>

                <div class="next-article d-print-none border-top" id="nextArticle"></div>

            </div>

            <div class="affix">
                <nav id="affix"></nav>
            </div>
        </main>

        <div class="container-xxl search-results" id="search-results"></div>

        <footer class="border-top text-secondary">
            <div class="container-xxl">
                <div class="flex-fill">
                    <span>Made with <a href="https://dotnet.github.io/docfx">docfx</a></span>
                </div>
            </div>
            <script>
                if (window.location.pathname.startsWith('/docs/')) {
                    document.getElementById('language-wrapper').style.display = 'block';
                }
                
                function splitText(text, words) {
                    if (!Array.isArray(words)) return [];
                    const escapedWords = words.map(word =>
                        word.replace(/([.*+?^${}()|[\]\\])/g, '\\$1').replace(/\s/g, '\\$&'));
                        
                    escapedWords.sort((a, b) => b.length - a.length || b.localeCompare(a, 'en-US', { sensitivity: 'base' }));
                    const pattern = new RegExp(`\\b(${escapedWords.join('|')})\\b`, 'gi');
                    const splitResult = text.split(pattern);
                    const cleanedResult = splitResult.filter(segment => segment !== '');
                    return cleanedResult;
                }
                
                function runPostHljsFunctions() {
                    if (!document.querySelector("pre>code")) {
                        return;
                    }
                    if (!document.querySelector(".hljs")) {
                        setTimeout(runPostHljsFunctions, 100);
                        return;
                    }
                    
                    function highlightMissingCodeTokens(pre) {
                        const tokenClasses = [
                            "HttpResponse", "HttpRequest", "File", "Task",
                            "Router", "Route", "StringContent", "StreamContent",
                            "JsonContent", "RegexRoute", "HtmlContent", "CancellationTokenSource",
                            "HttpContext", "Stream", "MultipartObject", "Thread", "Task", "Encoding",
                            "HttpKnownHeaderNames", "HttpMethod", "List", "JsonSerializer",
                            "LogStream", "HttpServer", "RotatingLogPolicy", "StringBuilder",
                            "Console", "HttpRequestEventSource", "HttpWebSocket", "X509Certificate2",
                            "AppDomain", "Path", "Directory", "HttpServerConfiguration", "ListeningHost",
                            "ByteArrayContent", "ForwardingResolver", "IPAddress", "IPEndPoint",
                            "HttpServerExecutionResult", "ArgumentNullException", "JsonSerializerOptions",
                            "DbContext"
                        ];
                        const tokenValues = [
                            "RouteMethod", "Guid", "RequestHandlerExecutionMode", "HttpStatusCode",
                            "HttpStatusInformation", "DateTime", "TimeSpan", "RouterMethod",
                            "ListeningPort"
                        ];
                        const tokenInterfaces = [
                            "IRequestHandler", "IEnumerable", "ICollection", "IList"
                        ];
                        
                        function runStyles(node) {
                            if (node.nodeType === 3) {
                                applyStyles(node);
                                
                            } else if (node.nodeType === 1) {
                                
                                const prohibitedClasses = ["hljs-comment", "hljs-string"];
                                
                                if (! prohibitedClasses.some(cls => node.classList.contains(cls))) {
                                    for(const child of node.childNodes) {
                                        runStyles(child);
                                    }
                                }
                            }
                        }
                        
                        function applyStyles(textNode) {
                            const text = textNode.textContent;
                            const fragment = [];
                            
                            for (const token of splitText(text, [...tokenClasses, ...tokenValues, ...tokenInterfaces])) {
                                if (tokenClasses.includes(token)) {
                                    fragment.push(el("span.hljs-meta", token));
                                    
                                } else if (tokenValues.includes(token)) {
                                    fragment.push(el("span.hljs-meta-value", token));
                                    
                                } else if (tokenInterfaces.includes(token)) {
                                    fragment.push(el("span.hljs-meta-interface", token));
                                    
                                } else {
                                    fragment.push(token);
                                }
                            }
                            
                            textNode.replaceWith(el.fragment(...fragment));
                        }
                        
                        const code = pre.querySelector("code");
                        if (code && (code.classList.contains("lang-csharp") || code.classList.contains("lang-cs"))) {
                            runStyles(code);
                        }
                    }
                    
                    function addLineNumbers(pre) {
                        const code = pre.querySelector("code");
                        if (!code) return;
                        
                        var lines = (code.textContent.match(/\n/g) || []).length;
                        
                        if (lines <= 1) {
                            return;
                        }
                        
                        const lineElements = [];
                        for (let i = 1; i <= lines; i++) {
                            lineElements.push(el("span.hljs-line-number", i + "\n"));
                        }
                        
                        code.prepend(el("div.line-numbers", ...lineElements));
                        code.classList.add("has-line-numbers");
                    }
                                        
                    document.querySelectorAll("pre").forEach(pre => {
                        highlightMissingCodeTokens(pre);
                        addLineNumbers(pre);
                    });
                }
                
                runPostHljsFunctions();
            </script>
        </footer>
    </body>
</html>