<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Fun&#231;&#245;es | AIVAX </title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="title" content="Fun&#231;&#245;es | AIVAX ">


        <link rel="icon" href="../../assets/img/favicon.ico">
        <link rel="stylesheet" href="../../public/docfx.min.css">
        <link rel="stylesheet" href="../../public/main.css">

        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
        <link href="https://fonts.googleapis.com/css2?family=Geist+Mono:wght@100..900&family=Geist:wght@100..900&display=swap" rel="stylesheet">
        
        <link href="https://cdn.jsdelivr.net/npm/remixicon@4.6.0/fonts/remixicon.css" rel="stylesheet">

        <meta name="docfx:navrel" content="../../toc.html">
        <meta name="docfx:tocrel" content="../toc.html">

        <meta name="docfx:rel" content="../../">


        <meta name="docfx:docurl" content="https://github.com/CypherPotato/open-indexer-docs/blob/master/docs/entities/functions.md/#L1">
        <meta name="loc:inThisArticle" content="In this article">
        <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
        <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
        <meta name="loc:tocFilter" content="Filter by title">
        <meta name="loc:nextArticle" content="Next">
        <meta name="loc:prevArticle" content="Previous">
        <meta name="loc:themeLight" content="Light">
        <meta name="loc:themeDark" content="Dark">
        <meta name="loc:themeAuto" content="Auto">
        <meta name="loc:changeTheme" content="Change theme">
        <meta name="loc:copy" content="Copy">
        <meta name="loc:downloadPdf" content="Download PDF">
        
        <script type="module" src="./../../public/docfx.min.js"></script>
        <script>
            const theme = localStorage.getItem('theme') || 'auto';
            document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
        </script>
        
        <script src="https://unpkg.com/@cypherpotato/el/dist/el.min.js"></script>
                
        <script>            
            function switchLanguage(lang) {
                const docPart = window.location.pathname.match(/\/docs\/((en)\/)?(.*)/)[3];
                const newPath = lang + docPart;
                window.location.href = window.location.origin + newPath;
            }        
        </script>
        
    </head>
    
    
    <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
        <header class="bg-body border-bottom">
            <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
                <div class="container-xxl flex-nowrap">
                    <a class="navbar-brand" href="../../index.html">
                        <img id="logo" class="svg" src="../../assets/img/aivax.png" alt="AIVAX">
                        AIVAX
                    </a>
                    <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
                        <i class="bi bi-three-dots"></i>
                    </button>
                    <div class="collapse navbar-collapse" id="navpanel">
                        <div id="navbar">
                            <form class="search" role="search" id="search">
                                <i class="bi bi-search"></i>
                                <input class="form-control" id="search-query" type="search" disabled="" placeholder="Search" autocomplete="off" aria-label="Search">
                            </form>
                        </div>
                    </div>
                </div>
            </nav>
        </header>

        <main class="container-xxl">
            <div class="toc-offcanvas">
                <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
                    <div class="offcanvas-header">
                        <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
                    </div>
                    <div class="offcanvas-body">
                        <nav class="toc" id="toc"></nav>
                    </div>
                </div>
            </div>

            <div class="content">
                <div class="actionbar">
                    <button class="btn btn-lg border-0 d-md-none" style="margin-top: -.65em; margin-left: -.8em" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
                        <i class="bi bi-list"></i>
                    </button>

                    <nav id="breadcrumb"></nav>

                    <div id="language-wrapper">
                        <a class="btn border-0 dropdown-toggle show" data-bs-toggle="dropdown" aria-expanded="true" title="Change theme">
                            <i class="bi bi-globe"></i>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end language-dropdown">
                            <li>
                                <a class="dropdown-item" href="javascript:switchLanguage('/docs/')">
                                    <img src="/assets/flag/brazil.png">
                                    Português
                                </a>
                            </li>
                            <li>
                                <a class="dropdown-item" href="javascript:switchLanguage('/docs/en/')">
                                    <img src="/assets/flag/usa.png">
                                    English
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>

                <article data-uid="">
<h1 id="funções">Funções</h1>

<p>Funções é uma forma de forçar seu modelo ao processamento de informações usando JSON como intermédio de comunicação. Com as funções, você consegue fazer qualquer modelo responder no formato JSON que você quiser.</p>
<p>Pode ser útil para categorizar comentários, aplicar moderação em avaliações ou processar informações com auxílio da IA.</p>
<p>No momento, só é possível usar funções com <a href="">modelos providos pela AIVAX</a>.</p>
<h2 id="chamar-uma-função">Chamar uma função</h2>
<p>Para chamar uma função de IA, você precisará informar o que a IA deverá responder e fornecer um JSON Schema que ela deverá seguir.</p>
<p>Modelos menos inteligentes tendem a falhar a geração de JSON, gerando um documento inválido ou problemático. Para isso, ajuste seu modelo, a instrução e o parâmetro de tentativas se for necessário.</p>
<p>Você é cobrado por cada tentativa que a IA tentar gerar. Modelos um pouco mais inteligentes tendem a gerar resultados corretos na primeira tentativa. É garantido que um JSON válido será gerado e que esse JSON seguirá o mesmo esquema fornecido na requisição.</p>
<p>Adicionalmente, você pode optar em ativar <strong>pesquisa na internet</strong> para chamada de função. Essa opção pode ser útil para trazer dados relevantes em tempo real ao estruturar sua resposta. Ao usar essa função, um modelo com acesso na internet será usado para obter dados da internet para estruturar sua resposta. Esse modelo também tentará estruturar sua resposta a partir dos dados fornecidos, e se conseguir formular um JSON válido a etapa de chamar o modelo de estruturação é ignorada e a resposta é imediatamente retornada.</p>
<p>Se for o caso do modelo de busca online não conseguir estruturar um JSON válido, o modelo escolhido na requisição ficará responsável por essa tarefa, e irá começar o encadeamento de tentativas de geração. Modelos mais inteligentes acertam a geração nas primeiras tentativas.</p>
<p>Através da propriedade <code>fetch</code>, você pode fornecer uma lista de URLs para serem anexadas no contexto da geração. O AIVAX faz uma requisição GET para acessar os conteúdos fornecidos e renderiza-os no conteúdo da requisição. Somente respostas 2xx ou 3xx são aceitas e o conteúdo da resposta deve ser textual. Respostas em HTML são sanitizadas para incluirem somente o texto da página, sem script e CSS.</p>
<p>O tamanho máximo que pode ser lido de uma URL do fetch é 10 Mb. O máximo de itens para o fetch são 10 URLs.</p>
<p>Requisições que pesquisam na internet trazem bons resultados e dispensam crawlers, scrappers ou a necessidade de pagar por uma API específica, mas podem ser custosas e relativamente lentas para serem obtidas. Considere usar um cache do lado da sua aplicação para dados que não precisam ser constantementes atualizados, como dados meteorológicos, estatísticas diárias, etc. A AIVAX não realiza nenhum cache pelo nosso lado.</p>
<h4 id="requisição">Requisição</h4>
<div class="request-item post">
    <span>POST</span>
    <span>
        /api/v1/functions/json
    </span>
</div>
<pre><code class="lang-json">{
    // Obrigatório. Especifique o nome do modelo integrado que será usado para realizar a ação.
    &quot;modelName&quot;: &quot;@metaai/llama-3.1-8b&quot;,
    
    // Obrigatório. Explique o que seu modelo deverá fazer com a entrada e como ele deve trazer a resposta.
    &quot;instructions&quot;: &quot;Classifique o comentário do usuário, indicando se é positivo ou negativo, e se possui alguma informação relevante (número entre 0 (pouco relevante) e 10 (muito relevante))&quot;,
    
    // Obrigatório. O JSON Schema que o modelo deverá seguir para gerar a resposta. Você pode fornecer exemplos de geração no campo de instruções.
    &quot;responseSchema&quot;: {
        &quot;type&quot;: &quot;object&quot;,
        &quot;properties&quot;: {
            &quot;feedbackType&quot;: {
                &quot;type&quot;: &quot;string&quot;,
                &quot;enum&quot;: [&quot;neutral&quot;, &quot;positive&quot;, &quot;negative&quot;]
            },
            &quot;informationScore&quot;: {
                &quot;type&quot;: &quot;integer&quot;,
                &quot;minimum&quot;: 0,
                &quot;maximum&quot;: 10
            }
        },
        &quot;required&quot;: [&quot;feedbackType&quot;, &quot;informationScore&quot;]
    },
    
    // Opcional. Define uma entrada JSON para o modelo. Pode ser qualquer tipo de valor JSON.
    &quot;inputData&quot;: {
        &quot;userComment&quot;: &quot;Pessimo mercado. Tem guarda dentro te vigiando pra vc nao roubar e os acougueiros te ignoram e atendem mocinhas bonitinhas na tua frente.  Mas graças a Deus tem outros mercados chegando e o fim dessa palhaçada vai chegar&quot;
    },
    
    // Opcional. Define quantas tentativas o modelo deve tentar antes da API retornar um erro. Deve ser um número entre 1 e 30.
    &quot;maxAttempts&quot;: 10,
    
    // Opcional. Define o tempo limite em segundos para obter um JSON válido antes da API retornar um erro. Deve ser um número entre 1 e 3600 (uma hora).
    &quot;timeout&quot;: 300,
    
    // Opcional. Define a temperatura de geração do JSON. Valores maiores tendem a serem mais criativos, enquanto menores mais determinísticos. Número de 0 à 2.
    &quot;temperature&quot;: 0.4,
    
    // Opcional. Adiciona recursos externos para complementar a geração da resposta.
    &quot;fetch&quot;: {
        
        // Obrigatório. Fornece a lista de URLS que o AIVAX irá acessar para complementar a geração de resposta. O máximo são 10 URLs.
        &quot;urls&quot;: [
            &quot;https://url1...&quot;,
            &quot;https://url2...&quot;,
        ],
    
        // Opcional. Define o comportamento do fetch para erros ao tentar acessar o site. Erros incluem respostas que não são 2xx ou 3xx, timeouts, erros de certificados, etc.
        //      fail    -&gt; retorna um erro na resposta da função (padrão)
        //      ignore  -&gt; ignora o erro e adiciona o erro na geração da IA
        &quot;fetchFailAction&quot;: &quot;fail&quot; | &quot;ignore&quot;,
        
        // Opcional. Define o timeout em segundos para o tempo maximo da resposta responder e ler os conteúdos. O máximo é 120 segundos (dois minutos).
        &quot;timeout&quot;: 10,
        
        // Opcional. Define o tamanho máximo do conteúdo em quantidade de caracteres que podem ser incluídos na geração da IA antes de serem truncados.
        &quot;pageMaxLength&quot;: 2048
    }
}
</code></pre>
<h4 id="resposta">Resposta</h4>
<pre><code class="lang-json">{
    &quot;message&quot;: null,
    &quot;data&quot;: {
        // o resultado contém o objeto gerado pela IA, seguindo o &quot;responseSchema&quot;
        &quot;result&quot;: {
            &quot;feedbackType&quot;: &quot;negative&quot;,
            &quot;informationScore&quot;: 8
        },
        
        // em qual tentativa a IA conseguiu um JSON válido
        &quot;attempt&quot;: 1,
        
        // o tempo em milissegundos para obter um JSON válido
        &quot;elapsedMilliseconds&quot;: 527,
        
        // avisos produzidos pela geração
        &quot;warnings&quot;: []
    }
}
</code></pre>
<h2 id="diretrizes-do-json-schema">Diretrizes do JSON Schema</h2>
<p>O formato de resposta deve ser fornecido por um JSON Schema.</p>
<p>Por trás dos panos, a AIVAX guia o modelo para gerar uma resposta com o esquema JSON fornecido. Quando o modelo gera algo inválido, indicamos à ele tentar novamente e corrigir os erros até que a saída esteja conforme a especificação fornecida.</p>
<p>As diretrizes suportadas do JSON Schema da AIVAX são:</p>
<ul>
<li><code>string</code>:
<ul>
<li><code>minLength</code></li>
<li><code>maxLength</code></li>
<li><code>pattern</code></li>
<li><code>format</code>
<ul>
<li>Pode ser <code>date-time</code>, <code>email</code>, <code>time</code>, <code>duration</code>, <code>uri</code>, <code>url</code>, <code>ipv4</code>, <code>ipv6</code>, <code>uuid</code> ou <code>guid</code>.</li>
</ul>
</li>
<li><code>enum</code></li>
</ul>
</li>
<li><code>number</code> e <code>integer</code>:
<ul>
<li><code>minimum</code></li>
<li><code>maximum</code></li>
<li><code>exclusiveMinimum</code></li>
<li><code>exclusiveMaximum</code></li>
<li><code>multipleOf</code></li>
</ul>
</li>
<li><code>array</code>
<ul>
<li><code>items</code></li>
<li><code>uniqueItems</code></li>
<li><code>minItems</code></li>
<li><code>maxItems</code></li>
</ul>
</li>
<li><code>object</code>
<ul>
<li><code>properties</code></li>
<li><code>required</code></li>
</ul>
</li>
<li><code>bool</code> e <code>boolean</code></li>
<li><code>null</code></li>
</ul>
<p>Além disso, é possível informar um ou mais valores no <code>type</code> do objeto, exemplo:</p>
<pre><code class="lang-json">{
    &quot;type&quot;: [&quot;string&quot;, &quot;number&quot;]
}
</code></pre>
<blockquote>
<p>Nota: <code>number</code> e <code>integer</code> são sinônimos e <code>integer</code> não garante que o número será um inteiro. Se necessário, trunque o número retornado.</p>
</blockquote>
<h2 id="funções-em-tempo-real-com-modelos-sentinel">Funções em tempo real com modelos Sentinel</h2>
<p>Você pode usar o agente <code>@aivax/fn-1</code> e <code>@aivax/fn-1-mini</code> para executar funções inteligentes que envolvam pesquisa na internet, execução de código e/ou resolução de contas matemáticas.</p>
<p>Estes agentes são conectados à internet por padrão, portanto, é natural que ele pesquise algo na internet para complementar sua resposta.</p>
<h2 id="exemplos">Exemplos</h2>
<p>Confira exemplos de funções de IA para várias tarefas cotidianas:</p>
<h4 id="resumir-pedido-e-classificar-se-requer-atenção-ou-não">Resumir pedido e classificar se requer atenção ou não</h4>
<div class="request-item post">
    <span>POST</span>
    <span>
        /api/v1/functions/json
    </span>
</div>
<pre><code class="lang-json">{
    &quot;modelName&quot;: &quot;@metaai/llama-4-scout-17b&quot;,
    &quot;instructions&quot;: &quot;Resuma o comentário do usuário, criando uma descrição curta, com no máximo de 10 palavras indicando o que ele quer fazer. Indique também se esse comentário requer atenção ou não.&quot;,
    &quot;responseSchema&quot;: {
        &quot;type&quot;: &quot;object&quot;,
        &quot;properties&quot;: {
            &quot;shortSummary&quot;: {
                &quot;type&quot;: &quot;string&quot;,
                &quot;description&quot;: &quot;Uma breve descrição do que o usuário quer fazer, com no máximo 10 palavras.&quot;
            },
            &quot;requiresAttention&quot;: {
                &quot;type&quot;: &quot;boolean&quot;,
                &quot;description&quot;: &quot;Indica se o comentário requer atenção imediata (true) ou não (false).&quot;
            }
        },
        &quot;required&quot;: [&quot;shortSummary&quot;, &quot;requiresAttention&quot;]
    },
    &quot;inputData&quot;: &quot;O cliente fernando de castro está tentando entrar em contato com o suporte desde sexta-feira e diz q vai cancelar se nao falar com alguém hoje. ele tbm disse que é amigo da rebeca do comercial e está ameaçando falar mal da empresa no tiktok. por favor alguém atende esse cara??&quot;
}
</code></pre>
<pre><code class="lang-json">{
    &quot;message&quot;: null,
    &quot;data&quot;: {
        &quot;result&quot;: {
            &quot;shortSummary&quot;: &quot;Cliente quer contato com suporte para evitar cancelamento e ameaça&quot;,
            &quot;requiresAttention&quot;: true
        },
        &quot;attempt&quot;: 1,
        &quot;elapsedMilliseconds&quot;: 639
    }
}
</code></pre>
<h4 id="avaliar-uma-expressão-matemática">Avaliar uma expressão matemática</h4>
<div class="request-item post">
    <span>POST</span>
    <span>
        /api/v1/functions/json
    </span>
</div>
<pre><code class="lang-json">{
    &quot;modelName&quot;: &quot;@aivax/fn-1&quot;,
    &quot;instructions&quot;: &quot;Avalie a conta matemática informada e forneça o resultado.&quot;,
    &quot;responseSchema&quot;: {
        &quot;type&quot;: &quot;object&quot;,
        &quot;properties&quot;: {
            &quot;result&quot;: {
                &quot;type&quot;: [&quot;string&quot;, &quot;number&quot;],
                &quot;description&quot;: &quot;O resultado da avaliação da expressão matemática.&quot;
            }
        },
        &quot;required&quot;: [&quot;result&quot;]
    },
    &quot;inputData&quot;: {
        &quot;mathProblem&quot;: &quot;12 + (42 / pi) ^ 20&quot;
    }
}
</code></pre>
<pre><code class="lang-json">{
    &quot;message&quot;: null,
    &quot;data&quot;: {
        &quot;result&quot;: {
            &quot;result&quot;: &quot;3.3265063290400284e+22&quot;
        },
        &quot;attempt&quot;: 0,
        &quot;elapsedMilliseconds&quot;: 3869,
        &quot;warnings&quot;: []
    }
}
</code></pre>
<h4 id="trazer-últimas-notícias-e-clima-de-uma-determinada-cidade">Trazer últimas notícias e clima de uma determinada cidade</h4>
<div class="request-item post">
    <span>POST</span>
    <span>
        /api/v1/functions/json
    </span>
</div>
<pre><code class="lang-json">{
    &quot;modelName&quot;: &quot;@aivax/fn-1&quot;,
    &quot;instructions&quot;: &quot;Pesquise as 5 últimas notícias e dados meteorológicos para a cidade informada.&quot;,
    &quot;responseSchema&quot;: {
        &quot;type&quot;: &quot;object&quot;,
        &quot;properties&quot;: {
            &quot;latestNews&quot;: {
                &quot;type&quot;: &quot;array&quot;,
                &quot;items&quot;: {
                    &quot;type&quot;: &quot;object&quot;,
                    &quot;properties&quot;: {
                        &quot;title&quot;: { &quot;type&quot;: &quot;string&quot; },
                        &quot;details&quot;: { &quot;type&quot;: &quot;string&quot; },
                        &quot;link&quot;: { &quot;type&quot;: &quot;string&quot;, &quot;format&quot;: &quot;uri&quot; }
                    },
                    &quot;required&quot;: [&quot;title&quot;, &quot;details&quot;, &quot;link&quot;]
                }
            },
            &quot;weather&quot;: {
                &quot;type&quot;: &quot;object&quot;,
                &quot;properties&quot;: {
                    &quot;currentTemperature&quot;: { &quot;type&quot;: &quot;number&quot; },
                    &quot;currentWeather&quot;: {
                        &quot;type&quot;: &quot;string&quot;,
                        &quot;enum&quot;: [&quot;sunny&quot;, &quot;cloudy&quot;, &quot;rain&quot;, &quot;thunderstorm&quot;, &quot;partly cloudy&quot;, &quot;clear&quot;]
                    },
                    &quot;forecast&quot;: {
                        &quot;type&quot;: &quot;string&quot;,
                        &quot;enum&quot;: [&quot;sunny&quot;, &quot;cloudy&quot;, &quot;rain&quot;, &quot;thunderstorm&quot;, &quot;partly cloudy&quot;, &quot;clear&quot;]
                    }
                },
                &quot;required&quot;: [&quot;currentTemperature&quot;, &quot;currentWeather&quot;, &quot;forecast&quot;]
            }
        },
        &quot;required&quot;: [&quot;latestNews&quot;, &quot;weather&quot;]
    },
    &quot;inputData&quot;: {
        &quot;city&quot;: &quot;São José do Rio Preto&quot;
    }
}
</code></pre>
<pre><code class="lang-json">{
    &quot;message&quot;: null,
    &quot;data&quot;: {
        &quot;result&quot;: {
            &quot;latestNews&quot;: [
                {
                    &quot;title&quot;: &quot;Festival Paralímpico no Instituto Lucy Montoro&quot;,
                    &quot;details&quot;: &quot;Familiares e pacientes do Instituto de Reabilitação Lucy Montoro de Rio Preto (SP) participaram neste sábado (14) do Festival Paralímpico.&quot;,
                    &quot;link&quot;: &quot;https://g1.globo.com/sp/sao-jose-do-rio-preto-aracatuba/cidade/sao-jose-do-rio-preto/&quot;
                },
                {
                    &quot;title&quot;: &quot;Investimento imobiliário na zona Leste de Rio Preto&quot;,
                    &quot;details&quot;: &quot;Empreendimentos residenciais marcam o maior investimento imobiliário na zona Leste de Rio Preto.&quot;,
                    &quot;link&quot;: &quot;https://www.gazetaderiopreto.com.br/&quot;
                },
                {
                    &quot;title&quot;: &quot;Acidente na Washington Luís&quot;,
                    &quot;details&quot;: &quot;Motociclista é hospitalizado após se envolver em acidente na Washington Luís, em Rio Preto.&quot;,
                    &quot;link&quot;: &quot;https://www.diariodaregiao.com.br/cidades&quot;
                },
                {
                    &quot;title&quot;: &quot;Curso gratuito para artistas&quot;,
                    &quot;details&quot;: &quot;Curso gratuito ensina artistas de Rio Preto e região a escrever projetos para editais culturais.&quot;,
                    &quot;link&quot;: &quot;https://www.diariodaregiao.com.br/&quot;
                },
                {
                    &quot;title&quot;: &quot;PIX automático&quot;,
                    &quot;details&quot;: &quot;Modalidade permite pagar contas recorrentes, como de energia, telefone, escolas, academias, entre outras, de forma automática pelo PIX.&quot;,
                    &quot;link&quot;: &quot;https://g1.globo.com/sp/sao-jose-do-rio-preto-aracatuba/&quot;
                }
            ],
            &quot;weather&quot;: {
                &quot;currentTemperature&quot;: 23,
                &quot;currentWeather&quot;: &quot;sunny&quot;,
                &quot;forecast&quot;: &quot;sunny&quot;
            }
        },
        &quot;attempt&quot;: 0,
        &quot;elapsedMilliseconds&quot;: 10990,
        &quot;warnings&quot;: []
    }
}
</code></pre>
<h4 id="trazer-estatísticas-da-covid-19-em-tempo-real">Trazer estatísticas da COVID-19 em tempo real</h4>
<div class="request-item post">
    <span>POST</span>
    <span>
        /api/v1/functions/json
    </span>
</div>
<pre><code class="lang-json">{
    &quot;modelName&quot;: &quot;@aivax/fn-1&quot;,
    &quot;instructions&quot;: &quot;Traga a contagem de casos e mortes por COVID-19.&quot;,
    &quot;responseSchema&quot;: {
        &quot;type&quot;: &quot;object&quot;,
        &quot;properties&quot;: {
            &quot;deathsWorld&quot;: { &quot;type&quot;: &quot;integer&quot;, &quot;description&quot;: &quot;Número total de mortes por COVID-19 no mundo.&quot; },
            &quot;deathsBrazil&quot;: { &quot;type&quot;: &quot;integer&quot;, &quot;description&quot;: &quot;Número total de mortes por COVID-19 no Brasil.&quot; },
            &quot;casesWorld&quot;: { &quot;type&quot;: &quot;integer&quot;, &quot;description&quot;: &quot;Número total de casos de COVID-19 no mundo.&quot; },
            &quot;casesBrazil&quot;: { &quot;type&quot;: &quot;integer&quot;, &quot;description&quot;: &quot;Número total de casos de COVID-19 no Brasil.&quot; }
        },
        &quot;required&quot;: [&quot;deathsWorld&quot;, &quot;deathsBrazil&quot;, &quot;casesWorld&quot;, &quot;casesBrazil&quot;]
    }
}
</code></pre>
<pre><code class="lang-json">{
    &quot;message&quot;: null,
    &quot;data&quot;: {
        &quot;result&quot;: {
            &quot;deathsWorld&quot;: 7010681,
            &quot;deathsBrazil&quot;: 711380,
            &quot;casesWorld&quot;: 704753890,
            &quot;casesBrazil&quot;: 38743918
        },
        &quot;attempt&quot;: 1,
        &quot;elapsedMilliseconds&quot;: 1620
    }
}
</code></pre>
<h4 id="trazer-artistas-em-alta-por-gênero-musical">Trazer artistas em alta por gênero musical</h4>
<div class="request-item post">
    <span>POST</span>
    <span>
        /api/v1/functions/json
    </span>
</div>
<pre><code class="lang-json">{
    &quot;modelName&quot;: &quot;@aivax/fn-1&quot;,
    &quot;instructions&quot;: &quot;Pesquise e formate uma lista de 10 artistas no TOP 10 do streaming musical por gênero.&quot;,
    &quot;responseSchema&quot;: {
        &quot;type&quot;: &quot;object&quot;,
        &quot;properties&quot;: {
            &quot;edm&quot;: {
                &quot;type&quot;: &quot;array&quot;,
                &quot;items&quot;: { &quot;type&quot;: &quot;string&quot;, &quot;description&quot;: &quot;Nome de um artista de EDM em alta.&quot; },
                &quot;minItems&quot;: 10,
                &quot;maxItems&quot;: 10
            },
            &quot;rap&quot;: {
                &quot;type&quot;: &quot;array&quot;,
                &quot;items&quot;: { &quot;type&quot;: &quot;string&quot;, &quot;description&quot;: &quot;Nome de um artista de Rap em alta.&quot; },
                &quot;minItems&quot;: 10,
                &quot;maxItems&quot;: 10
            },
            &quot;pop&quot;: {
                &quot;type&quot;: &quot;array&quot;,
                &quot;items&quot;: { &quot;type&quot;: &quot;string&quot;, &quot;description&quot;: &quot;Nome de um artista Pop em alta.&quot; },
                &quot;minItems&quot;: 10,
                &quot;maxItems&quot;: 10
            }
        },
        &quot;required&quot;: [&quot;edm&quot;, &quot;rap&quot;, &quot;pop&quot;]
    },
    &quot;inputData&quot;: null
}
</code></pre>
<pre><code class="lang-json">{
    &quot;message&quot;: null,
    &quot;data&quot;: {
        &quot;result&quot;: {
            &quot;edm&quot;: [
                &quot;Marshmello&quot;,
                &quot;Swedish House Mafia&quot;,
                &quot;Skrillex&quot;,
                &quot;Illenium&quot;,
                &quot;John Summit&quot;,
                &quot;Kaskade&quot;,
                &quot;Daft Punk&quot;,
                &quot;Deadmau5&quot;,
                &quot;Avicii&quot;,
                &quot;Calvin Harris&quot;
            ],
            &quot;rap&quot;: [
                &quot;Drake&quot;,
                &quot;Kendrick Lamar&quot;,
                &quot;Eminem&quot;,
                &quot;Travis Scott&quot;,
                &quot;J. Cole&quot;,
                &quot;Nicki Minaj&quot;,
                &quot;21 Savage&quot;,
                &quot;Metro Boomin&quot;,
                &quot;Lil Wayne&quot;,
                &quot;Bad Bunny&quot;
            ],
            &quot;pop&quot;: [
                &quot;Taylor Swift&quot;,
                &quot;Bruno Mars&quot;,
                &quot;The Weeknd&quot;,
                &quot;Lady Gaga&quot;,
                &quot;Billie Eilish&quot;,
                &quot;Sabrina Carpenter&quot;,
                &quot;Ariana Grande&quot;,
                &quot;Ed Sheeran&quot;,
                &quot;Post Malone&quot;,
                &quot;Doja Cat&quot;
            ]
        },
        &quot;attempt&quot;: 0,
        &quot;elapsedMilliseconds&quot;: 14961,
        &quot;warnings&quot;: []
    }
}
</code></pre>

</article>

                <div class="contribution d-print-none">
                    <a href="https://github.com/CypherPotato/open-indexer-docs/blob/master/docs/entities/functions.md/#L1" class="edit-link">Edit this page</a>
                </div>

                <div class="next-article d-print-none border-top" id="nextArticle"></div>

            </div>

            <div class="affix">
                <nav id="affix"></nav>
            </div>
        </main>

        <div class="container-xxl search-results" id="search-results"></div>

        <footer class="border-top text-secondary">
            <div class="container-xxl">
                <div class="flex-fill">
                    <span>Made with <a href="https://dotnet.github.io/docfx">docfx</a></span>
                </div>
            </div>
            <script>
                if (window.location.pathname.startsWith('/docs/')) {
                    document.getElementById('language-wrapper').style.display = 'block';
                }
                
                function splitText(text, words) {
                    if (!Array.isArray(words)) return [];
                    const escapedWords = words.map(word =>
                        word.replace(/([.*+?^${}()|[\]\\])/g, '\\$1').replace(/\s/g, '\\$&'));
                        
                    escapedWords.sort((a, b) => b.length - a.length || b.localeCompare(a, 'en-US', { sensitivity: 'base' }));
                    const pattern = new RegExp(`\\b(${escapedWords.join('|')})\\b`, 'gi');
                    const splitResult = text.split(pattern);
                    const cleanedResult = splitResult.filter(segment => segment !== '');
                    return cleanedResult;
                }
                
                function runPostHljsFunctions() {
                    if (!document.querySelector("pre>code")) {
                        return;
                    }
                    if (!document.querySelector(".hljs")) {
                        setTimeout(runPostHljsFunctions, 100);
                        return;
                    }
                    
                    function highlightMissingCodeTokens(pre) {
                        const tokenClasses = [
                            "HttpResponse", "HttpRequest", "File", "Task",
                            "Router", "Route", "StringContent", "StreamContent",
                            "JsonContent", "RegexRoute", "HtmlContent", "CancellationTokenSource",
                            "HttpContext", "Stream", "MultipartObject", "Thread", "Task", "Encoding",
                            "HttpKnownHeaderNames", "HttpMethod", "List", "JsonSerializer",
                            "LogStream", "HttpServer", "RotatingLogPolicy", "StringBuilder",
                            "Console", "HttpRequestEventSource", "HttpWebSocket", "X509Certificate2",
                            "AppDomain", "Path", "Directory", "HttpServerConfiguration", "ListeningHost",
                            "ByteArrayContent", "ForwardingResolver", "IPAddress", "IPEndPoint",
                            "HttpServerExecutionResult", "ArgumentNullException", "JsonSerializerOptions",
                            "DbContext"
                        ];
                        const tokenValues = [
                            "RouteMethod", "Guid", "RequestHandlerExecutionMode", "HttpStatusCode",
                            "HttpStatusInformation", "DateTime", "TimeSpan", "RouterMethod",
                            "ListeningPort"
                        ];
                        const tokenInterfaces = [
                            "IRequestHandler", "IEnumerable", "ICollection", "IList"
                        ];
                        
                        function runStyles(node) {
                            if (node.nodeType === 3) {
                                applyStyles(node);
                                
                            } else if (node.nodeType === 1) {
                                
                                const prohibitedClasses = ["hljs-comment", "hljs-string"];
                                
                                if (! prohibitedClasses.some(cls => node.classList.contains(cls))) {
                                    for(const child of node.childNodes) {
                                        runStyles(child);
                                    }
                                }
                            }
                        }
                        
                        function applyStyles(textNode) {
                            const text = textNode.textContent;
                            const fragment = [];
                            
                            for (const token of splitText(text, [...tokenClasses, ...tokenValues, ...tokenInterfaces])) {
                                if (tokenClasses.includes(token)) {
                                    fragment.push(el("span.hljs-meta", token));
                                    
                                } else if (tokenValues.includes(token)) {
                                    fragment.push(el("span.hljs-meta-value", token));
                                    
                                } else if (tokenInterfaces.includes(token)) {
                                    fragment.push(el("span.hljs-meta-interface", token));
                                    
                                } else {
                                    fragment.push(token);
                                }
                            }
                            
                            textNode.replaceWith(el.fragment(...fragment));
                        }
                        
                        const code = pre.querySelector("code");
                        if (code && (code.classList.contains("lang-csharp") || code.classList.contains("lang-cs"))) {
                            runStyles(code);
                        }
                    }
                    
                    function addLineNumbers(pre) {
                        const code = pre.querySelector("code");
                        if (!code) return;
                        
                        var lines = (code.textContent.match(/\n/g) || []).length;
                        
                        if (lines <= 1) {
                            return;
                        }
                        
                        const lineElements = [];
                        for (let i = 1; i <= lines; i++) {
                            lineElements.push(el("span.hljs-line-number", i + "\n"));
                        }
                        
                        code.prepend(el("div.line-numbers", ...lineElements));
                        code.classList.add("has-line-numbers");
                    }
                                        
                    document.querySelectorAll("pre").forEach(pre => {
                        highlightMissingCodeTokens(pre);
                        addLineNumbers(pre);
                    });
                }
                
                runPostHljsFunctions();
            </script>
        </footer>
    </body>
</html>