<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Skills vs. RAG vs. System Prompt: Entendendo as diferen&#231;as | AIVAX </title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="title" content="Skills vs. RAG vs. System Prompt: Entendendo as diferen&#231;as | AIVAX ">


        <link rel="icon" href="../assets/img/favicon.ico">
        <link rel="stylesheet" href="../public/docfx.min.css">
        <link rel="stylesheet" href="../public/main.css">

        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Geist+Mono:wght@100..900&family=Geist:wght@100..900&display=swap" rel="stylesheet">
        
        <link href="https://cdn.jsdelivr.net/npm/remixicon@4.6.0/fonts/remixicon.css" rel="stylesheet">

        <meta name="docfx:navrel" content="../toc.html">
        <meta name="docfx:tocrel" content="toc.html">

        <meta name="docfx:rel" content="../">


        <meta name="docfx:docurl" content="https://github.com/CypherPotato/open-indexer-docs/blob/master/docs/concepts-comparison.md/#L1">
        <meta name="loc:inThisArticle" content="In this article">
        <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
        <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
        <meta name="loc:tocFilter" content="Filter by title">
        <meta name="loc:nextArticle" content="Next">
        <meta name="loc:prevArticle" content="Previous">
        <meta name="loc:themeLight" content="Light">
        <meta name="loc:themeDark" content="Dark">
        <meta name="loc:themeAuto" content="Auto">
        <meta name="loc:changeTheme" content="Change theme">
        <meta name="loc:copy" content="Copy">
        <meta name="loc:downloadPdf" content="Download PDF">
        
        <script type="module" src="./../public/docfx.min.js"></script>
        <script>
            const theme = localStorage.getItem('theme') || 'auto';
            document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
        </script>
        
        <script src="https://unpkg.com/@cypherpotato/el/dist/el.min.js"></script>
                
        <script>            
            function switchLanguage(lang) {
                const docPart = window.location.pathname.match(/\/docs\/((en)\/)?(.*)/)[3];
                const newPath = lang + docPart;
                window.location.href = window.location.origin + newPath;
            }        
        </script>
        
    </head>
    
    
    <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
        <header class="bg-body border-bottom">
            <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
                <div class="container-xxl flex-nowrap">
                    <a class="navbar-brand" href="../index.html">
                        <img id="logo" class="svg" src="../assets/img/aivax.png" alt="AIVAX">
                        AIVAX
                    </a>
                    <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
                        <i class="bi bi-three-dots"></i>
                    </button>
                    <div class="collapse navbar-collapse" id="navpanel">
                        <div id="navbar">
                            <form class="search" role="search" id="search">
                                <i class="bi bi-search"></i>
                                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">
                            </form>
                        </div>
                    </div>
                </div>
            </nav>
        </header>

        <main class="container-xxl">
            <div class="toc-offcanvas">
                <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
                    <div class="offcanvas-header">
                        <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
                    </div>
                    <div class="offcanvas-body">
                        <nav class="toc" id="toc"></nav>
                    </div>
                </div>
            </div>

            <div class="content">
                <div class="actionbar">
                    <button class="btn btn-lg border-0 d-md-none" style="margin-top: -.65em; margin-left: -.8em" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
                        <i class="bi bi-list"></i>
                    </button>

                    <nav id="breadcrumb"></nav>

                    <div id="language-wrapper">
                        <a class="btn border-0 dropdown-toggle show" data-bs-toggle="dropdown" aria-expanded="true" title="Change theme">
                            <i class="bi bi-globe"></i>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end language-dropdown">
                            <li>
                                <a class="dropdown-item" href="javascript:switchLanguage('/docs/')">
                                    <img src="/assets/flag/brazil.png">
                                    Portugu√™s
                                </a>
                            </li>
                            <li>
                                <a class="dropdown-item" href="javascript:switchLanguage('/docs/en/')">
                                    <img src="/assets/flag/usa.png">
                                    English
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>

                <article data-uid="">
<h1 id="skills-vs-rag-vs-system-prompt-entendendo-as-diferen√ßas">Skills vs. RAG vs. System Prompt: Entendendo as diferen√ßas</h1>

<p>Ao construir sistemas de IA, √© fundamental compreender as diferen√ßas entre <strong>Skills (Habilidades)</strong>, <strong>RAG (Retrieval-Augmented Generation)</strong> e <strong>System Prompt (Instru√ß√µes de Sistema)</strong>. Cada abordagem serve prop√≥sitos espec√≠ficos e √© otimizada para diferentes cen√°rios. Esta p√°gina explora em detalhes como cada t√©cnica funciona, quando utiliz√°-las e suas principais diferen√ßas.</p>
<h2 id="em-termos-simples-qual-a-diferen√ßa">Em termos simples: Qual a diferen√ßa?</h2>
<p>Pense no seu assistente de IA como um funcion√°rio em uma empresa:</p>
<h3 id="-system-prompt--personalidade-e-valores-da-pessoa">üé≠ System Prompt = Personalidade e valores da pessoa</h3>
<p>√â como a personalidade, valores e comportamento b√°sico do funcion√°rio. Define como ele age, fala e se comporta em <strong>todas</strong> as situa√ß√µes.</p>
<p><strong>Exemplo pr√°tico</strong>: &quot;Seja sempre educado&quot;, &quot;Fale de forma profissional&quot;, &quot;Nunca invente informa√ß√µes&quot;</p>
<p><strong>Use quando</strong>: Voc√™ quer que o comportamento seja <strong>sempre igual</strong>, independente da situa√ß√£o.</p>
<hr>
<h3 id="-skills--especializa√ß√µes-que-a-pessoa-sabe-fazer">üéì Skills = Especializa√ß√µes que a pessoa sabe fazer</h3>
<p>S√£o habilidades especiais que o funcion√°rio pode usar <strong>quando necess√°rio</strong>. Como ter um especialista em diferentes √°reas que s√≥ √© chamado quando precisa.</p>
<p><strong>Exemplo pr√°tico</strong>:</p>
<ul>
<li>Precisa falar com executivos? Ativa a skill &quot;Comunica√ß√£o Executiva&quot;</li>
<li>Precisa analisar c√≥digo? Ativa a skill &quot;Code Review&quot;</li>
<li>Precisa resolver problema t√©cnico? Ativa a skill &quot;Troubleshooting&quot;</li>
</ul>
<p><strong>Use quando</strong>: Voc√™ precisa de <strong>diferentes formas de fazer as coisas</strong> dependendo da situa√ß√£o. O pr√≥prio modelo decide qual skill usar baseado no que o usu√°rio est√° pedindo.</p>
<hr>
<h3 id="-rag-cole√ß√µes--manual-de-instru√ß√µes-e-documentos">üìö RAG (Cole√ß√µes) = Manual de instru√ß√µes e documentos</h3>
<p>√â como ter acesso a uma biblioteca de documentos, manuais e informa√ß√µes espec√≠ficas da empresa. O funcion√°rio <strong>busca informa√ß√µes</strong> quando precisa de dados espec√≠ficos.</p>
<p><strong>Exemplo pr√°tico</strong>:</p>
<ul>
<li>&quot;Qual a pol√≠tica de f√©rias?&quot; ‚Üí Busca no manual de RH</li>
<li>&quot;Como configurar o produto X?&quot; ‚Üí Busca no manual do produto</li>
<li>&quot;Qual o pre√ßo do item Y?&quot; ‚Üí Busca no cat√°logo de produtos</li>
</ul>
<p><strong>Use quando</strong>: Voc√™ tem <strong>informa√ß√µes espec√≠ficas, dados e fatos</strong> que mudam com frequ√™ncia ou s√£o muito extensos para colocar nas instru√ß√µes.</p>
<hr>
<h2 id="-perguntas-r√°pidas-para-decidir">ü§î Perguntas r√°pidas para decidir</h2>
<p><strong>Minha informa√ß√£o muda com frequ√™ncia?</strong></p>
<ul>
<li>‚úÖ Sim ‚Üí Use <strong>RAG</strong> (Cole√ß√µes)</li>
<li>‚ùå N√£o, √© fixa ‚Üí Use <strong>System Prompt</strong> ou <strong>Skills</strong></li>
</ul>
<p><strong>√â um comportamento ou uma informa√ß√£o?</strong></p>
<ul>
<li>üé≠ Comportamento (como fazer) ‚Üí Use <strong>Skills</strong></li>
<li>üìÑ Informa√ß√£o (o que √©) ‚Üí Use <strong>RAG</strong></li>
</ul>
<p><strong>Deve ser usado sempre ou s√≥ √†s vezes?</strong></p>
<ul>
<li>üîÑ Sempre ‚Üí Use <strong>System Prompt</strong></li>
<li>üéØ √Äs vezes ‚Üí Use <strong>Skills</strong> ou <strong>RAG</strong></li>
</ul>
<p><strong>√â curto ou longo?</strong></p>
<ul>
<li>üìù Curto (poucas frases) ‚Üí Use <strong>System Prompt</strong></li>
<li>üìñ Longo (p√°ginas de informa√ß√£o) ‚Üí Use <strong>RAG</strong></li>
<li>üéì M√©dio (instru√ß√µes detalhadas) ‚Üí Use <strong>Skills</strong></li>
</ul>
<hr>
<h2 id="system-prompt-instru√ß√µes-de-sistema">System Prompt (Instru√ß√µes de Sistema)</h2>
<p>System Prompt s√£o instru√ß√µes fixas que definem o comportamento fundamental do modelo de IA. Elas estabelecem a personalidade, o tom, as regras b√°sicas e o papel que o agente deve desempenhar em todas as intera√ß√µes.</p>
<p><strong>Caracter√≠sticas principais</strong>:</p>
<ul>
<li><strong>Sempre ativo</strong>: Presente em cada requisi√ß√£o ao modelo</li>
<li><strong>Est√°tico</strong>: N√£o muda durante a conversa</li>
<li><strong>Priorit√°rio</strong>: Tem alta influ√™ncia sobre o comportamento do modelo</li>
<li><strong>Conciso</strong>: Deve ser breve para economizar tokens</li>
<li><strong>Universal</strong>: Aplica-se a todos os tipos de requisi√ß√£o</li>
</ul>
<p><strong>Quando usar System Prompt</strong>:</p>
<ol>
<li><p><strong>Definir personalidade e tom</strong></p>
<pre><code class="lang-markdown">Voc√™ √© um assistente t√©cnico experiente e amig√°vel.
Sempre responda de forma clara, profissional e did√°tica.
Use exemplos pr√°ticos sempre que poss√≠vel.
</code></pre>
</li>
<li><p><strong>Estabelecer regras universais</strong></p>
<pre><code class="lang-markdown">- Nunca invente informa√ß√µes que voc√™ n√£o sabe
- Sempre cite fontes quando fornecidas
- Quando incerto, admita e ofere√ßa alternativas
- Priorize seguran√ßa e boas pr√°ticas em todas as sugest√µes
</code></pre>
</li>
<li><p><strong>Definir formato de resposta padr√£o</strong></p>
<pre><code class="lang-markdown">Estruture suas respostas em:
1. Resumo executivo
2. Explica√ß√£o detalhada
3. Exemplos pr√°ticos
4. Pr√≥ximos passos recomendados
</code></pre>
</li>
<li><p><strong>Restri√ß√µes de seguran√ßa e conformidade</strong></p>
<pre><code class="lang-markdown">- Nunca forne√ßa conselhos m√©dicos, legais ou financeiros espec√≠ficos
- N√£o processe informa√ß√µes pessoalmente identific√°veis
- Recuse solicita√ß√µes que violem pol√≠ticas de uso
</code></pre>
</li>
</ol>
<p><strong>Limita√ß√µes do System Prompt</strong>:</p>
<ul>
<li>‚ùå N√£o √© aconselh√°vel ter informa√ß√µes extensas (consumo constante de tokens)</li>
<li>‚ùå N√£o se adapta dinamicamente ao contexto</li>
<li>‚ùå Dif√≠cil de manter m√∫ltiplos comportamentos especializados</li>
</ul>
<p><strong>Exemplo pr√°tico</strong>:</p>
<pre><code class="lang-markdown"># System Prompt para assistente de c√≥digo
Voc√™ √© um desenvolvedor s√™nior especializado em revis√£o de c√≥digo.

Diretrizes:
- Analise c√≥digo com foco em legibilidade, manutenibilidade e performance
- Sugira melhorias seguindo princ√≠pios SOLID e clean code
- Sempre explique o &quot;porqu√™&quot; das suas sugest√µes
- Forne√ßa exemplos de c√≥digo refatorado quando apropriado
- Seja construtivo e educativo nas cr√≠ticas

Formato de resposta:
1. Resumo da an√°lise
2. Pontos positivos
3. √Åreas de melhoria
4. C√≥digo refatorado (se aplic√°vel)
</code></pre>
<p>Veja tamb√©m:</p>
<ul>
<li><a href="/docs/entities/ai-gateways/ai-gateway">Configurando AI Gateway</a></li>
<li><a href="/docs/models">Modelos e Instru√ß√µes de Sistema</a></li>
</ul>
<h2 id="skills-habilidades">Skills (Habilidades)</h2>
<p>Skills s√£o conjuntos de instru√ß√µes especializadas que s√£o carregadas <strong>sob demanda</strong> quando o modelo identifica que uma tarefa espec√≠fica requer conhecimento ou comportamento especializado. Funcionam como &quot;m√≥dulos de expertise&quot; que podem ser ativados dinamicamente.</p>
<p><strong>Caracter√≠sticas principais</strong>:</p>
<ul>
<li><strong>Ativa√ß√£o sob demanda</strong>: Carregadas apenas quando necess√°rio</li>
<li><strong>Din√¢micas</strong>: O modelo escolhe qual skill usar baseado no contexto</li>
<li><strong>Especializadas</strong>: Cada skill foca em um dom√≠nio espec√≠fico</li>
<li><strong>Econ√¥micas em tokens</strong>: S√≥ consomem tokens quando ativadas</li>
<li><strong>Intercambi√°veis</strong>: O modelo pode alternar entre skills durante a conversa</li>
</ul>
<p><strong>Como funcionam</strong>:
O modelo recebe uma lista de skills dispon√≠veis (nome + descri√ß√£o breve). Quando identifica que precisa de expertise espec√≠fica, chama uma fun√ß√£o especial para carregar as instru√ß√µes completas da skill, que s√£o ent√£o injetadas temporariamente no contexto.</p>
<p><strong>Quando usar Skills</strong>:</p>
<ol>
<li><p><strong>M√∫ltiplas √°reas de especializa√ß√£o</strong></p>
<pre><code class="lang-markdown"># Skill: An√°lise de SQL Performance
Descri√ß√£o: Use para otimizar queries SQL e resolver problemas de performance em bancos de dados

Instru√ß√µes:
- Analise planos de execu√ß√£o (EXPLAIN)
- Identifique missing indexes
- Sugira otimiza√ß√µes espec√≠ficas para o SGBD
- Considere impacto de JOIN, subqueries e CTEs
- Avalie necessidade de desnormaliza√ß√£o
</code></pre>
</li>
<li><p><strong>Diferentes personas ou tons de comunica√ß√£o</strong></p>
<pre><code class="lang-markdown"># Skill: Comunica√ß√£o C-Level
Descri√ß√£o: Use ao criar apresenta√ß√µes ou comunica√ß√µes para executivos

Instru√ß√µes:
- Foque em impacto nos neg√≥cios e ROI
- Use linguagem n√£o-t√©cnica
- Apresente dados em formato executivo (resumos, m√©tricas-chave)
- Destaque riscos e oportunidades estrat√©gicas
- Seja conciso - m√°ximo 3 pontos principais
</code></pre>
</li>
<li><p><strong>Frameworks e metodologias espec√≠ficas</strong></p>
<pre><code class="lang-markdown"># Skill: Arquitetura Event-Driven
Descri√ß√£o: Use para design de sistemas baseados em eventos e mensageria

Instru√ß√µes:
- Aplique padr√µes: Event Sourcing, CQRS, Saga
- Considere consist√™ncia eventual
- Avalie message brokers apropriados (Kafka, RabbitMQ, SNS/SQS)
- Projete eventos com schema evolution em mente
- Implemente idempot√™ncia e dead letter queues
</code></pre>
</li>
<li><p><strong>Conhecimento de dom√≠nio extenso</strong></p>
<pre><code class="lang-markdown"># Skill: Compliance LGPD
Descri√ß√£o: Use ao lidar com quest√µes de privacidade e prote√ß√£o de dados no Brasil

Instru√ß√µes:
- Verifique conformidade com LGPD (Lei 13.709/2018)
- Identifique dados pessoais e sens√≠veis
- Avalie bases legais para tratamento
- Sugira medidas de seguran√ßa apropriadas
- Considere direitos dos titulares (acesso, corre√ß√£o, exclus√£o)
- Avalie necessidade de DPO e RIPD
</code></pre>
</li>
</ol>
<p><strong>Vantagens das Skills</strong>:</p>
<ul>
<li>‚úÖ Especializa√ß√£o profunda sem sobrecarregar o prompt base</li>
<li>‚úÖ Economia de tokens (s√≥ usa o necess√°rio)</li>
<li>‚úÖ Flexibilidade para m√∫ltiplos dom√≠nios</li>
<li>‚úÖ Manuten√ß√£o modular (edite skills independentemente)</li>
<li>‚úÖ Escala melhor que System Prompt para conhecimento diverso</li>
</ul>
<p><strong>Limita√ß√µes das Skills</strong>:</p>
<ul>
<li>‚ùå Requer modelos com suporte a function calling</li>
<li>‚ùå O modelo pode n√£o escolher a skill correta</li>
<li>‚ùå Lat√™ncia adicional na primeira ativa√ß√£o</li>
<li>‚ùå Complexidade de implementa√ß√£o maior</li>
</ul>
<p><strong>Exemplo de fluxo</strong>:</p>
<pre><code>Usu√°rio: &quot;Como otimizar esta query que est√° demorando 30 segundos?&quot;

1. Modelo identifica necessidade de expertise em SQL
2. Chama fun√ß√£o: load_skill(&quot;An√°lise de SQL Performance&quot;)
3. Instru√ß√µes da skill s√£o injetadas no contexto
4. Modelo responde com an√°lise especializada
5. Skill permanece ativa at√© que outra seja necess√°ria
</code></pre>
<p>Veja tamb√©m:</p>
<ul>
<li><a href="/docs/skills">Habilidades (Skills)</a></li>
<li><a href="/docs/protocol-functions">Fun√ß√µes de Protocolo</a></li>
</ul>
<h2 id="rag-retrieval-augmented-generation">RAG (Retrieval-Augmented Generation)</h2>
<p><strong>O que √©</strong>: RAG √© uma t√©cnica que combina recupera√ß√£o de informa√ß√µes (retrieval) com gera√ß√£o de texto. O sistema busca em uma base de conhecimento informa√ß√µes relevantes para a consulta do usu√°rio e as fornece como contexto para o modelo gerar uma resposta fundamentada.</p>
<p>O m√≥dulo de RAG √© implementado atrav√©s de <strong><a href="/docs/entities/collections">Cole√ß√µes</a></strong> que cont√™m <strong><a href="/docs/entities/documents">Documentos</a></strong>. Cada cole√ß√£o √© uma biblioteca de conhecimento que abriga v√°rios documentos indexados, prontos para serem recuperados quando relevantes. Voc√™ pode usar o RAG da AIVAX de forma independente ou atrav√©s de um AI Gateway.</p>
<p><strong>Caracter√≠sticas principais</strong>:</p>
<ul>
<li><strong>Baseado em dados reais</strong>: Usa documentos espec√≠ficos da sua base de conhecimento</li>
<li><strong>Din√¢mico</strong>: Informa√ß√µes podem ser atualizadas adicionando/modificando documentos</li>
<li><strong>Escal√°vel</strong>: Suporta milhares de documentos por cole√ß√£o</li>
<li><strong>Rastre√°vel</strong>: Pode citar fontes e documentos espec√≠ficos</li>
<li><strong>Espec√≠fico do dom√≠nio</strong>: Ideal para bases de conhecimento corporativas</li>
</ul>
<p><strong>Como funciona na AIVAX</strong>:</p>
<ol>
<li>Voc√™ cria uma <strong>Cole√ß√£o</strong> para organizar documentos por finalidade (produto, empresa, servi√ßo)</li>
<li>Adiciona <strong>Documentos</strong> √† cole√ß√£o - cada documento cont√©m informa√ß√µes sobre um t√≥pico espec√≠fico</li>
<li>Documentos s√£o processados e convertidos em embeddings (vetores) automaticamente</li>
<li>Vincula a cole√ß√£o ao seu <strong>AI Gateway</strong> atrav√©s do pipeline de RAG</li>
<li>Quando usu√°rio faz uma pergunta, a AIVAX busca documentos relevantes na cole√ß√£o</li>
<li>Documentos recuperados s√£o inseridos no contexto do modelo</li>
<li>Modelo gera resposta fundamentada nos documentos encontrados</li>
</ol>
<p><strong>Quando usar RAG (Cole√ß√µes)</strong>:</p>
<ol>
<li><p><strong>Base de conhecimento corporativa</strong></p>
<ul>
<li>Pol√≠ticas e procedimentos internos</li>
<li>Manuais de RH e benef√≠cios</li>
<li>Processos operacionais</li>
<li>FAQs da empresa</li>
</ul>
</li>
<li><p><strong>Documenta√ß√£o t√©cnica extensa</strong></p>
<ul>
<li>Manuais de produto</li>
<li>APIs e refer√™ncias t√©cnicas</li>
<li>Artigos de troubleshooting</li>
<li>Guias de instala√ß√£o e configura√ß√£o</li>
</ul>
</li>
<li><p><strong>Informa√ß√µes que mudam frequentemente</strong></p>
<ul>
<li>Cat√°logos de produtos e pre√ßos</li>
<li>Regulamenta√ß√µes e compliance</li>
<li>Status e atualiza√ß√µes de sistemas</li>
<li>Not√≠cias e comunicados</li>
</ul>
</li>
<li><p><strong>Responder com fontes cit√°veis</strong></p>
<ul>
<li>Documenta√ß√£o legal e contratos</li>
<li>Normas e regulamenta√ß√µes</li>
<li>Artigos cient√≠ficos e pesquisas</li>
<li>Hist√≥rico de decis√µes e precedentes</li>
</ul>
</li>
<li><p><strong>Compliance e auditoria</strong></p>
<ul>
<li>Rastreabilidade de onde v√™m as informa√ß√µes</li>
<li>Garantia de que respostas s√£o baseadas em documentos oficiais</li>
<li>Atualiza√ß√£o autom√°tica quando documentos s√£o modificados</li>
<li>Versionamento e controle de mudan√ßas</li>
</ul>
</li>
</ol>
<p><strong>Vantagens do RAG (Cole√ß√µes na AIVAX)</strong>:</p>
<ul>
<li>‚úÖ Acesso a informa√ß√µes atualizadas sem retreinar o modelo</li>
<li>‚úÖ Reduz alucina√ß√µes (informa√ß√µes inventadas pelo modelo)</li>
<li>‚úÖ Transpar√™ncia com cita√ß√£o de fontes e documentos</li>
<li>‚úÖ Escala para milhares de documentos organizados em cole√ß√µes</li>
<li>‚úÖ Informa√ß√µes propriet√°rias/confidenciais ficam seguras e privadas</li>
<li>‚úÖ F√°cil manuten√ß√£o: adicione, edite ou remova documentos a qualquer momento</li>
<li>‚úÖ Sem custo de armazenamento de cole√ß√µes (apenas custo de indexa√ß√£o)</li>
</ul>
<p><strong>Limita√ß√µes do RAG (Cole√ß√µes)</strong>:</p>
<ul>
<li>‚ùå Qualidade depende de como os documentos s√£o escritos e organizados</li>
<li>‚ùå Custos de indexa√ß√£o de documentos (por tokens processados)</li>
<li>‚ùå Lat√™ncia adicional para busca na cole√ß√£o</li>
<li>‚ùå Requer organiza√ß√£o e estrutura√ß√£o adequada dos documentos</li>
<li>‚ùå Documentos muito longos ou mal escritos reduzem a qualidade</li>
</ul>
<p><strong>Como criar documentos eficazes</strong>:</p>
<p>Para obter os melhores resultados com RAG na AIVAX, siga estas diretrizes ao criar documentos:</p>
<p>‚úÖ <strong>Fa√ßa</strong>:</p>
<ul>
<li>Foque cada documento em um √∫nico t√≥pico ou assunto</li>
<li>Seja expl√≠cito e repita palavras-chave importantes</li>
<li>Use linguagem clara e objetiva</li>
<li>Mantenha documentos entre 20 e 700 palavras</li>
<li>Use tags para organizar e categorizar documentos</li>
</ul>
<p>‚ùå <strong>Evite</strong>:</p>
<ul>
<li>Documentos muito curtos (menos de 10 palavras)</li>
<li>Documentos muito longos (mais de 700 palavras)</li>
<li>Misturar m√∫ltiplos assuntos em um √∫nico documento</li>
<li>Usar linguagem t√©cnica excessiva ou c√≥digo</li>
<li>Ser vago ou impl√≠cito nas informa√ß√µes</li>
</ul>
<p>Veja mais:</p>
<ul>
<li><a href="/docs/entities/collections">Cole√ß√µes (RAG)</a> - Como criar e gerenciar cole√ß√µes</li>
<li><a href="/docs/entities/documents">Documentos</a> - Como adicionar e organizar documentos</li>
<li><a href="/docs/entities/ai-gateways/pipelines#rag">Pipelines de AI Gateway - RAG</a> - Como vincular cole√ß√µes ao gateway</li>
<li><a href="/docs/protocol-functions#query-collection">Fun√ß√µes de Protocolo - query-collection</a> - Buscar em cole√ß√µes via fun√ß√£o</li>
</ul>
<h2 id="compara√ß√£o-r√°pida-qual-usar">Compara√ß√£o r√°pida: Qual usar?</h2>
<table>
<thead>
<tr>
<th>O que voc√™ precisa</th>
<th>System Prompt</th>
<th>Skills</th>
<th>RAG (Cole√ß√µes)</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Informa√ß√µes constantes</strong></td>
<td>‚úÖ Ideal</td>
<td>‚ùå N√£o</td>
<td>‚ùå N√£o</td>
</tr>
<tr>
<td><strong>Definir comportamento b√°sico</strong></td>
<td>‚úÖ Sempre</td>
<td>‚ùå N√£o</td>
<td>‚ùå N√£o</td>
</tr>
<tr>
<td><strong>M√∫ltiplas especializa√ß√µes</strong></td>
<td>‚ùå N√£o</td>
<td>‚úÖ Sim</td>
<td>‚ùå N√£o</td>
</tr>
<tr>
<td><strong>Acessar documentos e dados</strong></td>
<td>‚ùå N√£o</td>
<td>‚ùå N√£o</td>
<td>‚úÖ Sim</td>
</tr>
<tr>
<td><strong>Informa√ß√µes que mudam</strong></td>
<td>‚ùå Dif√≠cil</td>
<td>‚ùå Dif√≠cil</td>
<td>‚úÖ F√°cil</td>
</tr>
<tr>
<td><strong>Sempre ativo</strong></td>
<td>‚úÖ Sim</td>
<td>‚ùå S√≥ quando necess√°rio</td>
<td>‚ùå S√≥ quando necess√°rio</td>
</tr>
<tr>
<td><strong>Tamanho ideal</strong></td>
<td>Pequeno</td>
<td>M√©dio</td>
<td>Grande</td>
</tr>
<tr>
<td><strong>Custo por uso</strong></td>
<td>Sempre cobra</td>
<td>S√≥ quando ativa</td>
<td>S√≥ quando busca</td>
</tr>
</tbody>
</table>
<h2 id="compara√ß√£o-detalhada-t√©cnica">Compara√ß√£o detalhada (t√©cnica)</h2>
<p>Para desenvolvedores e usu√°rios avan√ßados:</p>
<table>
<thead>
<tr>
<th>Crit√©rio</th>
<th>System Prompt</th>
<th>Skills</th>
<th>RAG</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Prop√≥sito</strong></td>
<td>Comportamento base constante</td>
<td>Expertise especializada sob demanda</td>
<td>Acesso a conhecimento factual espec√≠fico</td>
</tr>
<tr>
<td><strong>Ativa√ß√£o</strong></td>
<td>Sempre ativo</td>
<td>Sob demanda (function calling)</td>
<td>Sob demanda (busca vetorial)</td>
</tr>
<tr>
<td><strong>Tamanho do conte√∫do</strong></td>
<td>Pequeno (&lt; 1000 tokens)</td>
<td>M√©dio (1000-5000 tokens)</td>
<td>Grande (milhares de documentos)</td>
</tr>
<tr>
<td><strong>Consumo de tokens</strong></td>
<td>Constante em toda requisi√ß√£o</td>
<td>Apenas quando skill ativada</td>
<td>Apenas docs recuperados</td>
</tr>
<tr>
<td><strong>Atualiza√ß√£o</strong></td>
<td>Est√°tico (requer redeployment)</td>
<td>Est√°tico (requer atualiza√ß√£o manual)</td>
<td>Din√¢mico (docs podem ser atualizados)</td>
</tr>
<tr>
<td><strong>Tipo de conhecimento</strong></td>
<td>Comportamental, regras gerais</td>
<td>Metodologias, frameworks, processos</td>
<td>Fatos, dados, documentos espec√≠ficos</td>
</tr>
<tr>
<td><strong>Complexidade de implementa√ß√£o</strong></td>
<td>Baixa</td>
<td>M√©dia</td>
<td>M√©dia</td>
</tr>
<tr>
<td><strong>Custo de opera√ß√£o</strong></td>
<td>Baixo</td>
<td>Baixo-M√©dio</td>
<td>M√©dio (indexa√ß√£o)</td>
</tr>
<tr>
<td><strong>Rastreabilidade</strong></td>
<td>N√£o aplic√°vel</td>
<td>Limitada</td>
<td>Alta (cita√ß√£o de fontes)</td>
</tr>
<tr>
<td><strong>Lat√™ncia</strong></td>
<td>Nenhuma adicional</td>
<td>Pequena (primeira ativa√ß√£o)</td>
<td>M√©dia (busca + embedding)</td>
</tr>
<tr>
<td><strong>Requer function calling</strong></td>
<td>N√£o</td>
<td>Sim</td>
<td>N√£o (mas recomendado)</td>
</tr>
<tr>
<td><strong>Melhor para</strong></td>
<td>Personalidade, tom, regras universais</td>
<td>M√∫ltiplas expertises contextuais</td>
<td>Bases de conhecimento extensas</td>
</tr>
</tbody>
</table>
<h2 id="cen√°rios-de-uso-combinado">Cen√°rios de uso combinado</h2>
<p>Na pr√°tica, as tr√™s t√©cnicas frequentemente s√£o usadas <strong>em conjunto</strong> para criar sistemas robustos:</p>
<h3 id="exemplo-1-suporte-t√©cnico-de-produto">Exemplo 1: Suporte t√©cnico de produto</h3>
<p><strong>System Prompt</strong>:
&quot;Voc√™ √© um agente de suporte t√©cnico amig√°vel e eficiente.
Sempre seja educado e ofere√ßa solu√ß√µes pr√°ticas.&quot;</p>
<p><strong>Skills dispon√≠veis</strong>:</p>
<ul>
<li>&quot;Troubleshooting Hardware&quot;: Para problemas f√≠sicos de equipamentos</li>
<li>&quot;Troubleshooting Software&quot;: Para bugs e problemas de aplicativos</li>
<li>&quot;Escalation Procedures&quot;: Para casos que requerem escala√ß√£o</li>
</ul>
<p><strong>RAG (Cole√ß√µes)</strong>:</p>
<ul>
<li>Cole√ß√£o &quot;Base de Conhecimento&quot;: 5000 documentos de troubleshooting</li>
<li>Cole√ß√£o &quot;Manuais de Produtos&quot;: Documenta√ß√£o t√©cnica atualizada</li>
<li>Cole√ß√£o &quot;Resolu√ß√µes&quot;: Hist√≥rico de tickets resolvidos com sucesso</li>
</ul>
<p><strong>Fluxo</strong>:</p>
<ol>
<li>System Prompt define o tom amig√°vel e comportamento b√°sico</li>
<li>Usu√°rio relata: &quot;Meu aplicativo est√° crashando ao abrir&quot;</li>
<li>Modelo ativa skill &quot;Troubleshooting Software&quot; para expertise espec√≠fica</li>
<li>RAG busca automaticamente em &quot;Base de Conhecimento&quot; artigos sobre crashes</li>
<li>Resposta combina a expertise da skill + informa√ß√µes espec√≠ficas dos documentos encontrados</li>
</ol>
<h3 id="exemplo-2-assistente-jur√≠dico">Exemplo 2: Assistente jur√≠dico</h3>
<p><strong>System Prompt</strong>:
&quot;Voc√™ √© um assistente jur√≠dico. Sempre inclua disclaimers apropriados
e nunca forne√ßa aconselhamento legal definitivo.&quot;</p>
<p><strong>Skills dispon√≠veis</strong>:</p>
<ul>
<li>&quot;An√°lise Contratual&quot;: Para revisar cl√°usulas e termos</li>
<li>&quot;Due Diligence&quot;: Para processos de M&amp;A</li>
<li>&quot;Compliance LGPD&quot;: Para quest√µes de privacidade</li>
</ul>
<p><strong>RAG (Cole√ß√µes)</strong>:</p>
<ul>
<li>Cole√ß√£o &quot;Legisla√ß√£o&quot;: Leis e regulamentos brasileiros atualizados</li>
<li>Cole√ß√£o &quot;Jurisprud√™ncia&quot;: Precedentes e decis√µes judiciais relevantes</li>
<li>Cole√ß√£o &quot;Templates&quot;: Modelos de documentos jur√≠dicos da firma</li>
<li>Cole√ß√£o &quot;Procedimentos Internos&quot;: Processos e pol√≠ticas do escrit√≥rio</li>
</ul>
<h3 id="exemplo-3-assistente-de-desenvolvimento">Exemplo 3: Assistente de desenvolvimento</h3>
<p><strong>System Prompt</strong>:
&quot;Voc√™ √© um desenvolvedor s√™nior. Sempre priorize boas pr√°ticas,
seguran√ßa e c√≥digo manuten√≠vel.&quot;</p>
<p><strong>Skills dispon√≠veis</strong>:</p>
<ul>
<li>&quot;Code Review&quot;: Para an√°lise detalhada de c√≥digo</li>
<li>&quot;Architecture Design&quot;: Para decis√µes arquiteturais</li>
<li>&quot;Security Audit&quot;: Para identificar vulnerabilidades</li>
</ul>
<p><strong>RAG (Cole√ß√µes)</strong>:</p>
<ul>
<li>Cole√ß√£o &quot;APIs Internas&quot;: Documenta√ß√£o das APIs da empresa</li>
<li>Cole√ß√£o &quot;Padr√µes de C√≥digo&quot;: Standards e conventions do time</li>
<li>Cole√ß√£o &quot;Componentes&quot;: Biblioteca de componentes reutiliz√°veis com exemplos</li>
<li>Cole√ß√£o &quot;Troubleshooting&quot;: Problemas comuns e suas solu√ß√µes</li>
</ul>
<h2 id="√°rvore-de-decis√£o-qual-t√©cnica-usar">√Årvore de decis√£o: Qual t√©cnica usar?</h2>
<h3 id="passo-1-o-que-voc√™-est√°-definindo">Passo 1: O que voc√™ est√° definindo?</h3>
<pre><code>O que voc√™ precisa?
‚îÇ
‚îú‚îÄ üé≠ COMPORTAMENTO (como a IA deve agir/falar)
‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ Isso muda dependendo da situa√ß√£o?
‚îÇ     ‚îú‚îÄ N√ÉO, sempre igual ‚Üí SYSTEM PROMPT
‚îÇ     ‚îî‚îÄ SIM, depende do contexto ‚Üí SKILLS
‚îÇ
‚îú‚îÄ üìÑ INFORMA√á√ÉO/DADOS (fatos, documentos, conhecimento)
‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ √â muito conte√∫do ou muda frequentemente?
‚îÇ     ‚îú‚îÄ SIM ‚Üí RAG (Cole√ß√µes)
‚îÇ     ‚îî‚îÄ N√ÉO ‚Üí SYSTEM PROMPT
‚îÇ
‚îî‚îÄ üéì METODOLOGIA (processo passo-a-passo, framework)
   ‚îî‚îÄ Usa em todas as conversas?
      ‚îú‚îÄ SIM ‚Üí SYSTEM PROMPT
      ‚îî‚îÄ N√ÉO ‚Üí SKILLS
</code></pre>
<h3 id="passo-2-exemplos-pr√°ticos">Passo 2: Exemplos pr√°ticos</h3>
<p><strong>Cen√°rio A</strong>: &quot;Quero que a IA sempre seja educada e profissional&quot;
‚Üí <strong>SYSTEM PROMPT</strong> (comportamento fixo, sempre ativo)</p>
<p><strong>Cen√°rio B</strong>: &quot;Quero que a IA fale de forma diferente quando atender executivos vs. t√©cnicos&quot;
‚Üí <strong>SKILLS</strong> (2 skills: &quot;Comunica√ß√£o Executiva&quot; e &quot;Comunica√ß√£o T√©cnica&quot;)</p>
<p><strong>Cen√°rio C</strong>: &quot;Tenho 500 p√°ginas de manual do produto que a IA precisa consultar&quot;
‚Üí <strong>RAG</strong> (crie uma Cole√ß√£o &quot;Manual do Produto&quot; com os documentos)</p>
<p><strong>Cen√°rio D</strong>: &quot;Quero que a IA siga o processo ITIL para resolver tickets&quot;
‚Üí <strong>SKILLS</strong> (crie uma skill &quot;Processo ITIL&quot; que ser√° ativada quando relevante)</p>
<p><strong>Cen√°rio E</strong>: &quot;Tenho um cat√°logo de 10.000 produtos com pre√ßos que mudam semanalmente&quot;
‚Üí <strong>RAG</strong> (crie uma Cole√ß√£o &quot;Cat√°logo&quot; e atualize os documentos quando pre√ßos mudarem)</p>
<p><strong>Cen√°rio F</strong>: &quot;Quero que a IA sempre responda em 3 passos: resumo, detalhes, conclus√£o&quot;
‚Üí <strong>SYSTEM PROMPT</strong> (formato fixo de resposta)</p>
<h3 id="passo-3-casos-especiais">Passo 3: Casos especiais</h3>
<p><strong>E se eu precisar dos tr√™s?</strong>
‚úÖ Perfeitamente normal! Combine:</p>
<ul>
<li><strong>System Prompt</strong>: Define comportamento b√°sico</li>
<li><strong>Skills</strong>: Adiciona especializa√ß√£o contextual</li>
<li><strong>RAG</strong>: Fornece acesso aos dados e documentos</li>
</ul>
<p><strong>Exemplo completo</strong>:</p>
<ul>
<li>System Prompt: &quot;Voc√™ √© um assistente de suporte amig√°vel e profissional&quot;</li>
<li>Skills: &quot;Troubleshooting&quot;, &quot;Escala√ß√£o&quot;, &quot;Vendas&quot;</li>
<li>RAG: Cole√ß√£o &quot;Base de Conhecimento&quot; + Cole√ß√£o &quot;Produtos&quot;</li>
</ul>
<hr>
<h2 id="-erros-comuns-evite-isso">‚ö†Ô∏è Erros comuns (evite isso!)</h2>
<h3 id="-erro-1-colocar-dados-no-system-prompt">‚ùå Erro 1: Colocar dados no System Prompt</h3>
<p><strong>Errado</strong>: Colocar lista de 100 produtos no System Prompt</p>
<pre><code class="lang-markdown">System Prompt:
Voc√™ √© um assistente de vendas. Nossos produtos s√£o:
1. Produto A - R$ 50
2. Produto B - R$ 100
... (98 produtos depois)
</code></pre>
<p><strong>Correto</strong>: Use RAG (Cole√ß√µes)</p>
<ul>
<li>Crie uma Cole√ß√£o &quot;Cat√°logo&quot;</li>
<li>Adicione um documento para cada produto</li>
<li>A IA busca quando necess√°rio</li>
</ul>
<hr>
<h3 id="-erro-2-criar-skills-para-informa√ß√µes">‚ùå Erro 2: Criar Skills para informa√ß√µes</h3>
<p><strong>Errado</strong>: Criar uma skill com dados de produtos</p>
<pre><code class="lang-markdown">Skill: Produtos
Descri√ß√£o: Informa√ß√µes sobre produtos

Instru√ß√µes:
- Produto A custa R$ 50
- Produto B custa R$ 100
- Produto C custa R$ 150
</code></pre>
<p><strong>Correto</strong>: Use RAG (Cole√ß√µes)
Skills s√£o para <strong>como fazer</strong>, n√£o para <strong>informa√ß√µes/dados</strong></p>
<hr>
<h3 id="-erro-3-usar-rag-para-comportamento">‚ùå Erro 3: Usar RAG para comportamento</h3>
<p><strong>Errado</strong>: Criar documentos sobre como a IA deve agir</p>
<pre><code>Documento 1: &quot;Voc√™ deve ser educado&quot;
Documento 2: &quot;Voc√™ deve ser profissional&quot;
</code></pre>
<p><strong>Correto</strong>: Use System Prompt
RAG √© para <strong>informa√ß√µes</strong>, n√£o para <strong>comportamento</strong></p>
<hr>
<h3 id="-erro-4-duplicar-informa√ß√µes">‚ùå Erro 4: Duplicar informa√ß√µes</h3>
<p><strong>Errado</strong>: Colocar a mesma informa√ß√£o em Skills E RAG E System Prompt</p>
<p><strong>Correto</strong>: Escolha UM lugar baseado na natureza da informa√ß√£o:</p>
<ul>
<li>Comportamento fixo ‚Üí System Prompt</li>
<li>Metodologia/processo ‚Üí Skills</li>
<li>Dados/documentos ‚Üí RAG</li>
</ul>
<hr>
<h3 id="-erro-5-skills-demais">‚ùå Erro 5: Skills demais</h3>
<p><strong>Errado</strong>: Criar 50 skills diferentes</p>
<p><strong>Correto</strong>: Mantenha entre 3-10 skills focadas</p>
<ul>
<li>Muitas skills confundem o modelo</li>
<li>Agrupe skills similares</li>
</ul>
<hr>
<h2 id="m√©tricas-de-sucesso-para-cada-abordagem">M√©tricas de sucesso para cada abordagem</h2>
<p><strong>System Prompt</strong>:</p>
<ul>
<li>Consist√™ncia no tom e comportamento</li>
<li>Taxa de seguimento de regras gerais</li>
<li>Qualidade percebida das intera√ß√µes</li>
</ul>
<p><strong>Skills</strong>:</p>
<ul>
<li>Taxa de ativa√ß√£o correta da skill</li>
<li>Qualidade das respostas especializadas</li>
<li>Economia de tokens vs. instru√ß√µes sempre ativas</li>
</ul>
<p><strong>RAG</strong>:</p>
<ul>
<li>Precis√£o da recupera√ß√£o (relev√¢ncia dos docs)</li>
<li>Taxa de cita√ß√£o de fontes</li>
<li>Redu√ß√£o de alucina√ß√µes</li>
<li>Atualidade das informa√ß√µes fornecidas</li>
</ul>
<h2 id="conclus√£o-e-recomenda√ß√µes">Conclus√£o e recomenda√ß√µes</h2>
<p><strong>Use System Prompt para</strong>:</p>
<ul>
<li>Definir a personalidade e tom fundamental</li>
<li>Estabelecer regras que sempre se aplicam</li>
<li>Configurar comportamentos de seguran√ßa</li>
</ul>
<p><strong>Use Skills para</strong>:</p>
<ul>
<li>M√∫ltiplas √°reas de expertise distintas</li>
<li>Processos e metodologias especializadas</li>
<li>Diferentes personas ou estilos de comunica√ß√£o</li>
<li>Economizar tokens em conhecimento contextual</li>
</ul>
<p><strong>Use RAG (Cole√ß√µes) para</strong>:</p>
<ul>
<li>Acessar bases de conhecimento extensas e organizadas</li>
<li>Informa√ß√µes que mudam frequentemente (produtos, pre√ßos, pol√≠ticas)</li>
<li>Necessidade de cita√ß√£o de fontes e rastreabilidade</li>
<li>Conhecimento factual espec√≠fico do dom√≠nio</li>
<li>Documenta√ß√£o t√©cnica, manuais e procedimentos</li>
</ul>
<p><strong>Combine as tr√™s quando</strong>:</p>
<ul>
<li>Construir assistentes corporativos complexos</li>
<li>Precisar de comportamento consistente + expertise + conhecimento factual</li>
<li>Escalar para m√∫ltiplos dom√≠nios e casos de uso</li>
</ul>
<p>A escolha certa depende do seu caso de uso espec√≠fico. Comece simples com System Prompt, adicione Skills quando precisar de especializa√ß√£o, e implemente RAG quando tiver uma base de conhecimento substancial que precisa ser acessada dinamicamente.</p>
<p>üìö <strong>Leitura adicional</strong>:</p>
<ul>
<li><a href="https://www.promptingguide.ai/">Prompt Engineering Guide</a></li>
<li><a href="https://www.anthropic.com/index/building-effective-agents">Building Production-Ready RAG Applications</a></li>
<li><a href="/docs/entities/ai-gateways/ai-gateway">AI Gateway Documentation</a></li>
</ul>

</article>

                <div class="contribution d-print-none">
                    <a href="https://github.com/CypherPotato/open-indexer-docs/blob/master/docs/concepts-comparison.md/#L1" class="edit-link">Edit this page</a>
                </div>

                <div class="next-article d-print-none border-top" id="nextArticle"></div>

            </div>

            <div class="affix">
                <nav id="affix"></nav>
            </div>
        </main>

        <div class="container-xxl search-results" id="search-results"></div>

        <footer class="border-top text-secondary">
            <div class="container-xxl">
                <div class="flex-fill">
                    <span>Made with <a href="https://dotnet.github.io/docfx">docfx</a></span>
                </div>
            </div>
            <script>
                if (window.location.pathname.startsWith('/docs/')) {
                    document.getElementById('language-wrapper').style.display = 'block';
                }
                
                function splitText(text, words) {
                    if (!Array.isArray(words)) return [];
                    const escapedWords = words.map(word =>
                        word.replace(/([.*+?^${}()|[\]\\])/g, '\\$1').replace(/\s/g, '\\$&'));
                        
                    escapedWords.sort((a, b) => b.length - a.length || b.localeCompare(a, 'en-US', { sensitivity: 'base' }));
                    const pattern = new RegExp(`\\b(${escapedWords.join('|')})\\b`, 'gi');
                    const splitResult = text.split(pattern);
                    const cleanedResult = splitResult.filter(segment => segment !== '');
                    return cleanedResult;
                }
                
                function runPostHljsFunctions() {
                    if (!document.querySelector("pre>code")) {
                        return;
                    }
                    if (!document.querySelector(".hljs")) {
                        setTimeout(runPostHljsFunctions, 100);
                        return;
                    }
                    
                    function highlightMissingCodeTokens(pre) {
                        const tokenClasses = [
                            "HttpResponse", "HttpRequest", "File", "Task",
                            "Router", "Route", "StringContent", "StreamContent",
                            "JsonContent", "RegexRoute", "HtmlContent", "CancellationTokenSource",
                            "HttpContext", "Stream", "MultipartObject", "Thread", "Task", "Encoding",
                            "HttpKnownHeaderNames", "HttpMethod", "List", "JsonSerializer",
                            "LogStream", "HttpServer", "RotatingLogPolicy", "StringBuilder",
                            "Console", "HttpRequestEventSource", "HttpWebSocket", "X509Certificate2",
                            "AppDomain", "Path", "Directory", "HttpServerConfiguration", "ListeningHost",
                            "ByteArrayContent", "ForwardingResolver", "IPAddress", "IPEndPoint",
                            "HttpServerExecutionResult", "ArgumentNullException", "JsonSerializerOptions",
                            "DbContext"
                        ];
                        const tokenValues = [
                            "RouteMethod", "Guid", "RequestHandlerExecutionMode", "HttpStatusCode",
                            "HttpStatusInformation", "DateTime", "TimeSpan", "RouterMethod",
                            "ListeningPort"
                        ];
                        const tokenInterfaces = [
                            "IRequestHandler", "IEnumerable", "ICollection", "IList"
                        ];
                        
                        function runStyles(node) {
                            if (node.nodeType === 3) {
                                applyStyles(node);
                                
                            } else if (node.nodeType === 1) {
                                
                                const prohibitedClasses = ["hljs-comment", "hljs-string"];
                                
                                if (! prohibitedClasses.some(cls => node.classList.contains(cls))) {
                                    for(const child of node.childNodes) {
                                        runStyles(child);
                                    }
                                }
                            }
                        }
                        
                        function applyStyles(textNode) {
                            const text = textNode.textContent;
                            const fragment = [];
                            
                            for (const token of splitText(text, [...tokenClasses, ...tokenValues, ...tokenInterfaces])) {
                                if (tokenClasses.includes(token)) {
                                    fragment.push(el("span.hljs-meta", token));
                                    
                                } else if (tokenValues.includes(token)) {
                                    fragment.push(el("span.hljs-meta-value", token));
                                    
                                } else if (tokenInterfaces.includes(token)) {
                                    fragment.push(el("span.hljs-meta-interface", token));
                                    
                                } else {
                                    fragment.push(token);
                                }
                            }
                            
                            textNode.replaceWith(el.fragment(...fragment));
                        }
                        
                        const code = pre.querySelector("code");
                        if (code && (code.classList.contains("lang-csharp") || code.classList.contains("lang-cs"))) {
                            runStyles(code);
                        }
                    }
                    
                    function addLineNumbers(pre) {
                        const code = pre.querySelector("code");
                        if (!code) return;
                        
                        var lines = (code.textContent.match(/\n/g) || []).length;
                        
                        if (lines <= 1) {
                            return;
                        }
                        
                        const lineElements = [];
                        for (let i = 1; i <= lines; i++) {
                            lineElements.push(el("span.hljs-line-number", i + "\n"));
                        }
                        
                        code.prepend(el("div.line-numbers", ...lineElements));
                        code.classList.add("has-line-numbers");
                    }
                                        
                    document.querySelectorAll("pre").forEach(pre => {
                        highlightMissingCodeTokens(pre);
                        addLineNumbers(pre);
                    });
                }
                
                runPostHljsFunctions();
            </script>
        </footer>
    </body>
</html>