{
  "docs/authentication.html": {
    "href": "docs/authentication.html",
    "title": "Autenticação | AIVAX",
    "summary": "Autenticação Quando tiver sua conta em mãos, use sua chave de autenticação única para se autenticar na nossa API através do cabeçalho Authorization: curl https://inference.aivax.net/api/v1/information/models.json \\ -H 'Authorization: Bearer oky_gr5uepj...' Você também pode enviar o seu token de autorização pelo parâmetro da query ?api-key, exemplo: curl https://inference.aivax.net/api/v1/information/models.txt?api-key=oky_gr5uepj... Não há necessidade de enviar o esquema de autenticação Bearer em ambos cabeçalhos, mas é possível por questões de compatibilidade. Autenticando hooks Requisições da AIVAX para seus serviços, seja workers de gateways de IA ou chamadas de função server-side, um cabeçalho X-Request-Nonce é encaminhado em todas as requisições conténdo um hash BCrypt sendo um salto da chave de hook definida em sua conta. A validação é simples: verifique se o hash em X-Request-Nonce é um produto da chave de salto definida em sua conta. Dessa forma, você poderá autenticar se as requisições da AIVAX para seus serviços são genuínas através desse token. Se sua conta não tiver definido uma chave de hook, esse cabeçalho não será enviado. Veja os exemplos abaixo para validação da chave de hook: C# (com Sisk) Python (com Flask) JavaScript (com Express.js) using BCrypt.Net; [RoutePrefix(\"/api/aivax-protocol-functions\")] internal class MyController : Controller { public MyController() { this.HasRequestHandler(RequestHandler.Create( execute: (req, ctx) => { // Obtém o nonce enviado da requisição var hash = this.Request.Headers [\"X-Request-Nonce\"]; if (hash == null) { return new HttpResponse(HttpStatusInformation.Unauthorized); } // Valida o hook usando a biblioteca BCrypt.Net var secretWord = Environment.GetEnvironmentVariable (\"AIVAX_HOOK_SECRET\"); if (!BCrypt.Net.BCrypt.Verify(secretWord, hash, enhancedEntropy: false)) { return new HttpResponse(HttpStatusInformation.Forbidden); } // Continua a requisição após hook validado return null; })); } ... } from flask import Flask, request, abort import os import bcrypt app = Flask(__name__) @app.before_request def autenticar_token(): # 1. Lê o cabeçalho que contém o hash do token token_hash = request.headers.get(\"X-Request-Nonce\") if not token_hash: abort(401) # 2. Carrega o segredo em texto puro das variáveis de ambiente secret = os.getenv(\"AIVAX_HOOK_SECRET\") if secret is None: abort(500) # 3. Verifica se o hash recebido corresponde ao segredo if not bcrypt.checkpw(secret.encode(\"utf-8\"), token_hash.encode(\"utf-8\")): abort(403) @app.route(\"/api/aivax-protocol-functions/some-action\", methods=[\"POST\"]) def some_action(): return \"\", 204 if __name__ == \"__main__\": app.run(host=\"0.0.0.0\", port=5000) require('dotenv').config() const express = require('express') const bcrypt = require('bcrypt') const app = express() app.use(async (req, res, next) => { const tokenHash = req.header('X-Request-Nonce') if (!tokenHash) { return res.sendStatus(401) } // 2. Carrega o segredo em texto puro das variáveis de ambiente const secret = process.env.AIVAX_HOOK_SECRET if (!secret) { return res.sendStatus(500) } try { // 3. Verifica se o hash recebido corresponde ao segredo const match = await bcrypt.compare(secret, tokenHash) if (!match) { return res.sendStatus(403) } next() } catch (err) { return res.sendStatus(500) } }) app.post( '/api/aivax-protocol-functions/some-action', (req, res) => { res.sendStatus(204) } ) const PORT = process.env.PORT || 3000 app.listen(PORT, () => { console.log(`Server running on port ${PORT}`) })"
  },
  "docs/en/authentication.html": {
    "href": "docs/en/authentication.html",
    "title": "Authentication | AIVAX",
    "summary": "Authentication When you have your account, use your unique authentication key to authenticate with our API via the Authorization header: curl https://inference.aivax.net/api/v1/information/models.json \\ -H 'Authorization: Bearer oky_gr5uepj...' You can also send your authorization token via the query parameter ?api-key, for example: curl https://inference.aivax.net/api/v1/information/models.txt?api-key=oky_gr5uepj... There is no need to include the Bearer authentication scheme in both headers, but it is possible for compatibility reasons. Authenticating hooks AIVAX requests to your services, whether AI gateway workers or server‑side function calls, include an X-Request-Nonce header in every request containing a BCrypt hash that is a derived value of the hook key set in your account. The validation is simple: verify that the hash in X-Request-Nonce is a product of the derived key set in your account. In this way, you can authenticate whether AIVAX requests to your services are genuine using this token. If your account has not defined a hook key, this header will not be sent. See the examples below for hook key validation: C# (with Sisk) Python (with Flask) JavaScript (with Express.js) using BCrypt.Net; [RoutePrefix(\"/api/aivax-protocol-functions\")] internal class MyController : Controller { public MyController() { this.HasRequestHandler(RequestHandler.Create( execute: (req, ctx) => { // Get the nonce sent from the request var hash = this.Request.Headers [\"X-Request-Nonce\"]; if (hash == null) { return new HttpResponse(HttpStatusInformation.Unauthorized); } // Validate the hook using the BCrypt.Net library var secretWord = Environment.GetEnvironmentVariable (\"AIVAX_HOOK_SECRET\"); if (!BCrypt.Net.BCrypt.Verify(secretWord, hash, enhancedEntropy: false)) { return new HttpResponse(HttpStatusInformation.Forbidden); } // Continue the request after hook validated return null; })); } ... } from flask import Flask, request, abort import os import bcrypt app = Flask(__name__) @app.before_request def autenticar_token(): # 1. Read the header containing the token hash token_hash = request.headers.get(\"X-Request-Nonce\") if not token_hash: abort(401) # 2. Load the plain-text secret from environment variables secret = os.getenv(\"AIVAX_HOOK_SECRET\") if secret is None: abort(500) # 3. Verify that the received hash matches the secret if not bcrypt.checkpw(secret.encode(\"utf-8\"), token_hash.encode(\"utf-8\")): abort(403) @app.route(\"/api/aivax-protocol-functions/some-action\", methods=[\"POST\"]) def some_action(): return \"\", 204 if __name__ == \"__main__\": app.run(host=\"0.0.0.0\", port=5000) require('dotenv').config() const express = require('express') const bcrypt = require('bcrypt') const app = express() app.use(async (req, res, next) => { const tokenHash = req.header('X-Request-Nonce') if (!tokenHash) { return res.sendStatus(401) } // 2. Load the plain-text secret from environment variables const secret = process.env.AIVAX_HOOK_SECRET if (!secret) { return res.sendStatus(500) } try { // 3. Verify that the received hash matches the secret const match = await bcrypt.compare(secret, tokenHash) if (!match) { return res.sendStatus(403) } next() } catch (err) { return res.sendStatus(500) } }) app.post( '/api/aivax-protocol-functions/some-action', (req, res) => { res.sendStatus(204) } ) const PORT = process.env.PORT || 3000 app.listen(PORT, () => { console.log(`Server running on port ${PORT}`) })"
  },
  "docs/en/features/chat-clients.html": {
    "href": "docs/en/features/chat-clients.html",
    "title": "Chat Clients | AIVAX",
    "summary": "Chat Clients A chat client provides a user interface through an AI Gateway that allows the user to converse with their assistant. A chat client is integrated with the AI gateway inference and supports deep reasoning, research, and text conversation. Multi‑modal features, such as sending images and audio, are under development. You can customize your chat client’s interface with custom CSS and JavaScript, and you can also choose the language of the chat resources. Create a chat session A chat session is where you create a conversation between your chat client and the user. You can call this endpoint providing additional context for the conversation, such as the user’s name, location, etc. A chat session expires after some time for security of the generated access token. When you call this endpoint providing a tag you can call the same endpoint multiple times and obtain the active chat session for the given tag, or create a new chat if no session is in progress. When a session is found in the chat client via the provided tag, the session is renewed for the specified period and the context is updated. A chat session also restores all conversation messages from the same session after disconnection. The user can clear the conversation by clicking the clear‑conversation button in the upper‑right corner of the chat client. This session uses the limits defined by the chat client, such as maximum messages and tokens in the conversation. If a session is close to expiring, it is renewed for another 20 minutes on the next user message. For details on how to create a chat session, see the endpoint Create Web Chat Session. Integration sessions AIVAX provides two integrations for chat clients: Telegram and WhatsApp (via Z-Api). Each conversation in an app is an individual session, identified by the conversation ID or the user’s phone number. These sessions follow the rules of the original chat client. Additionally, chat sessions in these integrations have two special commands: /reset: clears the current session context. /usage: when debug is active in the chat client, displays the current chat usage in tokens."
  },
  "docs/en/features/skills.html": {
    "href": "docs/en/features/skills.html",
    "title": "Skills | AIVAX",
    "summary": "Skills Skills (also known as skills) can be used to improve how your agent performs on specific tasks. Skills are special instructions that are retrieved on demand, and your agent loads these skills as needed. Ideally, your agent should use a skill only when it is relevant to the task it is performing. It is embedded in the conversation through a special tool and skill instructions are added to the context, indicating that the agent has skills provided in the context that can be used in the conversation. How do skills work? Skills are primarily provided through a name and a brief description of what that skill is and when it should be used. You can have multiple skills in your account, but use only some of them in your AI gateway. The skills activated in the AI gateway are injected into the system instructions of your model and an additional function is added to the context. When the model calls the skill‑reading tool, the instructions of that skill are inserted into the system instructions of the context dynamically. Only one skill can be active per context, and the LLM can change the active skill as needed. For this to work, the chosen base model must support function calls and system instructions. If your model does not support function calls, consider using a tool handler to handle function calls. If your model does not support system instructions, consider using the No system instructions flag, which provides system instructions as a user message. Larger models tend to follow instructions and function calls strictly. Run tests to see if your model is changing its skills as required. How to write skills? Writing effective skills requires clarity and specificity in the instructions. Here are the main guidelines: Skill structure A well‑written skill should contain: Clear, descriptive name: Use names that immediately identify the purpose of the skill (e.g., \"Python Code Analysis\", \"Customer Support\", \"Technical Translation\"). Concise description: Provide a brief description (1–2 sentences) that explains when the skill should be activated. This description is crucial, as the model uses it to decide whether to load the skill. Detailed instructions: The instructions themselves should include: Clear task objectives Expected response format Specific rules to follow Examples where appropriate Important constraints or limitations Best practices Be specific: Avoid vague instructions. Instead of “be helpful,” say “provide step‑by‑step explanations with code examples.” Use imperative language: Start sentences with action verbs (analyze, explain, compare, list). Keep scope limited: Each skill should focus on a specific knowledge area or task type. Test iteratively: Refine your skills based on how the model responds in practice. Avoid redundancy: Do not repeat information already present in the base system instructions. Skill example Name: Code Performance Analysis Description: Use when the user requests performance analysis, optimization, or bottleneck identification in code. - Analyze the provided code, identifying possible performance bottlenecks - Consider time complexity (Big O) and memory usage - Suggest specific optimizations with code examples - Explain the impact of each proposed optimization - Prioritize readability and maintainability together with performance When to use skills? Skills are most useful in specific scenarios where you need specialized behavior: Ideal scenarios 1. Domain‑specific expertise Industry‑specific technical terminology Compliance with regulations or standards Specific methodologies (Scrum, ITIL, SOC 2, etc.) 2. Tone or style shift Formal vs. casual service Technical vs. simplified communication Different personas or roles 3. Complex, structured processes Multi‑step workflows Analyses that follow specific frameworks Document generation with rigorous formats 4. Tasks that require extensive context When instructions are too long to include every time Knowledge that is only occasionally relevant Multiple mutually exclusive rule sets When NOT to use skills Permanent instructions: If instructions should always be active, place them in the base system instructions. Simple tasks: For direct answers that do not require special context. General knowledge: Information the model already knows well does not need reinforcement via skills. Too few or too many skills: Aim for 3–10 skills. Fewer than that, consider using base instructions. More than that can confuse the model. Comparison: Skills vs. System Instructions Aspect Skills System Instructions When to apply On demand, when relevant Always active Ideal size Can be extensive Should be concise Context changeability Yes, can switch No, fixed Token usage Economical (only when needed) Constant Best for Specialized knowledge Base agent behavior Implementation tips Start small: Implement 2–3 skills initially and expand as needed. Monitor usage: Verify that the model is activating skills correctly. Avoid overlap: Skills with similar descriptions can confuse the model. Test transitions: Ensure the model switches skills when appropriate. Comparing Skills, RAG, and System Prompt To better understand when and how to use skills compared to other techniques like RAG (Retrieval‑Augmented Generation) and System Prompt (System Instructions), see our full guide: Click to access the comparison guide. This guide details: The fundamental differences between each approach When to use each technique Practical examples and use cases How to combine the three techniques for robust systems Decision tree for choosing the right approach See also: Prompt Engineering Guide Building Production‑Ready RAG Applications AI Gateway Documentation"
  },
  "docs/en/getting-started.html": {
    "href": "docs/en/getting-started.html",
    "title": "Welcome | AIVAX",
    "summary": "Welcome Welcome to AIVAX. Our service makes it easier to develop intelligent AI models that use a knowledge base provided by you to converse with the user, answer questions, provide real‑time information, and more. To get started, all endpoints should be made to the production URL of AIVAX: https://inference.aivax.net/ Handling errors All API errors return an HTTP response with a non‑OK status (never 2xx or 3xx), and always follow the JSON format: { \"error\": \"A message explaining the error\", \"details\": {} // an object containing relevant information about the error. Most of the time it is null }"
  },
  "docs/en/inference/ai-gateway.html": {
    "href": "docs/en/inference/ai-gateway.html",
    "title": "AI Gateway | AIVAX",
    "summary": "AI Gateway AI gateways are a service that AIVAX provides to create an inference tunnel between an LLM model and a knowledge base. With it you can: Create a model with custom instructions Use a model provided by you through a compatible OpenAI endpoint, or use a model made available by AIVAX Customize inference parameters such as temperature, top_p, prefill Use a knowledge collection as the foundation for AI responses Among other features. With the AI Gateway, you create a ready‑to‑use model, parametrized and grounded in the instructions you define. Models You can bring an AI model compatible with the OpenAI interface to the AI gateway. If you bring your own AI model, we will charge only for the document search attached to the AI. You can also use one of the models below that are already ready to start with AIVAX. When using a model, you will notice that some are smarter than others for certain tasks. Some models are better with certain data‑retrieval strategies than others. Run tests to find the best model. You can see the available models on the models page. Using an AI gateway AIVAX provides an endpoint compatible with the OpenAI interface through an AI‑gateway, which makes it easier to integrate the model created by AIVAX with existing applications and SDKs. Note that only some properties are supported. In an AI gateway you already configure the model parameters, such as System Prompt, temperature, and model name. When using this endpoint, some gateway values may be overridden by the request. Use with SDKs By providing endpoints compatible with the OpenAI interface, AIVAX is fully compatible with existing SDKs, facilitating plug‑and‑play integration. See the example below: from openai import OpenAI client = OpenAI( base_url=\"https://inference.aivax.net/v1\", api_key=\"oky_gr5u...oqbfd3d9y\" ) response = client.chat.completions.create( model=\"my-gateway:50c3\", # you can also provide your ai-gateway full ID here messages=[ {\"role\": \"user\", \"content\": \"Explain why AI-gateways are useful.\"} ] ) print(response.choices[0].message.content) At the moment, AIVAX only supports the chat/completions format. In the future, we intend to add support for API Responses."
  },
  "docs/en/inference/pipelines.html": {
    "href": "docs/en/inference/pipelines.html",
    "title": "AI Pipelines | AIVAX",
    "summary": "AI Pipelines AIVAX provides several pipelines to use in your AI gateway. You can use multiple pipelines to run in the context of your gateway. RAG Through collections, you can link document collections to your AI gateway. You can define embedding parameters, such as number of documents, minimum score, and embedding strategy. Each embedding strategy is more refined than the other. Some produce better results than others, but it is important to perform practical tests with various strategies to understand which fits best with the model, conversation, and user tone. It may be necessary to adjust the system prompt to better inform how the AI should consider the attached documents in the conversation. The documents are attached as a user message, limited to the parameters you define in the retrieval strategy. Rewrite strategies usually generate the best results at a low latency and cost. The rewrite model used is always the cheapest one, typically chosen by an internal pool that selects the model with the lowest latency at the moment. Strategies without rewrite cost: Plain: the default strategy. It is the least optimized and has no rewrite cost: the last user message is used as the search term to query the gateway's attached collection. Concatenate: Concatenates the last N user messages line by line, and then the concatenated result is used as the search term. Strategies with rewrite cost (inference tokens are charged): UserRewrite: rewrites the last N user messages using a smaller model, creating a contextualized question about what the user means. FullRewrite: rewrites the last N*2 chat messages using a smaller model. Similar to UserRewrite, but also considers the assistant's messages when formulating the new question. Generally creates the best questions, with a slightly higher cost. It is the most stable and consistent strategy. Works with any model. Function strategies: QueryFunction: provides a search function on the integrated collection for the AI model. You should adjust the system instructions with ideal scenarios for the model to call this function when needed. May not work as well on smaller models. When defining a RAG collection in your gateway's pipeline, the first message in the conversation context will be the result of the RAG embedding as a user message (except when used as tools where the embedding result is attached as a tool response). Defining many RAG response documents increases input token consumption and may raise the final inference cost. Fixing instructions The instructions pipeline allows prefixing instructions in various places of the model, guiding and restricting the model's response format. The current ways to define instructions are: System instructions: inserts a fixed text into the system prompt of the context. User prompt template: reformats the user's question to follow a specific question format. Assistant initialization (prefill): initializes the assistant's message with initial generation tokens. These parameters can be very useful for prompt engineering, however, they may not be compatible with all models. Note: prefixing instructions, templates, and initializations can remove the model's reasoning ability, multimodal interpretation, and tool-calling capabilities. Remote instructions You can also provide remote instructions in the context. Remote instructions make a GET request to the provided resource and cache it internally for 10 minutes. These resources are read as text, limited to 10 MB per resource. These resources are inserted into the LLM's system instructions. Skills Skills are on-demand instructions for the model, which can obtain refined and enhanced instructions for different specialized tasks. Read more about skills. Multimodal processing Multimodal content pre-processing allows processing audio, images, video, and documents using models with those capabilities for models that lack them. Each multimodal content is converted to a textual representation of it via an auxiliary model. This processing is performed by a multimodal model, which incurs processing cost directly from the provider. The generated content is stored in a long-term cache on our servers and is evicted after a certain period of inactivity. After that period, the content tends to be re-processed if inserted into the conversation again. Parameterization The parameterization pipeline sets the initial inference hyperparameters, such as temperature, nucleus sampling, presence penalty, and other inference hyperparameters. Truncating The truncating pipeline allows defining the size of a conversation in tokens before it is trimmed. When this pipeline is enabled, before each inference, it checks whether num_of_chars / 4 exceeds the maximum input tokens for the conversation. If the context is larger, the pipeline starts removing messages from the beginning of the conversation until the messages fit within the specified context. At least one user message (usually the last message) is kept in the conversation. All other messages are removed, except system instructions. Alternatively, you can set it so that reaching the limit triggers an error in the API instead of trimming the context. Tool message truncating The tool message counting pipeline is similar to truncating: it removes older tool responses and preserves only the newest ones. This can be useful when previous tool responses are no longer useful in newer messages and take up context space, but it can be detrimental when used with agentic models that call tools in a chain. This pipeline is configured by the number of tool messages to preserve rather than tokens. When a tool message is considered old, it is not removed, but its content is cleared. Server-side tools This pipeline allows execution of server-side tools of AIVAX, similar to the MCP protocol. Read more about this pipeline here. Built-in tools You can add tools provided by AIVAX to your gateway, such as internet search, image generation, and link access. See all available tools here. Function interpreter (tool handler) It is possible to change the function interpreter used by the model. This brings the ability to call functions for models that do not support this feature. Currently, there are two types of interpreters: ReAct: an interpreter based on the technique ReAct prompting using an auxiliary model. The interpreter react.v1.selfcall uses the inference model itself to call functions before generating a response. NtvCall: uses another model to call functions for the main model. The flow resumes when the alternative model does not call any function and starts generating a response. Moderation You can add a moderation layer to your AI gateway. An auxiliary model will analyze the entire conversation context and classify it as safe or unsafe according to your moderation preferences. Conversations classified as unsafe are removed from inference and the model tends to generate a response indicating it cannot generate content about that subject. The moderation cost is $0.20 per million tokens processed. Workers Workers define the behavior of your gateway remotely, used to control when certain events should be aborted or continued. Read more about this pipeline here."
  },
  "docs/en/inference/structured-responses.html": {
    "href": "docs/en/inference/structured-responses.html",
    "title": "Structured responses | AIVAX",
    "summary": "Structured responses AIVAX has a structured response mechanism that works with any LLM, even those that do not natively support structured outputs. AIVAX analyzes the provided JSON schema and manually validates whether the model responded as expected. When the model fails, AIVAX automatically notifies the errors until it generates a valid JSON. This mechanism is called JSON Healing. This process continues until the maximum attempts parameter is reached or a valid JSON is generated. AIVAX interprets JSONs in markdown blocks, preceded or followed by text, and automatically extracts the final response. You can use structured responses with models that have reasoning without breaking the reasoning phase to generate the JSON. Additionally, you can use builtin tools during generation, such as web search, document generation, and opening links. How it works When making an inference call, you define what the model should do via instructions and how it should respond via a JSON Schema. AIVAX validates the model's response in real time. If the generated JSON is invalid or does not follow the schema, the model receives automatic feedback about the errors and tries again. This cycle continues until: A valid JSON is generated (success on the first attempt or after corrections) The maxAttempts limit is reached Billing: You are charged for each generation attempt. Smarter models usually get it right on the first try, while smaller models may need multiple attempts. Performance tip: Use caching on your application side for data that does not change frequently (weather, daily statistics, etc). AIVAX does not perform automatic caching. Built-in tools You can use builtin tools during JSON generation, allowing the model: Search the internet to obtain up-to-date information Execute code for complex calculations Open and analyze URLs Generate images Fetch posts on social networks These tools are especially useful for functions that need real-time data or additional processing before generating the structured response. How to use You use the structured response service on the same chat completions endpoint. POST /v1/chat-completions { \"model\": \"@google/gemini-2.5-flash\", \"prompt\": \"Pesquise por notícias em São José do Rio Preto.\", \"stream\": true, \"builtin_tools\": { \"tools\": [ \"WebSearch\" ], \"options\": { \"web_search_mode\": \"full\" } }, \"response_schema\": { \"type\": \"object\", \"properties\": { \"news\": { \"type\": \"array\", \"items\": { \"type\": \"object\", \"properties\": { \"title\": { \"type\": \"string\", \"description\": \"Título da notícia\" }, \"content\": { \"type\": \"string\", \"description\": \"Resumo da notícia\" } } } } } } } Note that the builtin_tools parameter defines which built-in tools the model can use to generate the structured response. Note that the model used must be compatible with function calls. You can also use structured responses with your AI gateways by providing your gateway ID in the model name. JSON response modes There are two ways to request structured responses: with or without JSON Healing. With JSON Healing (response_schema) Use response_schema to automatically enable JSON Healing with the provided schema. AIVAX validates the model's response and, if invalid, provides automatic feedback for correction: POST /v1/chat-completions { \"model\": \"@google/gemini-2.5-flash\", \"messages\": [{ \"role\": \"user\", \"content\": \"Liste 3 capitais europeias\" }], \"response_schema\": { \"type\": \"object\", \"properties\": { \"capitals\": { \"type\": \"array\", \"items\": { \"type\": \"object\", \"properties\": { \"city\": { \"type\": \"string\" }, \"country\": { \"type\": \"string\" } }, \"required\": [\"city\", \"country\"] } } }, \"required\": [\"capitals\"] } } Advantages of JSON Healing: Format guarantee: The model will always respond in the specified JSON format Reasoning compatible: The model can reason freely before generating the JSON Tool compatible: Works together with builtin tools and function calling AIVAX automatically extracts the JSON from the response, even if it is in a markdown block or preceded by explanatory text. Without JSON Healing (response_format) Use response_format when the native model already supports structured outputs (like GPT-4o or Gemini) and you do not need additional validation: POST /v1/chat-completions { \"model\": \"@openai/gpt-4o\", \"messages\": [{ \"role\": \"user\", \"content\": \"Liste 3 capitais europeias\" }], \"response_format\": { \"type\": \"json_schema\", \"json_schema\": { \"schema\": { \"type\": \"object\", \"properties\": { \"capitals\": { \"type\": \"array\" } } } } } } In this mode, the schema is passed directly to the model without additional validation from AIVAX. Enabling JSON Healing in response_format You can explicitly enable JSON Healing by passing an options object inside response_format when type is json_schema: POST /v1/chat-completions { \"response_format\": { \"type\": \"json_schema\", \"json_schema\": { \"schema\": { \"type\": \"object\", \"properties\": { \"answer\": { \"type\": \"string\" } } } }, \"options\": { \"max_attempts\": 5 } } } The max_attempts parameter defines the maximum number of correction attempts. You are charged for each failed attempt. Note that smarter models tend to get it right on the first try. Supported JSON Schema AIVAX guides the model to generate a response according to the provided JSON Schema. When the model generates something invalid, it receives feedback on the errors and tries again until the output conforms to the specification. Supported types and validations string: minLength, maxLength pattern (regex) format: date-time, email, time, duration, uri, url, ipv4, ipv6, uuid, guid enum number and integer: minimum, maximum exclusiveMinimum, exclusiveMaximum multipleOf array: items uniqueItems minItems, maxItems object: properties required bool, boolean null Multiple types: You can specify multiple types in a field: { \"type\": [\"string\", \"number\"] } Note: number and integer are synonyms. The integer type does not guarantee that the value will be an integer."
  },
  "docs/en/inference/workers.html": {
    "href": "docs/en/inference/workers.html",
    "title": "AI Workers | AIVAX",
    "summary": "AI Workers The AI gateway workers are hooks that allow you to control the behavior of your resources remotely through events. With an external controller configured, events are sent to it, and the response from your controller determines whether that action should continue, be aborted, or be configured. When an event is triggered on the AIVAX side, a POST request is sent to the configured worker with information about the fired event. Based on its response, the action can be cancelled or configured. There is no caching – the request is made for every event that occurs in your AI gateway. The processing time of the response adds latency to every gateway action; however, it adds a layer of control and moderation that you can manage at any time. How it works When an event is triggered, a POST request is sent to your worker following the format below: { \"gatewayId\": \"019a6afb-5a03-7b83-a1a2-760bd1ecd11c\", \"moment\": \"2025-12-29T17:04:39\", \"event\": { \"name\": \"message.received\", \"data\": { \"messages\": [ { \"role\": \"system\", \"content\": \"User local date is Monday, December 29, 2025 (timezone is America/Sao_Paulo)\" }, { \"role\": \"user\", \"content\": \"bom dia\" }, { \"role\": \"assistant\", \"content\": \"Bom dia! \uD83D\uDE0A Como posso te ajudar hoje?\" }, { \"role\": \"user\", \"content\": \"tudo bem?\" } ], \"origin\": [ \"SessionsApi\" ], \"externalUserId\": \"mini-app-session@hse075q0q5gftm6jmitvi5\", \"metadata\": {} } } } The example above illustrates a message.received event message with its event arguments. Response types After sending the request, AIVAX waits for your worker's response. There are three possible response types: Response Behavior OK Response (2xx) Continues and proceeds with the normal execution of the event. Other responses Aborts and stops the execution of the event. Content-Type application/json+worker-action Executes the actions specified in the response and continues execution. Events Currently, the events that can be sent to your worker are: message.received Sent when a message is received by the gateway. This event is triggered with the full conversation message history. { \"name\": \"message.received\", \"data\": { \"messages\": [], \"origin\": [\"SessionsApi\"], \"externalUserId\": \"mini-app-session@lot1xc9k03g2my3j4w2y1\", \"metadata\": {} } } Available actions To perform actions on the message.received event, return a response with the header Content-Type: application/json+worker-action and a body in the format: { \"type\": \"message.received.response\", \"data\": { \"rewrites\": [ // list of actions ] } } The actions available for the rewrites field are: Action Description Parameters clear Removes all specified entities from the context. argument: the entity to be removed. Can be messages, meta, system, tools, skills or all. Defaults to all when null. add-message Adds a message to the context. message: OpenAI‑compatible message object (e.g., role and content) remove-message Removes a message from the context by index. index: index of the message to be removed add-system Adds a system instruction. message: instruction text add-tool Adds a tool to the context. tool: JSON object of the tool add-protocol-tool Adds a definition of a protocol function to the context. tool: protocol function definition object Action examples Clear and add message: { \"type\": \"message.received.response\", \"data\": { \"rewrites\": [ { \"type\": \"clear\" }, { \"type\": \"add-message\", \"message\": { \"role\": \"user\", \"content\": \"Mensagem substituída pelo worker.\" } } ] } } Add system instruction: { \"type\": \"message.received.response\", \"data\": { \"rewrites\": [ { \"type\": \"add-system\", \"message\": \"Responda sempre em português formal.\" } ] } } Remove message by index: { \"type\": \"message.received.response\", \"data\": { \"rewrites\": [ { \"type\": \"remove-message\", \"index\": 0 } ] } } Examples Blocking unauthorized users The example below illustrates a Cloudflare Worker that authenticates a Telegram conversation based on the username: export default { async fetch(request, env, ctx) { const CHECKING_GATEWAY_ID = \"0197dda5-985f-7c76-96e5-0d0451c596e5\"; const ALLOWED_USERNAMES = [\"myusername\"]; if (request.method == \"POST\") { const requestData = await request.json(); const { event, gatewayId } = requestData; if (gatewayId === CHECKING_GATEWAY_ID && event.name == \"message.received\" && event.data.externalUserId?.startsWith(\"zp_telegram:\")) { const telegramUsername = event.data.externalUserId.split(':')[0].split('@')[0]; if (!ALLOWED_USERNAMES.includes(telegramUsername)) { return new Response(\"User is not authed\", { status: 400 }); } } } return new Response(); } }; Intercepting and modifying messages The example below demonstrates how to intercept a message and replace it with another when the user is not authorized: export default { async fetch(request, env, ctx) { const CHECKING_GATEWAY_ID = \"0197dda5-985f-7c76-96e5-0d0451c596e5\"; if (request.method == \"POST\") { const requestData = await request.json(); const { event, gatewayId } = requestData; if (gatewayId === CHECKING_GATEWAY_ID && event.name == \"message.received\") { const userIsPaid = await checkUserSubscription(event.data.externalUserId); if (!userIsPaid) { return new Response(JSON.stringify({ type: \"message.received.response\", data: { rewrites: [ { type: \"clear\" }, { type: \"add-message\", message: { role: \"user\", content: \"O usuário enviou uma mensagem mas ela foi excluída pelo sistema. Informe ao usuário que ele não pagou sua assinatura mensal para continuar.\" } } ] } }), { headers: { \"Content-Type\": \"application/json+worker-action\" } }); } } } return new Response(); } }; async function checkUserSubscription(externalUserId) { // Implement your subscription verification logic here return true; }"
  },
  "docs/en/legal/privacy-policy.html": {
    "href": "docs/en/legal/privacy-policy.html",
    "title": "Privacy Policy | AIVAX",
    "summary": "Privacy Policy Version: 1.1 Effective date: October 5, 2025 Previous update: July 30, 2025 Welcome to AIVAX. This Privacy Policy describes how AIVAX collects, uses, stores, shares, and protects information in its AI inference services. Our commitment is to transparency, security, and compliance with the General Data Protection Law (LGPD) and the Internet Civil Framework. By using AIVAX services, the Account Manager acknowledges and agrees to the terms of this policy. This policy does not constitute legal advice; we recommend review by the Account Manager’s legal department. 1. Definitions AIVAX: Company providing the platform and AI model orchestration services. AIVAX Account Manager (\"Account Manager\"): Natural or legal person who creates and administers the account and integrates the API. End User: Individual who interacts with the Account Manager’s application that consumes the AIVAX API. Account Data: Registration and administrative data (e.g., name, email, company, role, internal identifiers, preferences, API key settings). Billing Data: Data required for invoicing and receipts (e.g., CNPJ/CPF, corporate name, address, payment methods through a third‑party processor). Inference Data: Inputs (prompts, text, instructions, metadata) sent to the models and the resulting outputs/inferences. (Equivalent to the terms “Input Content” + “Generated Content” defined in the Terms of Use.) Conversations: Structured set of inference interactions (input + response + context metadata). Technical Metadata: Request logs, IP, timestamp, latency, session identifiers, token usage, response codes, security signatures. Processor: AIVAX when it processes data according to the Account Manager’s instructions (inference data/conversations). Controller: AIVAX when it defines purposes for account, billing, security, and compliance data. Subprocessor: Third party contracted by AIVAX to support processing (infrastructure, monitoring, billing, email, model providers, etc.). 2. Processing Roles Data Type AIVAX Role Account Manager Role Account Data Controller Data Subject/Controller of its own internal relationship Billing Data Controller (legal and contractual compliance) Provides/Verifies Inference Data / Conversations Processor Controller (defines content and purpose) Technical Metadata Controller (security / improvement) and Processor (technical execution) Controller (origin) When acting as Processor, AIVAX will strictly follow the Account Manager’s instructions, as defined by API calls and dashboard settings. For contractual consistency, in case of terminological divergence between this policy and the Terms of Use, the equivalence will prevail: Inference Data = Input Content + Generated Content. 3. Categories of Collected Data Provided directly by the Account Manager: Account Data, credentials (hashes or tokens), preferences, usage settings, organization, generated API keys. Generated by use: Technical metadata (logs, aggregated statistics, token counts, latencies, model usage). Inference Data and Conversations: Textual content and other formats sent to the models and the returns. Support and Communication: Ticket messages, emails sent to support or contact channels. Billing: Fiscal and payment data (partially processed by specialized third parties). Aggregated/Anonymized Data: Derived metrics that do not identify the Account Manager or end users. We do not deliberately collect special categories of sensitive personal data (art. 5º, II, LGPD) unless the Account Manager chooses to send them in Inference Data. In that case, the Account Manager declares having an appropriate legal basis and consent when required. 4. Purposes, Legal Bases, and Retention Category Primary Purpose Legal Basis (LGPD) Indicative Retention Period* Account Data Account creation, management, authentication, operational communications Contract execution (art. 7º, V) While the account is active + up to 6 months after termination (audit) Billing Data Billing, tax invoicing, fraud prevention (includes credit rules, expiration, refunds – see Terms of Use) Legal obligations (art. 7º, II) / Contract execution 5 to 10 years (tax requirements) Technical Metadata Security, abuse prevention, performance monitoring Legitimate interest (art. 7º, IX) + Contract execution 180 days (main logs) / up to 1 year (extended security) Inference Data Execution of the requested inference Contract execution Operational time (standard: up to 30 days) Conversations History for monitoring, technical audit, debugging Legitimate interest (balanced) + Contract execution Up to 30 days (standard) or less if configured; exportable and deletable Support Resolve questions, incidents, compliance Contract execution / Legitimate interest Up to 12 months after resolution Aggregated/Anonymized Data Capacity metrics, reliability improvement Outside LGPD scope (anonymized data) Indeterminate (as long as irreversibly anonymized) *Periods may be shortened upon request, except where legal obligation or rights defense requires longer retention. Encrypted backups may retain data for up to an additional 90 days until full rotation; purged data does not return to production after restoration, with deletion re‑processing applied. 5. No Use for Own Training AIVAX does not use Inference Data or Conversations to train proprietary models, create individualized usage profiles, or monetize data. Use is restricted to providing the contracted service. 6. Storage and Deletion of Conversations The Account Manager may: (i) adjust retention (when the feature exists), (ii) delete conversations individually or in bulk, (iii) request total purge. Deletion is final and irreversible in production; records may temporarily persist in backups until the technical retention window expires. 7. Data Subject Rights (Art. 18, LGPD) When AIVAX acts as Controller (e.g., account data), data subjects may exercise: confirmation of processing; access; correction; anonymization, blocking or deletion; portability; information about sharing; revocation of consent (if applicable); opposition to processing based on legitimate interest; review of automated decisions. Channel: **privacy@aivax.net** or **wm@aivax.net** (Data Protection Officer). Standard response time: up to 15 days. We may request identity verification. For data where we act as Processor, we will direct the data subject to the Controller Account Manager. 8. Data Protection Officer (DPO) Data Protection Officer (Art. 41): (Anonymized identity) – Contact: **wm@aivax.net**. Functions: communication channel with data subjects and the ANPD, internal compliance guidance, support for impact assessments. 9. Subprocessors We use subprocessors for: cloud infrastructure, load balancing, performance monitoring, transactional email, billing, model providers, abuse detection. We will (or have already) publish an updated list on a dedicated page: (link to be added). Material changes will be notified before taking effect whenever contractually required; continued use after a reasonable objection period constitutes acceptance. 10. Third‑Party Model Providers When selecting a specific model, the Account Manager also agrees to the respective provider’s policies. Some providers may use inference data for improvement or training. The Account Manager must validate suitability before sending personal or sensitive data. AIVAX does not control third‑party policies and recommends prior review. 11. International Data Transfers Data may be processed or stored in data centers outside Brazil (e.g., US, EU), using providers that adopt security standards aligned with leading international practices. We apply: (i) contracts with protection clauses; (ii) encryption; (iii) minimization; (iv) logical segregation. If a transfer falls under the specific hypotheses of art. 33, we will adopt appropriate contractual and technical safeguards. 12. Information Security (Layers) Key measures (without disclosing operational secrets): Encryption in transit (TLS 1.2+ / 1.3) and at rest (AES‑256 or equivalent). Role‑based access control and principle of least privilege. Environment segregation (development, staging, production) and pipeline with reviews. Audit logs for administrative actions and access to sensitive data. Integrity monitoring, anomaly alerts, and automatic rate limiting. Periodic vulnerability testing and prioritized remediation. Infrastructure hardening and secure credential rotation. Pseudonymization or truncation of sensitive fields in technical logs. No security measure is absolute; we maintain a continuous improvement program. 13. Incident Management Relevant security incidents will be assessed based on impact, data nature, and risk to data subjects. When required, we will notify affected Account Managers and the ANPD with: (i) event description; (ii) possibly involved data; (iii) actions already taken and planned mitigation; (iv) guidance to the Account Manager. Our response plan is reviewed periodically. 14. Automated Decisions We employ automations for abuse detection, request throttling, and fraud prevention. These automations may temporarily restrict access or keys. We do not make solely automated decisions that produce legal or significant effects on individuals. The Account Manager may request human review via support. 15. Cookies and Tracking Technologies In the dashboard interface we may use strictly necessary cookies (session/authentication) and possibly functional cookies for preferences. We do not use behavioral advertising cookies. If we later employ third‑party analytics, we will update this section and provide a consent mechanism when applicable. The Account Manager can manage cookies via browser settings; disabling strictly necessary cookies may limit functionality. 16. Children, Adolescents, and Emancipated Minors The services are not intended for persons under 18, except legally emancipated minors aged 16 or older under Brazilian law. We do not intentionally collect personal data of non‑emancipated minors. If we identify improper processing, we will take swift removal measures and notify the Account Manager. The Account Manager is responsible for implementing checks when usage may involve a potentially minor audience. 17. Sensitive Data We do not require the submission of sensitive data. The Account Manager should avoid sending health, biometric, genetic, religious belief, political opinion, or other special category data unless they have an appropriate legal basis and clearly inform the data subjects. AIVAX may apply filters or blocks for high‑risk content types. 18. Use Limitations and Prohibited Content It is prohibited to use the platform to store or process illegal content, rights‑infringing material, malware, defamatory material, or anything that infringes third‑party rights. We may suspend or block keys upon reasonable suspicion of violation, preserving logs necessary for investigation. Suspension and termination measures also follow the Terms of Use (Sections 2.1 and 5). 19. Anonymization and Aggregated Data We may generate aggregated statistics (e.g., token volume, error rate, model distribution) without direct identification of individuals or specific conversation content. Such data does not revert to an identifiable form. 20. Export and Portability We provide (or will provide) mechanisms to export conversation history and metrics in structured formats (JSON), limited by retention windows and security. For data retained while we act as Processor, data subject requests must be forwarded to the Controller Account Manager. 21. Backups and Disaster Recovery Encrypted backups are performed on periodic windows and retained for up to 90 days for operational continuity. After requested deletions, we mark records for logical purge and prevent re‑introduction after restoration by re‑processing the deletion queue. 22. Changes to This Policy Material changes will be notified by email to the Account Manager or highlighted in the dashboard with reasonable advance (preferably 15 days), unless legal or urgent security requirements apply. Continued use after the effective date constitutes acceptance. 23. Contact Channel and Complaints Questions, rights requests, or complaints: **privacy@aivax.net** / **wm@aivax.net**. If unsatisfied, the data subject may appeal to the ANPD (National Data Protection Authority). 24. Revision History Version Effective Date Major Changes 1.0 07/30/2025 Initial version published 1.1 10/05/2025 Added legal bases, rights, detailed retention, subprocessors, transfers, expanded security, incidents, automated decisions, cookies, sensitive data, versioning 25. General Contact Legal / Privacy: **legal@aivax.net** – Data Protection Officer: **wm@aivax.net**. Always use official channels to avoid social engineering. 26. Final Provisions If any clause of this policy is deemed invalid, the remaining provisions remain in full force. In case of conflict between this policy and specific product terms, the more protective provision for data subjects will prevail, unless a different legal obligation applies. If any point of this policy remains unclear, please get in touch. We remain committed to continuous improvement of privacy and security. Note: This policy may be complemented by a specific Data Processing Agreement (DPA) between AIVAX and the Account Manager, when applicable."
  },
  "docs/en/legal/terms-of-service.html": {
    "href": "docs/en/legal/terms-of-service.html",
    "title": "Terms of Use | AIVAX",
    "summary": "Terms of Use Version: 1.2 Effective date: December 26, 2025 Previous last update: October 5, 2025 Welcome to AIVAX. These Terms of Use (\"Terms\") govern your access to and use of our AI inference services, APIs, website, and any associated software (collectively, the \"Services\"). By creating an account, accessing, or using our Services, you (\"AIVAX Account Manager\") agree to be bound by these Terms and our Privacy Policy. If you do not agree to these Terms, do not use our Services. 1. Definitions AIVAX: The company providing the services. AIVAX Account Manager: The natural or legal person who creates and manages an account on the AIVAX platform and agrees to these Terms. Input Content: The data, text, prompts, or any other information that the AIVAX Account Manager sends to the Services for processing. Generated Content: The responses, text, images, or any other data generated by the AI models as a result of processing the Input Content. (Terminology Mapping): In the Privacy Policy, \"Inference Data\" jointly covers Input Content and Generated Content; \"Conversations\" represent aggregated sequences of these interactions. 2. Use of Services and Responsibilities 2.1. Responsible Use and Conduct You agree to use AIVAX Services ethically and responsibly. It is strictly prohibited: System Abuse: Engaging in activities that abuse, interfere with, disrupt, or harm the Services, our servers, or networks. This includes, but is not limited to, sending an excessive volume of requests that could be characterized as a denial‑of‑service (DoS) attack, attempting to find and exploit vulnerabilities, or trying to access unauthorized areas of the system. Inappropriate Behavior: Using the Services to harass, threaten, defame, deceive, or violate the legal rights and dignity of third parties. AIVAX values a healthy technological environment and will not tolerate conduct that could reasonably be interpreted as malicious or abusive. 2.2. Legal Compliance You are solely responsible for ensuring that your use of the Services complies with all applicable laws and regulations. Brazilian and International Laws: You agree not to use the Services to create or disseminate Generated Content that violates any law in force in Brazil or relevant international jurisdictions. This includes, but is not limited to, laws on copyright, intellectual property, defamation, hate speech, terrorism, and child exploitation. Internet Civil Framework and LGPD: Your use must respect the principles established by the Marco Civil da Internet (Law No. 12.965/2014) and the General Data Protection Law (LGPD – Law No. 13.709/2018). 2.3. Consent for Use of Personal Data The AIVAX Account Manager is the controller of the data entered into the Services. If Input Content includes personal data of third parties, you represent and warrant that: You Have the Appropriate Legal Basis: You have obtained the necessary legal basis (such as the explicit and informed consent of the data subject) to collect, process, and send this data to AIVAX for inference purposes. Full Responsibility: You are the sole and exclusive party responsible for complying with all LGPD obligations regarding this data, including responding to data‑subject requests. AIVAX acts only as a processor of this data under your instructions. 2.4. Eligibility To use AIVAX services, you must be legally capable, i.e., at least 18 years old or 16 years old if emancipated. By using our services, you represent that: you have not been suspended, removed, or banned from our service previously; your account is linked to a person without debts and in compliance with local laws and regulations; you meet the minimum age required to use our services. If you are using our services on behalf of another person, organization, or company, you assume that such entity has all necessary responsibility for its actions and accepts these terms of use. 2.5. Balance, Credits, and Refunds To use most AIVAX services, prepaid balance (\"credits\") must be added to your account. By using our services, you agree that: Our payment providers may collect and store deterministic data about you, such as physical addresses, payment data (e.g., credit cards), and any information required for billing the balance addition. This information is not linked to or used by AIVAX and is the responsibility of our payment partners. Before paying for credits, you can view the service fees charged by AIVAX in advance and refuse to pay them, preventing balance addition. Credits added expire one year after addition. After that period, the expired credit will no longer count toward your account balance. Refund Policy: In accordance with Art. 49 of the Consumer Defense Code (Law No. 8.078/1990), you may exercise the right of withdrawal within 7 (seven) calendar days from the date of balance addition, requesting a refund via legal@aivax.net. From the refundable amount, the following will be deducted: The costs corresponding to computing services (inferences, processing) and storage (RAG data, vectors, memories) actually consumed up to the request moment; The payment provider’s service fees, which are non‑refundable. The refund will be processed using the same payment method within up to 15 (fifteen) business days after approval. The remaining balance in the account will be deducted or zeroed. Data Deletion for Non‑Payment: Storing data (RAG Collections, Embedding Vectors, and User Memories) incurs continuous costs for AIVAX. If your account balance remains negative or zero for more than 30 (thirty) consecutive days, AIVAX reserves the right to permanently and irreversibly delete all stored data associated with your account, including RAG documents, vectors, and user memories, to stop operational costs. The account itself (login credentials and transaction history) will remain active to allow future credit top‑ups, but the mentioned data cannot be recovered after deletion. We strongly recommend that you regularly export your data and keep a positive balance to avoid loss of information. AIVAX will notify the registered email at least 7 (seven) days in advance before proceeding with data deletion. 3. Generated Content and Intellectual Property 3.1. Ownership and Responsibility for Generated Content Subject to these Terms, AIVAX grants you all rights, titles, and interests in the Generated Content. In other words: what you create is yours. Consequently, you are the sole and exclusive party responsible for the Generated Content and its subsequent use. You assume all risks associated with it, including legality, accuracy, suitability, and possible third‑party rights infringements. AIVAX bears no responsibility or obligation for how you use the Generated Content. Non‑Exclusivity and Similarity: Due to the statistical nature of the models, semantically or textually similar content may be generated for different users without cross‑access to the original inputs. We do not guarantee absolute exclusivity of expressions or ideas resulting from the models. You do not acquire any rights to model weights, internal prompts, techniques, or AIVAX trade secrets. Limited License Granted to AIVAX: By submitting Input Content, you grant AIVAX a worldwide, non‑exclusive, royalty‑free license limited to what is necessary to (i) process inferences; (ii) maintain technical logs and security; (iii) detect abuse; (iv) comply with legal obligations. We do not use Input Content or Generated Content to train proprietary models. High‑Risk Sectors: Generated Content must not be used as the sole basis for medical, legal, financial, critical safety engineering, or any context that could generate significant physical or financial risk without qualified human validation. 3.2. Adult, Explicit, and Sensitive Content AIVAX is a tool and, as such, can be used to generate a wide range of content. Generation of explicit, adult, or pornographic content is permitted, provided the following conditions are strictly observed: Full Responsibility: You assume total and complete responsibility for creating, storing, and distributing such material. Undeniable Legality: The material must never violate any applicable law, with zero tolerance for content that depicts or suggests child exploitation, non‑consensual violence, or any other form of illegal abuse. Consent: If the material involves representations of real people, you must have explicit and verifiable consent from those individuals to create and use their images for that purpose. Access Control: You are responsible for implementing your own access‑control and age‑verification mechanisms if you decide to make this content available to third parties. AIVAX does not endorse this type of content and reserves the right to investigate and suspend accounts that violate the above conditions. 4. Third‑Party Model Providers and BYOK 4.1. Bring Your Own Key (BYOK) – Use of Own Keys AIVAX offers the optional BYOK (Bring Your Own Key) functionality, allowing you to use your own API keys from external providers (such as OpenAI, Anthropic, Google, among others) for inferences. By opting for this functionality, you agree and acknowledge that: Full Responsibility: You are the sole and exclusive party responsible for obtaining, custodial handling, management, and compliance of use of your own API keys. AIVAX has no control over the policies, usage limits, or terms set by the original providers of those keys. Bans and Restrictions: AIVAX is not responsible for suspensions, bans, rate‑limit restrictions, service interruptions, or any other penalties applied by the original provider to your key. If your key is blocked or revoked, services that depend on it cannot be executed. Peripheral Service Charges: Even if you use your own keys for inferences, AIVAX peripheral services — including, but not limited to, data storage, RAG processing, vector management, user memories, agent orchestration, and auxiliary tools — continue to be charged against the credit balance of your AIVAX account, according to current pricing. Ethical and Legal Use: Using your own keys does not exempt you from the obligations set out in these Terms, including legal compliance, abuse prohibition, and adherence to acceptable‑use policies. 4.2. Third‑Party Models Provided by AIVAX AIVAX Services may route your Input Content to AI models operated by third parties. When using a specific model, you may also be subject to that model provider’s terms of use. It is your responsibility to review and comply with such terms. AIVAX is not liable for third‑party providers’ policies or practices. 5. Suspension and Termination AIVAX reserves the right to suspend, terminate, or ban your access to our services, at its sole discretion and without prior notice, for any violation of these terms. Activities that may lead to suspension include, but are not limited to, legal‑compliance violations, system abuse, or non‑payment. Suspensions may be temporary or permanent, depending on the severity of the breach. 6. Limitation of Liability and Disclaimer of Warranties THE SERVICES ARE PROVIDED \"AS IS\" AND \"AS AVAILABLE\", WITHOUT WARRANTIES OF ANY KIND, WHETHER EXPRESS OR IMPLIED. AIVAX DOES NOT WARRANT THAT THE SERVICES WILL BE UNINTERRUPTED, SECURE, OR ERROR‑FREE. UNDER NO CIRCUMSTANCES WILL AIVAX BE LIABLE FOR ANY INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL, OR PUNITIVE DAMAGES ARISING FROM YOUR ACCESS TO OR USE OF THE SERVICES. GENERATED CONTENT MAY CONTAIN INACCURACIES, OMISSIONS, OR “HALLUCINATIONS” AND IS PROVIDED FOR INFORMATIONAL PURPOSES ONLY; THE USER IS RESPONSIBLE FOR HUMAN VERIFICATION BEFORE ANY CRITICAL USE. 7. Indemnification You agree to indemnify, defend, and hold harmless AIVAX, its affiliates, administrators, collaborators, and partners from any claims, losses, damages, liabilities, costs, and expenses (including reasonable attorney fees) resulting from: (i) Input Content; (ii) misuse of the Services; (iii) breach of these Terms or applicable law; (iv) infringement of third‑party intellectual property, privacy, or personality rights; (v) improper use or exposure of API keys issued to your account. 8. Termination and Post‑Termination We may terminate or suspend access to the Services (in whole or in part) if: (i) there is a breach of these Terms; (ii) a security risk; (iii) a legal requirement; (iv) repeated non‑payment; (v) abuse or fraud. After termination: (a) your access and keys may be deactivated immediately; (b) you may request export of available data (when the functionality exists) within 15 days; (c) data will be deleted or anonymized in accordance with the Privacy Policy, subject to legal obligations and rights defense; (d) outstanding amounts remain payable. 9. Force Majeure No party will be liable for performance failures or delays caused by events beyond its reasonable control, including, but not limited to, natural disasters, governmental actions, widespread internet infrastructure failures, massive cyber‑attacks, pandemics, wars, or broad power outages. Payment obligations are not discharged by consummated force‑majeure events. 10. Export Controls and Sanctions You represent that you are not located in, nor acting on behalf of, any entity or person subject to sanctions or trade restrictions imposed by Brazilian or international authorities, including, but not limited to: Trade restriction lists maintained by the Brazilian Government; United Nations (UN) economic sanctions; Specially Designated Nationals (SDN List) and other sanctions lists maintained by the OFAC (Office of Foreign Assets Control) of the U.S. Department of the Treasury, considering that AIVAX uses infrastructure and providers based in the United States. You will not use the Services for purposes prohibited by export, anti‑corruption, or anti‑terrorism laws. Breach of this clause may result in immediate suspension or termination of your account without refund rights. 11. Confidentiality and Credential Security You must keep API keys, tokens, and credentials associated with your account confidential, implementing appropriate access controls. Any activity performed with your credentials will be presumed authorized by you until a compromise is reported. You commit to promptly notify AIVAX of any suspected unauthorized use. 12. Feedback and Improvements Any comments, suggestions, ideas, or feedback you provide may be freely used by AIVAX to improve or develop products and services, without any obligation of compensation, credit, or additional confidentiality. 13. Beta Features and Model Discontinuation Features identified as “Beta”, “Experimental”, or equivalent may be unstable, exhibit behavior changes, or be removed without notice. We may discontinue models or adjust technical limits (latency, throughput, quotas) for performance, cost, compliance, or security reasons. 14. Takedown Procedure If you believe any output or use of the Services infringes copyright, trademark, or other rights, send a notice to legal@aivax.net containing: (i) precise identification of the material; (ii) basis of the claim; (iii) your contact information; (iv) a statement of good faith and truthfulness. We may remove or limit access preemptively and terminate repeat‑offender accounts. 15. Assignment You may not assign or transfer these Terms without prior written consent from AIVAX. AIVAX may assign these Terms, in whole or in part (including in corporate transactions, mergers, acquisitions, or reorganizations), upon simple notice. 16. Survival The following provisions survive termination: Intellectual Property, Limitation of Liability, Indemnification, Confidentiality, Termination (post‑termination obligations), Assignment, Governing Law and Jurisdiction, and any others that by their nature must persist. 17. Entire Agreement These Terms, together with the Privacy Policy and any expressly referenced additional documents, constitute the entire agreement between you and AIVAX, superseding any prior understandings or communications regarding the subject matter. 18. Notices Formal notices may be delivered via: (i) registered email; (ii) notices on the dashboard; or (iii) publication on the official Terms page. A notice sent by email is considered received after 24 hours of sending, unless a proven technical error occurs. 19. Price and Limit Updates We may adjust prices, billing models, usage limits, or quota policies. Material changes affecting future costs will be communicated with reasonable advance notice (unless required by law or emergency). Continued use after the changes take effect implies acceptance. 20. Language This Portuguese version prevails over any translation provided solely for convenience. 21. Modifications to the Terms We may modify these Terms at any time. We will notify you of changes by publishing an updated version or sending electronic communication. Material changes may require additional acceptance or may result in usage interruption if you do not agree. Continued use after the effective date of the changes constitutes acceptance. 22. General Provisions These Terms are governed by the laws of the Federative Republic of Brazil. The court of the County of São Paulo, State of São Paulo, Brazil, is elected to resolve disputes, with a waiver of any other jurisdiction, however privileged. The possible invalidity of any clause does not affect the validity of the remaining provisions. For any questions about these Terms of Use, contact: **legal@aivax.net**."
  },
  "docs/en/limits.html": {
    "href": "docs/en/limits.html",
    "title": "API Limits | AIVAX",
    "summary": "API Limits Rate limits regulate the number of requests you can send within a time window. They help prevent abuse and ensure stability for all users. The limits below are applied according to your account tier: Tier zero: new account that has never added credits or that has test credits. Tier 1: account created at least 48 hours ago and that has already added any amount of credits. Tier 2: account created at least 1 month ago and that has already added at least $100 in credits. Tier 3: account created at least 3 months ago and that has already added at least $1,000 in credits. Measurement is based on credit addition rather than consumption. Example: you do not need to spend $100 to move to Tier 2, just add that amount. Legends: RPM: requests per minute RPD: requests per day (24h) TPM: input tokens per minute New account Tier 1 Tier 2 Tier 3 Operation RPM RPD TPM Document search 10 - - Document insertion - 30 - Inference (requests) 5 30 - Inference (input tokens) - - 50.000 Inference (input tokens - high-end) 0 - 0 Serverless execution 5 100 - Tools (shared) - 100 - Tool web_search - 15 - Tool x_posts_search - 10 - Tool generate_image - 3 - Operation RPM RPD TPM Document search 150 - - Document insertion - 3.000 - Inference (requests) 75 10.000 - Inference (input tokens) - - 1.000.000 Inference (input tokens - high-end) - - 200.000 Serverless execution 30 - - Tools (shared) - 1.000 - Tool web_search - 300 - Tool x_posts_search - 100 - Tool generate_image - 30 - Operation RPM RPD TPM Document search 300 - - Document insertion - 10.000 - Inference (requests) 200 - - Inference (input tokens) - - 4.000.000 Inference (input tokens - high-end) - - 1.000.000 Serverless execution 100 - - Tools (shared) - 10.000 - Tool web_search - 1.000 - Tool x_posts_search - 500 - Tool generate_image - 300 - Operation RPM RPD TPM Document search 1.000 - - Document insertion - 30.000 - Inference (requests) 1.000 - - Inference (input tokens) - - 10.000.000 Inference (input tokens - high-end) - - 4.000.000 Serverless execution 500 - - Tools (shared) - 50.000 - Tool web_search - 10.000 - Tool x_posts_search - 5.000 - Tool generate_image - 1.000 - Operation descriptions: Document search: includes semantic search of documents in a collection. Document insertion: creation and modification of documents in a collection. Inference (requests): number of inference or function calls (API or chat client). Inference (input tokens): input tokens used in inference. Inference (input tokens - high-end): input tokens for high‑end models (Tier 1+). Serverless execution: calls to serverless function. Tools (shared): use of built‑in tools provided by AIVAX (does not include custom tools). Tool (name): individual use of each integrated tool. Model groups Certain models have rate multipliers: Standard: 1x Discounted: 0.5x Low‑latency: 0.3x Free: 0.1x Example: if you use a \"discounted\" model, the rate limits will be 50% lower (e.g., 75 req/min → 37 req/min). Limits for BYOK (Bring-your-own-key) For models provided by you, the limit is 1,500 requests per minute (separate from the integrated inference limit)."
  },
  "docs/en/pricing.html": {
    "href": "docs/en/pricing.html",
    "title": "Pricing | AIVAX",
    "summary": "Pricing The AIVAX payment model is pre‑paid: you add balance to your account and use our services by consuming that credit. We don’t send surprise invoices at the end of the month. This guarantees full predictability of your inference and agent spending. When adding credits, AIVAX charges a small fee (varying by payment method) to cover taxes (invoices), bank fees, and operational costs. Inference pricing (text generation) is passed through directly from providers (such as Google and OpenAI) without markup. You pay AIVAX exactly the same list price you would pay when using those providers directly. We use different services to help you create agentic assistants. Some tools have specific costs that are debited from your balance with no additional fees. Note: Inference is calculated in US dollars (USD). Currency fluctuations may occur when converting from your local currency to dollars at the time of recharge or usage. Credit Expiration Since we cannot predict which model you will use, we need to align credit validity with the most restrictive policies of our suppliers. Currently, credits expire 12 months after the addition date. See the details in our terms of service. Bring‑your‑own‑key (BYOK) You can connect your own API key (compatible with OpenAI) to use AIVAX’s infrastructure. Inference Cost: $0.00 (charged directly by the key owner). Limits: Rate limits are increased to 1,500 requests per minute (≈ 25 req/s), with no token limits. Important: Even when using your own key, peripheral AIVAX services (such as storage of RAG, web search, image generation, etc.) are still charged against your AIVAX balance. If your balance goes negative, the service will be halted, including BYOK calls. RAG (Collections and Vectors) Indexing cost depends on the embedding model you choose. Default Model: @google/gemini-embedding-001: $0.15 / 1 million tokens. Legacy/Compatibility Models: @google/text-embedding-004: $0.10 / 1 million tokens. @baai/bge-m3: $0.012 / 1 million tokens. At the moment, we do not charge computational fees for processing the indexing, only for the resulting storage. Token Calculation Since not all providers return the exact token count in the response, we use the industry‑standard approximation for billing: tokens = ceil(utf8_bytes_count / 4) Storage To maintain the integrity and availability of your data, we charge a storage fee per hour. Price: $0.0015 per GB / hour. Free Tier: The first 100 MB are free. How billing works: You pay only for the excess beyond the free tier. Example: If you use 120 MB for one hour, you pay only for the 20 MB excess. Example: If you use 80 MB, the cost is zero. What consumes storage: Long‑term user memory (saved chats and inferences); Cache of image descriptions (multimodal processing); RAG document content and its vectors. System logs are temporary and do not generate storage costs. Tools The native tools of AIVAX have specific prices and limits. See the documentation for each tool."
  },
  "docs/en/rag/best-practices.html": {
    "href": "docs/en/rag/best-practices.html",
    "title": "Best Practices for RAG | AIVAX",
    "summary": "Best Practices for RAG To obtain the best results with indexing and semantic search, the quality of your documents is fundamental. The way you structure and write your documents directly impacts the model's ability to retrieve the correct information. Structure and Size A document should represent a limited and self‑contained snippet of knowledge. Ideal size: Keep documents between 20 and 700 words. Too short (< 20 words): May not have enough context to be found semantically. Too long (> 700 words): May have its content truncated, affecting indexing quality, or mix many different topics, confusing the search. What to Do and What to Avoid ❌ Do not Very short or empty documents: Avoid creating documents with 10 words or fewer. Giant documents: Do not submit documents with thousands of words; break them into smaller parts. Mixing subjects: Do not talk about multiple unrelated things in the same document (e.g., \"How to start the car\" and \"Gas price\" in the same text). Mixing languages: Keep the document in a single language for better embedding performance. Implicit language: Avoid texts where the subject or context is not clear (e.g., \"He is blue\" – who is he?). Excessively technical language: Avoid indexing pure JSONs or code logs without textual explanation. ✅ Do Be explicit: The document should make sense on its own. Single focus: Each document should cover a single topic or concept. Keyword repetition: Use important terms explicitly. Example: Prefer \"The color of the 2015 Honda Civic is yellow\" instead of \"the car's color is yellow\". Natural language: Write as a human would speak or explain the subject. Use Tags: Use tags to categorize your documents and facilitate filters. Additional Tips Context Independence: Imagine the document will be read out of order. Does it still make sense? If the answer is no, rewrite it to be independent. Metadata: Use the metadata field to store structured information (source, author, date) that does not need to be searched semantically but is useful for reference. Chunks: If you have a large PDF, do the \"chunking\" (splitting) of it into paragraphs or logical sections before indexing. Following these guidelines will ensure that the RAG system retrieves the most relevant information for your users."
  },
  "docs/en/rag/collections.html": {
    "href": "docs/en/rag/collections.html",
    "title": "Collections and Documents | AIVAX",
    "summary": "Collections and Documents A AIVAX provides an autonomous RAG (Retrieval-Augmented Generation) service that allows using documents in chat conversations. Collections are groups of documents that contain information that will be retrieved later, stored persistently in a similarity database. Collections Collections let you upload, save, manage, and semantically query documents stored in them. You can associate a collection with an AI gateway or query it directly via the API. Through the AIVAX interface, you can upload batches of documents and create documents with chunking, and associate them as a single document in the embedding result. Costs and limits There is no limit to how many documents can be indexed in collections. Query and storage charges may apply to the account. The cost of search and indexing is calculated based on the tokens of each document’s content when it is indexed or modified. The content is tokenized according to the model used for indexing. Documents A document represents a piece of knowledge. It is a limited, self‑contained excerpt that makes sense on its own. A document is the component that is indexed by the internal model to be retrieved later via a semantic search term. Consider a car manual: it is not a single document but several documents. Each of these documents talks, in isolation, about a specific topic regarding that car, so that the document does not depend on external context or information to make sense. Upload documents in batch To upload a large list of documents to a collection, structure them following the JSONL format. The structure consists of the following properties: Property Type Description docid string Specifies the document’s name. Useful for debugging and identification. text string The raw content of the document that will be indexed. __ref string Optional. Specifies a reference ID for the document. __tags string[] Optional. Specifies an array of tags for the document. Useful for document management. The reference of a document is an ID that can be specified in multiple documents that need to be linked in a search when one of them is matched in a similarity search. For example, if a search finds a document that has a reference ID, all other documents in the same collection that share that reference ID will also be included in the search response. You can upload up to 50,000 document lines per request. If you need to send more documents, split the upload into multiple requests. Warning This endpoint incurs cost calculated based on the tokens of each document’s content. Document Management Create or update document This endpoint creates or updates a document by its name. When a document is updated, its indexing vectors are reset and the document is queued for re‑indexing. The cost is incurred only when the document is actually changed. List documents Lists all documents available in a collection. Supports filtering by name, tag, reference, or content. Supported filters: -t \"tag\": filters documents that have this tag. -r \"reference\": filters documents that have this reference ID. -c \"content\": filters documents that contain this snippet in their content. -n \"name\": filters documents that contain this snippet in their name. in \"id\": filters documents by ID."
  },
  "docs/en/rag/semantic-search.html": {
    "href": "docs/en/rag/semantic-search.html",
    "title": "Semantic Search | AIVAX",
    "summary": "Semantic Search The search API, using the query key obtained from collections, performs a semantic search on it, performing an intelligent comparison for each document indexed in a collection. After creating a collection, you will receive its ID. Use your collection's ID to search the indexed documents of that collection. AIVAX uses embedding models that allow task orientation. For searching, the term is vectorized with an orientation DOCUMENT_QUERY. For document indexing, the orientation is DOCUMENT_RETRIEVAL, which provides a more optimized search. Warning This endpoint incurs cost. The cost is calculated based on the tokens of the search term."
  },
  "docs/en/tools/builtin-tools.html": {
    "href": "docs/en/tools/builtin-tools.html",
    "title": "Built-in Tools | AIVAX",
    "summary": "Built-in Tools AIVAX provides a list of built-in tools for you to enable in your model. These tools can be used together with the server-side functions. Some functions have a cost. This cost is applied to models used by AIVAX and those you provide via BYOK (bring-your-own-key), so it is important to add balance if you intend to use these tools. Note that each model decides which function to call and its parameters. Not all models can obey the calling rules. Web Search This function enables web search in your model. With it, the model can look up specific or real-time information, such as weather data, news, game results, etc. Web search is performed by various providers, chosen based on network availability and latency. AIVAX uses a mix of providers to perform web searches. AIVAX provides two types of search configurable via your dashboard: Full: the performed search is complete, inserting the entire content of each result found into the conversation context. Summarized: the performed search is summarized, inserting into the conversation context a summary generated by AI by the search provider itself. The cost of both modes is $5 per 1,000 searches performed. The Full mode may consume more input tokens of the conversation, but can provide more accurate results. Note Important: the Full search is not always available. Advanced Web Search This function allows the model to have a web browser and perform automation, such as searches, navigating sites, filling forms, and clicking buttons. Currently there is no parameterization for this function. The cost of this function is $2 per hour of automation, with also a fixed amount of $11.10 per 1,000 calls of this function. Code Execution This function allows the model to execute JavaScript code and inspect the execution result. With this, the model can evaluate results of mathematical expressions and other situations that are better represented through code using algorithms. The code is executed in a protected environment with very few functions available. The model will not be able to access I/O, internet access, or import scripts via this tool. This function has no cost. URL Context This function allows the model to access external content at URLs and links provided by the user. With this function, the model can access links and evaluate their content. Note that some destinations may identify the access as a bot and block it, as this function is not crawling but a simple GET to the destination. The model can access up to 5 links at a time. Only the first 10 MB of the links are read. Upon obtaining the link content, the system checks the returned content and handles it according to each type: HTML content is rendered: HTML tags, scripts, CSS, and “noise” are removed from the access result, keeping only the plain text of the link. Other textual content: the content is read directly and no transformation is performed. Non-textual content: when the link responds with non-textual content and the response indicates a filename (either via the path or the Content-Disposition header), the system attempts to convert the downloaded file to a textual version. This function has no cost. Memory This function allows the model to store relevant content to be used across multiple conversations. Currently, this function is only available when used in chat clients and when the session is identified by a tag. Through the session tag, the model stores a relevant piece of conversation data, such as name preferences, reminders, or actions the assistant should perform. The instruction of this memory tells the model not to save sensitive or personal data, however, it is not guaranteed that the model will always follow this rule. The data is stored for one year in AIVAX's databases and can be deleted at any time by the platform. For every conversation via a chat client, this data is retrieved and attached to the conversation. This function has no cost. Image Generation This function allows the model to create AI-generated images. The AI-generated images are attached to the conversation context, but are not directly visible to the assistant. Currently, there are four categories of generated images: Low quality: generates images quickly with low cost, however, may produce many artifacts, such as extra fingers, distorted eyes, misplaced arms. Medium quality: a balance between good quality and speed, but may still produce artifacts. High quality: higher image quality and lower chance of artifacts in the image. Ultra-high quality: the highest quality in image generation. After generation, an upscaling model refines the created image. This function has a cost. The cost varies with the processing time of each image, which is affected by processing consumption, queue size, models used, etc. Image generation occurs on an external provider, so the cost can change based on various factors. The example image above shows a price forecast for each image quality. You can also enable the generation of explicit and adult images in image generation. When this feature is enabled, the model will be allowed to generate adult material. For this to happen, the model must also \"agree\" to generate this content. Certain models have a lower safety filter than others. For example, Gemini models have the lowest safety filter, making them a viable option for role‑play and generating such material. You are always responsible for the material you generate and the generated material must comply with our terms of service. Generated images are stored on AIVAX's servers for a few months before being permanently removed. X Post Search This function allows the model to search for posts on X (formerly Twitter). It is a direct alternative to web_search, as it can be used to look for up-to-date real-time information, such as news, information, game results, etc. This tool provides much more recent results than conventional web search. It is not recommended to use both functions together as they have the same purpose. Currently, the latest 20 posts on a given topic are inserted into the conversation context, containing link and author. Currently, it is not possible to access posts from specific profiles. The cost of this function is $5 per 1,000 searches performed. Document Generation This function allows the model to create PDFs from HTML text. The created files are hosted on AIVAX's servers and made available by the assistant. The content is hosted for a few months before being permanently deleted. This function has no cost. Web Page Generation This function allows the model to host HTML pages on AIVAX's servers. This enables the model to host reports, landing pages, and other HTML infographics. The content is hosted for a few months before being permanently removed. This function has no cost."
  },
  "docs/en/tools/mcp.html": {
    "href": "docs/en/tools/mcp.html",
    "title": "Support for Model Context Protocol (MCP) | AIVAX",
    "summary": "Support for Model Context Protocol (MCP) It is possible to bind external MCP protocol tools in your AI Gateway. The protocol defines functions that run on the server side and enable the assistant to interact with real‑time services. MCP functions persist the server‑side action call of AIVAX, removing the need to implement the function on the client side. Choosing the function name The function name should be simple and deterministic about what the function does. Avoid hard‑to‑guess names or names that do not reflect the function’s role, as the assistant may get confused and not call the function when appropriate. As an example, let's think of a function that queries a user in an external database. The following names are good examples to consider for the call: search_user query_user Bad names include: search (implicit, possibly ambiguous) search user (name with improper characters) Having the function name, we can think about the function description. Choosing the function description The function description should conceptually explain two situations: what it does and when it should be called by the assistant. This description should include the scenarios the assistant should consider calling it and when it should not be called, providing a few one‑shot call examples and/or making the function rules explicit. Defining MCP servers You can define your MCP servers in the gateway through a JSON array: [ { \"name\": \"My MCP server\", \"url\": \"https://example-server.io/mcp\", \"headers\": { \"Authorization\": \"sk-pv-12nbo...\" } } ] Your MCP server must be enabled for SSE or Streamable HTTP to work with AIVAX. You can set custom headers in your MCP server configuration to configure authentication or other needs. AIVAX calls to the remote MCP server will normally send additional metadata information through the _meta field of the MCP: { \"jsonrpc\": \"2.0\", \"id\": 2, \"method\": \"tools/call\", \"params\": { \"name\": \"get_weather\", \"arguments\": { \"location\": \"New York\" }, \"_meta\": { \"_aiv_nonce\": \"$2a$12$ynC9kC2q6iuEjO8SFDQqVeDxvHPUIZ9jTClE91SJo8VYtt/BSJDUG\", \"_aiv_external_user_id\": \"custom-user-id\", \"_aiv_call_source\": \"WebChatClient\", \"_aiv_conversation_token\": \"iiocc6stxgj5jc75ay4y\", \"_aiv_moment\": \"2025-09-09T16:58:05\", \"custom_metadata_field_1\": \"foo\", \"something\": \"bar\" } } } From the values defined in _meta, you have the inference, client, or function metadata parameters. Values prefixed with _aiv are reserved for AIVAX parameters."
  },
  "docs/en/tools/protocol-functions.html": {
    "href": "docs/en/tools/protocol-functions.html",
    "title": "Server-side Functions | AIVAX",
    "summary": "Server-side Functions The protocol functions of AIVAX, or server-side functions, are an implementation where the model's tool calls occur on the server side. Similar to MCP, but with native authentication support and optimized to operate externally. The protocol functions allow actions to be taken on AIVAX's server side, removing the need to implement the function on the client side and integrating with existing applications and services. These functions expect a callback via a URL, and when the model decides to call the function, the callback is accessed with the parameters provided by the assistant itself. The assistant does not know which URL it is calling, as it remains invisible to both the assistant and the user. Choosing the function name The function name should be simple and deterministic to what the function does. Avoid names that are hard to guess or that do not refer to the function's role, as the assistant may get confused and not call the function when appropriate. As an example, let's think of a function to look up a user in an external database. The following names are good examples to consider for the call: search_user query_user Bad names include: search (too generic) query-user-in-database-data (name too long) pesquisa-usuario (name not in English) search user (name with improper characters) Having the function name, we can think about the function description. Choosing the function description. The function description should conceptually explain two situations: what it does and when it should be called by the assistant. This description should include the scenarios the assistant should consider calling it and when it should not be called, providing a few one-shot call examples and/or making the function rules explicit. Defining protocol functions These functions are defined in the AI-gateway, which enables the creation of intelligent agents that perform actions without human intervention. They follow a simple syntax, expecting the function name, a description of what it does, and the invocation parameters. Protocol functions are defined in the AI gateway using JSON: POST /api/v1/ai-gateways { \"name\": \"my-ai-gateway\", \"parameters\": { ... \"protocolFunctions\": [ { \"name\": \"list_clients\", \"description\": \"Use essa ferramenta para listar e procurar pelos clientes do usuário.\", \"callbackUrl\": \"https://my-external-api.com/api/scp/users\", \"contentFormat\": null }, { \"name\": \"view_client\", \"description\": \"Use essa ferramenta para obter detalhes e pedidos de um cliente através do seu ID.\", \"callbackUrl\": \"https://my-external-api.com/api/scp/users\", \"contentFormat\": { \"type\": \"object\", \"properties\": { \"user_id\": { \"type\": \"string\", \"format\": \"uuid\" } }, \"required\": [\"user_id\"] } } ] } } In the snippet above, you are providing two functions for your AI model: list_clients and view_client, which will decide which one will be executed during its reasoning. You can also provide a JSON content format that the model will use when calling your API with the supplied content. You can also define the list of supported functions via an endpoint. Every time the model receives a message, it will query the provided endpoint to obtain a list of functions it can execute. Define the function listing endpoints in your AI gateway: POST /api/v1/ai-gateways { \"name\": \"my-ai-gateway\", \"parameters\": { ... \"protocolFunctionSources\": [ \"https://my-external-api.com/api/scp/listings\" ] } } The function provisioning endpoint must respond following the format: GET https://my-external-api.com/api/scp/listings { \"functions\": [ { \"name\": \"list_clients\", \"description\": \"Use essa ferramenta para listar e procurar pelos clientes do usuário.\", \"callbackUrl\": \"https://my-external-api.com/api/scp/users\", \"contentFormat\": null }, { \"name\": \"view_client\", \"description\": \"Use essa ferramenta para obter detalhes e pedidos de um cliente através do seu ID.\", \"callbackUrl\": \"https://my-external-api.com/api/scp/users\", \"contentFormat\": { \"type\": \"object\", \"properties\": { \"user_id\": { \"type\": \"string\", \"format\": \"uuid\" } }, \"required\": [\"user_id\"] } } ] } These functions are cached for 10 minutes before a new request is made to the provided endpoint. Handling function calls Functions are invoked at the endpoint provided in callbackUrl via an HTTP POST request, with the body: { \"function\": { \"name\": \"view_client\", \"content\": { \"user_id\": \"3e5a2823-98fa-49a1-831a-0c4c5d33450e\" } }, \"context\": { \"externalUserId\": \"...\", \"moment\": \"2025-05-18T03:36:27\" } } The response to this action must always return an HTTP OK status (2xx or 3xx), even for errors the assistant may have made. A non-OK response will indicate to the assistant that the function could not be called and it will not continue with what it was planning to do. Response format Successful responses should be textual and will be attached as the function's response in whatever way the endpoint returns it. There is no JSON format or structure for this response, but it is advisable to give a simple, human‑readable answer so the assistant can read the result of the action. Errors can be common, such as not finding a client by ID or a field not being in the desired format. In these cases, respond with an OK status and include a human description of the error and how the assistant can work around it in the response body. It is guaranteed that the request will strictly follow the JSON Schema of the content provided by the function definition. Functions that do not expect arguments should not specify a content format for that function. Important The more functions you define, the more input tokens you will consume in the reasoning process. The function definition, as well as its format, consumes tokens in the reasoning process. Authentication Request authentication is performed via the X-Aivax-Nonce header sent in all protocol function requests, including listing requests. See the authentication manual to understand how to authenticate reverse requests from AIVAX. User authentication Function calls send a $.context.externalUserId field containing the user tag created in a chat session. This tag can be used to authenticate the user who called the function. Security considerations For the AI model, only the name, description, and format of the function are visible. It cannot see the endpoint to which the function points. Additionally, it does not have access to the user tag authenticated in a chat client. Specialist functions In addition to the builtin tools, you can define specialist functions that perform specific tasks in your AIVAX account. You define specialist functions using the aivax:// URL scheme, following the example below: { \"name\": \"my-ai-gateway\", \"parameters\": { ... \"protocolFunctions\": [ { \"name\": \"search_disease\", \"description\": \"Use essa ferramenta para pesquisar por doenças, tratamentos e sintomas.\", \"callbackUrl\": \"aivax://query-collection?collection-id=0196f5ef-9334-742b-a988-f913bb3be5ba&top=5&min=0.4\", \"contentFormat\": { \"type\": \"object\", \"properties\": { \"query\": { \"type\": \"string\", \"description\": \"Nome da doença, tratamento ou sintomas.\" } }, \"required\": [ \"query\" ] } } ] } } The function above creates a tool for the AI to query a specific document collection, guiding the assistant on what to search in that collection and what to expect in a response. This way, you can link multiple RAG collections for an assistant to retrieve specialist content. You can customize the description of the JSON Schema properties for specialist functions but not their structure, as our backend expects a specific format to call the functions. Specialist function parameters are supplied in the URL via query parameters. Currently, only one specialist function exists: query-collection: performs a RAG search on a specified collection. Query parameters: collection-id: the UUID of the collection to be searched. top: a number indicating how many documents should be returned in the search. min: a decimal indicating the minimum similarity score of the search. JSON format of the function: { \"type\": \"object\", \"properties\": { \"query\": { \"type\": \"string\", \"description\": \"Conteúdo da pesquisa.\" } }, \"required\": [ \"query\" ] }"
  },
  "docs/features/chat-clients.html": {
    "href": "docs/features/chat-clients.html",
    "title": "Chat Clients | AIVAX",
    "summary": "Chat Clients Um cliente de chat provê uma interface de usuário através de um AI Gateway que permite o usuário conversar com sua assistente. Um chat client é integrado à inferência do AI gateway e dá suporte para pensamento profundo, pesquisa e conversa por texto. Recursos multi-modais, como envio de imagens e áudio estão em desenvolvimento. Você pode personalizar a interface do seu chat client com CSS e JavaScript personalizado, além de poder escolher a linguagem dos recursos do chat. Criar uma sessão de chat Uma sessão de chat é onde você cria uma conversa entre seu chat client e o usuário. Você pode chamar esse endpoint informando contexto adicional para conversa, como o nome do usuário, onde ele está, etc. Uma sessão de chat expira após algum tempo por segurança do token de acesso gerado. Quando você chama esse endpoint informando uma tag você pode chamar o mesmo endpoint várias vezes e obter a sessão de chat que está ativa para a tag informada, ou criar um chat novo se não existir uma sessão em andamento. Quando uma sessão é encontrada no cliente de chat através da tag informada, a sessão é renovada pelo período informado e o contexto é atualizado. Uma sessão de chat também restaura todas as mensagens da conversa da mesma sessão após desconexão. O usuário pode limpar a conversa ao clicar no botão de limpar conversa no canto superior direito do cliente de chat. Essa sessão usa os limites definidos pelo cliente de chat, como máximo de mensagens e tokens na conversa. Se uma sessão estiver próxima de expirar, ela é renovada por mais 20 minutos na próxima mensagem do usuário. Para detalhes sobre como criar uma sessão de chat, consulte o endpoint Create Web Chat Session. Sessões de integrações A AIVAX fornece duas integrações para clientes de chat: Telegram e WhatsApp (através do Z-Api). Cada conversa em um aplicativo é uma sessão individual, identificada pelo ID da conversa ou número de telefone do usuário. Essas sessões obedecem as regras do chat client original. Além disso, sessões de chat nessas integrações possuem dois comandos especiais: /reset: limpa o contexto atual da sessão. /usage: quando debug está ativo no chat client, exibe o uso atual do chat em tokens."
  },
  "docs/features/skills.html": {
    "href": "docs/features/skills.html",
    "title": "Habilidades | AIVAX",
    "summary": "Habilidades Habilidades (também conhecido como skills) podem ser usadas para melhorar como seu agente performa em tarefas específicas. Habilidades são instruções especiais que são recuperadas por demanda, e o seu agente carrega essas habilidades conforme necessita. O ideal é que seu agente só use uma habilidade quando relevante para a tarefa que está desempenhando. Ela é embutida na conversa através de uma ferramenta especial e instruções sobre habilidades são adicionadas no contexto, indicando que o agente possui habilidades fornecidas no contexto e que podem ser usadas na conversa. Como funcionam as habilidades? As habilidades são primariamente fornecidas através de nome e uma breve descrição do que aquela habilidade é e quando ela deve ser usada. Você pode ter várias habilidades em sua conta, mas usar somente parte delas em seu AI gateway. As habilidades ativadas no AI gateway são injetadas nas instruções de sistema do seu modelo e uma função adicional é adicionada no contexto. Quando o modelo chama a ferramenta de leitura de habilidades, as instruções daquela habilidade é inserida nas instruções do sistema do contexto de forma dinâmica. Somente uma habilidade pode ser ativada por contexto, e o LLM pode alterar a habilidade ativa conforme necessita. Para que isso funcione, o modelo base escolhido deve suportar chamadas de função e instruções de sistema. Caso seu modelo não suporte chamadas de função, considere usar um tool handler para manipular chamadas de função. Caso seu modelo não suporte instruções de sistema, considere usar a flag No system instructions, que fornece instruções de sistema como uma mensagem de usuário. Modelos maiores tendem à seguir estritamente instruções e chamadas de função. Realize testes para saber se seu modelo está alterando suas habilidades conforme necessário. Como escrever habilidades? Escrever habilidades eficazes requer clareza e especificidade nas instruções. Aqui estão as principais diretrizes: Estrutura de uma habilidade Uma habilidade bem escrita deve conter: Nome claro e descritivo: Use nomes que identifiquem imediatamente o propósito da habilidade (ex: \"Análise de Código Python\", \"Atendimento ao Cliente\", \"Tradução Técnica\"). Descrição concisa: Forneça uma descrição breve (1-2 frases) que explique quando a habilidade deve ser ativada. Esta descrição é crucial, pois o modelo usa ela para decidir se deve carregar a habilidade. Instruções detalhadas: As instruções propriamente ditas devem incluir: Objetivos claros da tarefa Formato esperado de resposta Regras específicas a seguir Exemplos quando apropriado Restrições ou limitações importantes Boas práticas Seja específico: Evite instruções vagas. Em vez de \"seja útil\", diga \"forneça explicações passo a passo com exemplos de código\". Use linguagem imperativa: Comece frases com verbos de ação (analise, explique, compare, liste). Mantenha o escopo limitado: Cada habilidade deve focar em uma área específica de conhecimento ou tipo de tarefa. Teste iterativamente: Refine suas habilidades baseado em como o modelo responde na prática. Evite redundância: Não repita informações já presentes nas instruções base do sistema. Exemplo de habilidade Nome: Análise de Performance de Código Descrição: Use quando o usuário pedir análise de performance, otimização ou identificação de gargalos em código. - Analise o código fornecido identificando possíveis gargalos de performance - Considere complexidade temporal (Big O) e uso de memória - Sugira otimizações específicas com exemplos de código - Explique o impacto de cada otimização proposta - Priorize legibilidade e manutenibilidade junto com performance Quando usar habilidades? Habilidades são mais úteis em cenários específicos onde você precisa de comportamento especializado: Cenários ideais 1. Conhecimento especializado de domínio Terminologia técnica específica de uma indústria Conformidade com regulamentações ou padrões Metodologias específicas (Scrum, ITIL, SOC 2, etc.) 2. Mudança de tom ou estilo Atendimento formal vs. casual Comunicação técnica vs. simplificada Diferentes personas ou papéis 3. Processos complexos e estruturados Fluxos de trabalho multi-etapa Análises que seguem frameworks específicos Geração de documentos com formatos rigorosos 4. Tarefas que exigem contexto extenso Quando as instruções são muito longas para incluir sempre Conhecimento que só é relevante ocasionalmente Múltiplos conjuntos de regras mutuamente exclusivos Quando NÃO usar habilidades Instruções permanentes: Se as instruções devem estar sempre ativas, coloque-as nas instruções de sistema base. Tarefas simples: Para respostas diretas que não exigem contexto especial. Conhecimento geral: Informações que o modelo já conhece bem não precisam ser reforçadas via habilidades. Muito poucas ou muitas habilidades: O ideal é ter entre 3-10 habilidades. Menos que isso, considere usar instruções base. Mais que isso, pode confundir o modelo. Comparação: Habilidades vs. Instruções de Sistema Aspecto Habilidades Instruções de Sistema Quando aplicar Sob demanda, quando relevante Sempre ativas Tamanho ideal Podem ser extensas Devem ser concisas Mudança de contexto Sim, podem alternar Não, são fixas Uso de tokens Econômico (só quando necessário) Constante Melhor para Conhecimento especializado Comportamento base do agente Dicas de implementação Comece pequeno: Implemente 2-3 habilidades inicialmente e expanda conforme necessário. Monitore o uso: Verifique se o modelo está ativando as habilidades corretamente. Evite sobreposição: Habilidades com descrições similares podem confundir o modelo. Teste a transição: Certifique-se de que o modelo muda de habilidade quando apropriado. Comparando Skills, RAG e System Prompt Para entender melhor quando e como usar habilidades em comparação com outras técnicas como RAG (Retrieval-Augmented Generation) e System Prompt (Instruções de Sistema), consulte nosso guia completo: Clique para acessar o guia de comparação. Este guia detalha: As diferenças fundamentais entre cada abordagem Quando usar cada técnica Exemplos práticos e casos de uso Como combinar as três técnicas para sistemas robustos Árvore de decisão para escolher a abordagem certa Veja também: Prompt Engineering Guide Building Production-Ready RAG Applications AI Gateway Documentation"
  },
  "docs/getting-started.html": {
    "href": "docs/getting-started.html",
    "title": "Bem-vindo | AIVAX",
    "summary": "Bem-vindo Boas vindas ao AIVAX. Nosso serviço torna mais fácil o desenvolvimento de modelos de IA inteligentes que usam uma base de conhecimento providenciada por você para conversar com o usuário, responder perguntas, fornecer informações em tempo real e mais. Para começar, todos os endpoints devem ser feitos na URL de produção da AIVAX: https://inference.aivax.net/ Lidando com erros Todos os erros da API retornam uma resposta HTTP com um status não OK (nunca 2xx ou 3xx), e sempre seguindo o formato JSON: { \"error\": \"Uma mensagem explicando o erro\", \"details\": {} // um objeto contendo informações relevantes sobre o erro. Na maioria das vezes é nulo }"
  },
  "docs/inference/ai-gateway.html": {
    "href": "docs/inference/ai-gateway.html",
    "title": "AI Gateway | AIVAX",
    "summary": "AI Gateway Os gateways de AI é um serviço que a AIVAX fornece para criar um túnel de inferência entre um modelo de LLM e uma base de conhecimento. Nele é possível: Criar um modelo com instruções personalizadas Usar um modelo provido por você através de um endpoint OpenAI compatível, ou usar um modelo disponibilizado pela AIVAX Personalizar parâmetros de inferência, como temperatura, top_p, prefill Usar uma coleção de conhecimento como fundação de respostas para IA Dentre outros recursos. Com o AI Gateway, você cria um modelo pronto para uso, parametrizado e fundamentado nas instruções que você definir. Modelos Você pode trazer um modelo de IA compatível com a interface OpenAI para o gateway de IA. Se você trazer seu modelo de IA, iremos cobrar apenas pela pesquisa de documentos anexada na IA. Você também pode usar um dos modelos abaixo que já estão prontos para começar com o AIVAX. Ao usar um modelo, você perceberá que alguns são mais inteligentes que outros para determinadas tarefas. Alguns modelos são melhores com certas estratégias de obtenção de dados do que outros. Realize testes para encontrar o melhor modelo. Você pode ver os modelos disponíveis na página de modelos. Usar um gateway de IA A AIVAX provê um endpoint compatível com a interface OpenAI através de um AI-gateway, o que facilita a integração do modelo criado pela AIVAX com aplicações e SDKs existentes. Vale ressaltar que somente algumas propriedades são suportadas. Em um gateway de IA, você já configura os parâmetros do modelo, como System Prompt, temperatura e nome do modelo. Ao usar esse endpoint, alguns valores do gateway podem ser sobrescritos pela requisição. Uso com SDKs Por prover endpoints compatíveis com a interface OpenAI, a AIVAX é totalmente compatível com SDKs existentes, facilitando a integração plug-and-play. Veja o exemplo abaixo: from openai import OpenAI client = OpenAI( base_url=\"https://inference.aivax.net/v1\", api_key=\"oky_gr5u...oqbfd3d9y\" ) response = client.chat.completions.create( model=\"my-gateway:50c3\", # you can also provide your ai-gateway full ID here messages=[ {\"role\": \"user\", \"content\": \"Explain why AI-gateways are useful.\"} ] ) print(response.choices[0].message.content) No momento, a AIVAX só suporta o formato chat/completions. No futuro, pretendemos criar suporte para a API Responses."
  },
  "docs/inference/pipelines.html": {
    "href": "docs/inference/pipelines.html",
    "title": "Pipelines de IA | AIVAX",
    "summary": "Pipelines de IA A AIVAX fornece vários pipelines para usar em seu gateway de IA. Você pode usar vários pipelines para executarem no contexto do seu gateway. RAG Através de coleções, você pode vincular coleções de documentos para seu gateway de IA. Você pode definir os parâmetros de incorporação, como quantidade de documentos, pontuação mínima e estratégia de incorporação. Cada estratégia de incorporação é mais refinada que a outra. Algumas criam resultados melhores que as demais, mas é importante realizar testes práticos com várias estratégias para entender qual se ajusta melhor no modelo, conversa e tom do usuário. Talvez seja necessário realizar ajustes no prompt do sistema para informar melhor como a IA deverá considerar os documentos anexados na conversa. Os documentos são anexados como uma mensagem do usuário, limitados aos parâmetros que você define na estratégia de obtenção. Estratégias com reescrita normalmente geram os melhores resultados à um baixo custo de latência e custo. O modelo de reescrita usado sempre o com menor custo, escolhido normalmente por um pool interno que decide o modelo que está com menor latência no momento. Estratégias sem custo de reescrita: Plain: a estratégia padrão. É a menos otimizada e não possui custo de reescrita: a última mensagem do usuário é usada como termo de busca para pesquisar na coleção anexada do gateway. Concatenate: Concatena em linhas as últimas N mensagens do usuário, e então o resultado da concatenação é usada como termo de busca. Estratégias com custo de reescrita (os tokens de inferência são cobrados): UserRewrite: reescreve as últimas N mensagens do usuário usando um modelo menor, criando uma pergunta contextualizada no que o usuário quer dizer. FullRewrite: reescreve as últimas N*2 mensagens do chat usando um modelo menor. Similar ao UserRewrite, mas considera também as mensagens da assistente na formulação da nova pergunta. Geralmente cria as melhores perguntas, com um custo um pouco maior. É a estratégia mais estável e consistente. Funciona com qualquer modelo. Estratégias de função: QueryFunction: fornece uma função de pesquisa na coleção integrada para o modelo de IA. Você deverá ajustar nas instruções do sistema os cenários ideais para o modelo chamar essa função quando necessário. Pode não funcionar tão bem em modelos menores. Ao definir uma coleção de RAG no pipeline de seu gateway, a primeira mensagem do contexto da conversa será o resultado da incorporação do RAG como uma mensagem do usuário (exceto para quando usado como ferramentas onde o resultado da incorporação é anexado como uma resposta de ferramenta). Definir muitos documentos de resposta do RAG aumenta o consumo de tokens de entrada e pode aumentar o preço final da inferência. Fixando instruções O pipeline de instruções permite prefixar instruções em diversos lugares do modelo, guiando e restrigindo o formato de resposta do modelo. As formas atuais de definir instruções são: Instruções do sistema: insire um texto fixo no prompt de sistema do contexto. Template de prompt do usuário: reformata a pergunta do usuário para seguir um formato específico de pergunta. Inicialização de assistente (prefill): inicializa a mensagem da assistente com tokens iniciais de geração. Esses parâmetros podem ser muito úteis para prompt engineering, no entanto, podem não ser compatível com todos os modelos. Atenção: prefixando instruções, templates e inicializações podem remover a capacidade de raciocínio, interpretação multi-modalidades e chamadas de ferramentas do modelo. Instruções remotas Você também pode fornecer instruções remotas no contexto. Instruções remotas fazem uma chamada GET para o recurso fornecido e cacheia ele internamente por 10 minutos. Esses recursos são lidos como texto, limitado à 10 MB por recurso. Estes recursos são inseridos nas instruções de sistema do LLM. Skills (habilidades) Habilidades são instruções fornecidas sob-demanda para o modelo, o que pode obter instruções refinadas e aprimoradas para diferentes tarefas especializadas. Leia mais sobre habilidades. Processamento multi-modal O pré-processamento de conteúdo multi-modal permite processar áudios, imagens, vídeos e documentos usando modelos com essas capacidades para modelos que não possuem essa capacidade. Cada conteúdo multi-modal é convertido para uma representação textual do mesmo através de um modelo auxiliar. Esse processamento é feito por um modelo multi-modal, o que infere custo de processamento diretamente do provider. O conteúdo gerado é armazenado em um cache de longo prazo em nossos servidores e são evitados após um certo período que não foi acessado. Após esse período, o conteúdo tende a ser re-processado se novamente inserido na conversa. Parametrização O pipeline de parametrização configura os hiper-parâmetros iniciais da inferência, como temperatura, nucleus sampling, presence penalty e demais hiperparâmetros de inferência. Truncating O pipeline de truncating permite definir o tamanho de uma conversa em tokens antes dela ser recortada. Quando esse pipeline está ativado, antes de toda inferência, é calculado se num_of_chars / 4 é maior que o máximo de tokens de entrada da conversa. Se o contexto for maior, o pipeline começa a remover mensagens do começo da conversa até que as mensagens caibam no contexto especificado. Ao menos uma mensagem do usuário (comumente a última mensagem) é mantida na conversa. Todas as demais mensagens são removidas, exceto as instruções do sistema. Alternativamente, você pode definir que ao atingir o limite um erro é disparado na API ao invés de recortar o contexto. Tool message truncating O pipeline de contagem de mensagens de ferramentas é similar ao de truncating: ele remove a resposta de ferramentas mais antigas e preserva somente as mais novas. Isso pode ser útil para quando respostas de ferramentas anteriores não sejam mais úteis em mensagens mais recentes e ocupam espaço no contexto, mas pode ser prejudicial ao usar com modelos agênticos que chamam ferramentas em cadeia. Esse pipeline é configurado em quantidade de mensagens de ferramentas à serem preservadas ao invés de tokens. Quando uma mensagem de ferramenta é considerada antiga, ela não é removida, mas tem seu conteúdo removido. Ferramentas do lado do servidor Esse pipeline permite a execução de ferramentas do lado do servidor da AIVAX, similar ao protocolo MCP. Leia mais sobre esse pipeline aqui. Ferramentas embutidas Você pode adicionar ferramentas providas pela AIVAX em seu gateway, como pesquisa na internet, geração de imagens e acesso de links. Consulte todas as ferramentas disponíveis aqui. Interpretador de funções (tool handler) É possível alterar o interpretador de funções usado pelo modelo. Isso traz a possibilidade de adicionar a capacidade de chamar funções para modelos que não suportam esse recurso. Atualmente, existem dois tipos de interpretadores: ReAct: um interpretador baseado na técnica ReAct prompting usando um modelo auxiliar. O interpretador react.v1.selfcall usa o próprio modelo de inferência para chamar funções antes de gerar uma resposta. NtvCall: utiliza outro modelo para chamar funções para o modelo principal. O fluxo é retomado quando o modelo alternativo não chama nenhuma função e começa a criar uma resposta. Moderação Você pode adicionar uma camada de moderação no seu gateway de IA. Um modelo auxiliar irá analisar o contexto inteiro da conversa e irá classificá-la como segura ou insegura de acordo com suas preferências de moderação. Conversas classificadas como inseguras são removidas da inferência e o modelo tende a gerar uma resposta indicando que não pode gerar conteúdo sobre aquele assunto. O custo da moderação é de $0,20 por milhão de tokens processados. Workers Workers definem o comportamento do seu gateway remotamente, usado para controlar quando certos eventos devem ser abortados ou continuados. Leia mais sobre esse pipeline aqui."
  },
  "docs/inference/structured-responses.html": {
    "href": "docs/inference/structured-responses.html",
    "title": "Respostas estruturadas | AIVAX",
    "summary": "Respostas estruturadas AIVAX possui um mecanismo de respostas estruturadas que funciona com qualquer LLM, mesmo aqueles que não suportam nativamente structured outputs. A AIVAX analisa o esquema JSON fornecido e valida manualmente se o modelo respondeu conforme esperado. Quando o modelo falha, a AIVAX notifica os erros automaticamente até que ele gere um JSON válido. Esse mecanismo é chamado de JSON Healing. Esse processo continua até que o parâmetro o máximo de tentavias seja atingido ou um JSON válido seja gerado. A AIVAX interpreta JSONs em blocos markdown, precedidos ou antecedidos por texto, e extrai a resposta final automaticamente. Você pode usar respostas estruturadas com modelos que possuem raciocínio (reasoning) sem quebrar a fase de raciocínio para gerar o JSON. Além disso, é possível usar ferramentas embutidas durante a geração, como pesquisa na internet, geração de documentos e abertura de links. Como funciona Ao fazer uma chamada de inferência, você define o que o modelo deve fazer através de instruções e como ele deve responder através de um JSON Schema. A AIVAX valida a resposta do modelo em tempo real. Se o JSON gerado for inválido ou não seguir o schema, o modelo recebe feedback automático sobre os erros e tenta novamente. Esse ciclo continua até que: Um JSON válido seja gerado (sucesso na primeira tentativa ou após correções) O limite de maxAttempts seja atingido Cobrança: Você é cobrado por cada tentativa de geração. Modelos mais inteligentes geralmente acertam na primeira tentativa, enquanto modelos menores podem precisar de múltiplas tentativas. Dica de performance: Use cache no lado da sua aplicação para dados que não mudam frequentemente (clima, estatísticas diárias, etc). A AIVAX não realiza cache automático. Ferramentas embutidas Você pode usar ferramentas embutidas durante a geração de JSON, permitindo que o modelo: Pesquise na internet para obter informações atualizadas Execute código para cálculos complexos Abra e analise URLs Gere imagens Busque posts em redes sociais Essas ferramentas são especialmente úteis para funções que precisam de dados em tempo real ou processamento adicional antes de gerar a resposta estruturada. Como usar Você usa o serviço de respostas estruturadas no mesmo endpoint de chat completions. POST /v1/chat-completions { \"model\": \"@google/gemini-2.5-flash\", \"prompt\": \"Pesquise por notícias em São José do Rio Preto.\", \"stream\": true, \"builtin_tools\": { \"tools\": [ \"WebSearch\" ], \"options\": { \"web_search_mode\": \"full\" } }, \"response_schema\": { \"type\": \"object\", \"properties\": { \"news\": { \"type\": \"array\", \"items\": { \"type\": \"object\", \"properties\": { \"title\": { \"type\": \"string\", \"description\": \"Título da notícia\" }, \"content\": { \"type\": \"string\", \"description\": \"Resumo da notícia\" } } } } } } } Veja que o parâmetro builtin_tools define quais ferramentas embutidas o modelo pode usar para gerar a resposta estruturada. Note que, o modelo usado deve ser compatível com chamadas de função. Você também pode usar respostas estruturadas com seus gateways de IA fornecendo o ID do seu gateway no nome do modelo. Modos de resposta JSON Existem duas formas de solicitar respostas estruturadas: com ou sem JSON Healing. Com JSON Healing (response_schema) Use response_schema para habilitar automaticamente o JSON Healing com o schema fornecido. A AIVAX valida a resposta do modelo e, se inválida, fornece feedback automático para correção: POST /v1/chat-completions { \"model\": \"@google/gemini-2.5-flash\", \"messages\": [{ \"role\": \"user\", \"content\": \"Liste 3 capitais europeias\" }], \"response_schema\": { \"type\": \"object\", \"properties\": { \"capitals\": { \"type\": \"array\", \"items\": { \"type\": \"object\", \"properties\": { \"city\": { \"type\": \"string\" }, \"country\": { \"type\": \"string\" } }, \"required\": [\"city\", \"country\"] } } }, \"required\": [\"capitals\"] } } Vantagens do JSON Healing: Garantia de formato: O modelo sempre responderá no formato JSON especificado Compatível com raciocínio: O modelo pode raciocinar livremente antes de gerar o JSON Compatível com ferramentas: Funciona em conjunto com ferramentas embutidas e function calling A AIVAX extrai automaticamente o JSON da resposta, mesmo que esteja em um bloco markdown ou precedido por texto explicativo. Sem JSON Healing (response_format) Use response_format quando o modelo nativo já suporta structured outputs (como GPT-4o ou Gemini) e você não precisa de validação adicional: POST /v1/chat-completions { \"model\": \"@openai/gpt-4o\", \"messages\": [{ \"role\": \"user\", \"content\": \"Liste 3 capitais europeias\" }], \"response_format\": { \"type\": \"json_schema\", \"json_schema\": { \"schema\": { \"type\": \"object\", \"properties\": { \"capitals\": { \"type\": \"array\" } } } } } } Neste modo, o schema é passado diretamente ao modelo sem validação adicional da AIVAX. Habilitando JSON Healing no response_format Você pode habilitar JSON Healing explicitamente passando um objeto options dentro de response_format quando type é json_schema: POST /v1/chat-completions { \"response_format\": { \"type\": \"json_schema\", \"json_schema\": { \"schema\": { \"type\": \"object\", \"properties\": { \"answer\": { \"type\": \"string\" } } } }, \"options\": { \"max_attempts\": 5 } } } O parâmetro max_attempts define o número máximo de tentativas de correção. Você é cobrado por cada tentativa que falhar. Vale notar que, modelos mais inteligentes tendem a acertar na primeira tentativa. JSON Schema suportado A AIVAX guia o modelo para gerar uma resposta conforme o JSON Schema fornecido. Quando o modelo gera algo inválido, ele recebe feedback sobre os erros e tenta novamente até que a saída esteja conforme a especificação. Tipos e validações suportadas string: minLength, maxLength pattern (regex) format: date-time, email, time, duration, uri, url, ipv4, ipv6, uuid, guid enum number e integer: minimum, maximum exclusiveMinimum, exclusiveMaximum multipleOf array: items uniqueItems minItems, maxItems object: properties required bool, boolean null Tipos múltiplos: Você pode especificar múltiplos tipos em um campo: { \"type\": [\"string\", \"number\"] } Nota: number e integer são sinônimos. O tipo integer não garante que o valor será um número inteiro."
  },
  "docs/inference/workers.html": {
    "href": "docs/inference/workers.html",
    "title": "Workers de IA | AIVAX",
    "summary": "Workers de IA Os workers do gateway de IA são hooks que permitem controlar o comportamento de seus recursos remotamente através de eventos. Com um controlador externo configurado, eventos são enviados para ele, e a resposta do seu controlador define se aquela ação deve continuar, ser abortada ou configurada. Quando um evento é acionado no lado da AIVAX, uma requisição POST é disparada ao worker configurado com informações do evento disparado. Com base em sua resposta, a ação pode ser anulada ou configurada. Não há nenhum cache - a requisição é feita em todos os eventos que ocorrem no seu gateway de IA. O tempo de processamento da resposta acrescenta uma latência entre toda ação do gateway, no entanto, adiciona uma camada de controle e moderação que você pode controlar à qualquer momento. Funcionamento Quando um evento é acionado, uma requisição POST é disparada ao seu worker seguindo o formato abaixo: { \"gatewayId\": \"019a6afb-5a03-7b83-a1a2-760bd1ecd11c\", \"moment\": \"2025-12-29T17:04:39\", \"event\": { \"name\": \"message.received\", \"data\": { \"messages\": [ { \"role\": \"system\", \"content\": \"User local date is Monday, December 29, 2025 (timezone is America/Sao_Paulo)\" }, { \"role\": \"user\", \"content\": \"bom dia\" }, { \"role\": \"assistant\", \"content\": \"Bom dia! \uD83D\uDE0A Como posso te ajudar hoje?\" }, { \"role\": \"user\", \"content\": \"tudo bem?\" } ], \"origin\": [ \"SessionsApi\" ], \"externalUserId\": \"mini-app-session@hse075q0q5gftm6jmitvi5\", \"metadata\": {} } } } O exemplo acima ilustra uma mensagem do evento message.received com os seus argumentos do evento. Tipos de resposta Após o envio da requisição, a AIVAX aguarda a resposta do seu worker. Existem três tipos de resposta possíveis: Resposta Comportamento Resposta OK (2xx) Continua e prossegue com a execução normal do evento. Outras respostas Aborta e interrompe a execução do evento. Content-Type application/json+worker-action Executa as ações especificadas na resposta e continua com a execução. Eventos Atualmente, os eventos que podem ser enviados para seu worker são: message.received Enviado quando uma mensagem é recebida pelo gateway. Esse evento é acionado com todo o histórico de mensagens da conversa. { \"name\": \"message.received\", \"data\": { \"messages\": [], \"origin\": [\"SessionsApi\"], \"externalUserId\": \"mini-app-session@lot1xc9k03g2my3j4w2y1\", \"metadata\": {} } } Ações disponíveis Para executar ações no evento message.received, retorne uma resposta com o header Content-Type: application/json+worker-action e o corpo no formato: { \"type\": \"message.received.response\", \"data\": { \"rewrites\": [ // lista de ações ] } } As ações disponíveis para o campo rewrites são: Ação Descrição Parâmetros clear Remove todas as entidades especificadas do contexto. argument: a entidade que será removida. Pode ser messages, meta, system, tools, skills ou all. Padrão para all quando nulo. add-message Adiciona uma mensagem ao contexto. message: objeto de mensagem OpenAI-compatível (ex: role e content) remove-message Remove uma mensagem do contexto pelo índice. index: índice da mensagem a ser removida add-system Adiciona uma instrução de sistema. message: texto da instrução add-tool Adiciona uma ferramenta ao contexto. tool: objeto JSON da ferramenta add-protocol-tool Adiciona uma definição de protocol function ao contexto. tool: objeto definição da protocol function Exemplos de ações Limpar e adicionar mensagem: { \"type\": \"message.received.response\", \"data\": { \"rewrites\": [ { \"type\": \"clear\" }, { \"type\": \"add-message\", \"message\": { \"role\": \"user\", \"content\": \"Mensagem substituída pelo worker.\" } } ] } } Adicionar instrução de sistema: { \"type\": \"message.received.response\", \"data\": { \"rewrites\": [ { \"type\": \"add-system\", \"message\": \"Responda sempre em português formal.\" } ] } } Remover mensagem por índice: { \"type\": \"message.received.response\", \"data\": { \"rewrites\": [ { \"type\": \"remove-message\", \"index\": 0 } ] } } Exemplos Bloqueando usuários não autorizados O exemplo abaixo ilustra um Cloudflare Worker que autentica uma conversa no Telegram com base no nome de usuário: export default { async fetch(request, env, ctx) { const CHECKING_GATEWAY_ID = \"0197dda5-985f-7c76-96e5-0d0451c596e5\"; const ALLOWED_USERNAMES = [\"myusername\"]; if (request.method == \"POST\") { const requestData = await request.json(); const { event, gatewayId } = requestData; if (gatewayId === CHECKING_GATEWAY_ID && event.name == \"message.received\" && event.data.externalUserId?.startsWith(\"zp_telegram:\")) { const telegramUsername = event.data.externalUserId.split(':')[0].split('@')[0]; if (!ALLOWED_USERNAMES.includes(telegramUsername)) { return new Response(\"User is not authed\", { status: 400 }); } } } return new Response(); } }; Interceptando e modificando mensagens O exemplo abaixo demonstra como interceptar uma mensagem e substituí-la por outra quando o usuário não está autorizado: export default { async fetch(request, env, ctx) { const CHECKING_GATEWAY_ID = \"0197dda5-985f-7c76-96e5-0d0451c596e5\"; if (request.method == \"POST\") { const requestData = await request.json(); const { event, gatewayId } = requestData; if (gatewayId === CHECKING_GATEWAY_ID && event.name == \"message.received\") { const userIsPaid = await checkUserSubscription(event.data.externalUserId); if (!userIsPaid) { return new Response(JSON.stringify({ type: \"message.received.response\", data: { rewrites: [ { type: \"clear\" }, { type: \"add-message\", message: { role: \"user\", content: \"O usuário enviou uma mensagem mas ela foi excluída pelo sistema. Informe ao usuário que ele não pagou sua assinatura mensal para continuar.\" } } ] } }), { headers: { \"Content-Type\": \"application/json+worker-action\" } }); } } } return new Response(); } }; async function checkUserSubscription(externalUserId) { // Implemente sua lógica de verificação de assinatura aqui return true; }"
  },
  "docs/legal/privacy-policy.html": {
    "href": "docs/legal/privacy-policy.html",
    "title": "Política de Privacidade | AIVAX",
    "summary": "Política de Privacidade Versão: 1.1 Data de vigência: 05 de outubro de 2025 Última atualização anterior: 30 de julho de 2025 Bem-vindo à AIVAX. Esta Política de Privacidade descreve como a AIVAX coleta, utiliza, armazena, compartilha e protege informações em seus serviços de inferência de IA. Nosso compromisso é com transparência, segurança e conformidade com a Lei Geral de Proteção de Dados (LGPD) e o Marco Civil da Internet. Ao utilizar os serviços da AIVAX, o Gestor da Conta reconhece e concorda com os termos desta política. Esta política não constitui aconselhamento jurídico; recomendamos avaliação pelo departamento jurídico do Gestor. 1. Definições AIVAX: Empresa provedora da plataforma e dos serviços de orquestração de modelos de IA. Gestor da Conta AIVAX (\"Gestor\"): Pessoa física ou jurídica que cria e administra a conta e integra a API. Usuário Final: Indivíduo que interage com a aplicação do Gestor que consome a API AIVAX. Dados de Conta: Dados cadastrais e administrativos (ex.: nome, e-mail, empresa, cargo, identificadores internos, preferências, configurações de chave de API). Dados de Faturamento: Dados necessários a cobrança e notas (ex.: CNPJ/CPF, razão social, endereço, meios de pagamento através de processador terceirizado). Dados de Inferência: Entradas (prompts, texto, instruções, metadados) enviadas aos modelos e as saídas/inferências resultantes. (Equivalente aos termos \"Conteúdo de Entrada\" + \"Conteúdo Gerado\" definidos nos Termos de Uso.) Conversas: Conjunto estruturado de interações de Inferência (entrada + resposta + metadados de contexto). Metadados Técnicos: Logs de requisições, IP, timestamp, latência, identificadores de sessão, uso de tokens, códigos de resposta, assinaturas de segurança. Operadora: AIVAX quando processa dados segundo instruções do Gestor (dados de inferência/conversas). Controladora: AIVAX quando define finalidades para dados de conta, faturamento, segurança e compliance. Subprocessador: Terceiro contratado pela AIVAX para apoiar processamento (infraestrutura, monitoramento, billing, e-mail, provedores de modelo, etc.). 2. Papéis de Tratamento Tipo de Dado Papel da AIVAX Papel do Gestor Dados de Conta Controladora Titular/Controlador de sua própria relação interna Dados de Faturamento Controladora (cumprimento legal e contratual) Fornece/verifica Dados de Inferência / Conversas Operadora Controlador (define conteúdo e finalidade) Metadados Técnicos Controladora (segurança / melhoria) e Operadora (execução técnica) Controlador (origem) Quando atuar como Operadora, a AIVAX seguirá estritamente as instruções do Gestor, conforme chamadas de API e configurações de painel. Para coerência contratual, em caso de divergência terminológica entre esta política e os Termos de Uso, prevalecerá a equivalência: Dados de Inferência = Conteúdo de Entrada + Conteúdo Gerado. 3. Categorias de Dados Coletados Fornecidos diretamente pelo Gestor: Dados de Conta, credenciais (hash ou tokens), preferências, configurações de uso, organização, chaves de API geradas. Gerados pelo uso: Metadados técnicos (logs, estatísticas agregadas, contagem de tokens, latências, uso por modelo). Dados de Inferência e Conversas: Conteúdo textual e demais formatos enviados aos modelos e retornos. Suporte e Comunicação: Mensagens em tickets, e-mails enviados ao suporte ou canais de contato. Faturamento: Dados fiscais e de pagamento (processados em parte por terceiros especializados). Dados Agregados/Anonimizados: Métricas derivadas que não identificam o Gestor ou usuários finais. Não coletamos deliberadamente categorias especiais de dados pessoais sensíveis (art. 5º, II, LGPD) salvo se o Gestor optar por enviar nos Dados de Inferência. Nesse caso, o Gestor declara possuir base legal adequada e consentimento quando exigido. 4. Finalidades, Bases Legais e Retenção Categoria Finalidade Principal Base Legal (LGPD) Prazo Indicativo de Retenção* Dados de Conta Criação, gestão da conta, autenticação, comunicações operacionais Execução de contrato (art. 7º, V) Enquanto a conta estiver ativa + até 6 meses após encerramento (auditoria) Dados de Faturamento Cobrança, emissão fiscal, prevenção a fraudes (inclui regras de créditos, expiração e reembolsos – ver Termos de Uso) Obrigações legais (art. 7º, II) / Execução de contrato 5 a 10 anos (exigências fiscais) Metadados Técnicos Segurança, prevenção a abuso, monitoramento de desempenho Legítimo interesse (art. 7º, IX) + Execução de contrato 180 dias (logs principais) / até 1 ano (segurança estendida) Dados de Inferência Execução da inferência solicitada Execução de contrato Tempo operacional (padrão: até 30 dias) Conversas Histórico para monitoramento, auditoria técnica, depuração Legítimo interesse (balanceado) + Execução de contrato Até 30 dias (padrão) ou menor se configurado; exportáveis e excluíveis Suporte Resolver dúvidas, incidentes, compliance Execução de contrato / Legítimo interesse Até 12 meses após resolução Dados Agregados/Anonimizados Métricas de capacidade, melhoria de confiabilidade Fora do escopo da LGPD (dados anonimizados) Indeterminado (enquanto irreversivelmente anonimizados) *Os prazos podem ser encurtados mediante solicitação, exceto onde houver obrigação legal ou necessidade de defesa de direitos. Backups cifrados podem reter dados por até 90 dias adicionais até rotação completa; dados expurgados não retornam a produção após restauração, aplicando-se reprocessamento de exclusões. 5. Não Utilização para Treinamento Próprio A AIVAX não utiliza Dados de Inferência ou Conversas para treinar modelos proprietários, criar perfis de uso individualizados ou monetizar dados. Uso restrito à prestação do serviço contratado. 6. Armazenamento e Exclusão de Conversas O Gestor pode: (i) ajustar retenção (quando a funcionalidade existir), (ii) excluir conversas individualmente ou em lote, (iii) solicitar purga total. Exclusão é definitiva e irreversível em produção; registros podem persistir temporariamente em backups até a janela de retenção técnica. 7. Direitos dos Titulares (Art. 18, LGPD) Quando a AIVAX atuar como Controladora (ex.: dados de conta), os titulares podem exercer: confirmação de tratamento; acesso; correção; anonimização, bloqueio ou eliminação; portabilidade; informação sobre compartilhamentos; revogação de consentimento (se aplicável); oposição a tratamento baseado em legítimo interesse; revisão de decisões automatizadas. Canal: **privacy@aivax.net** ou **wm@aivax.net** (Encarregado). Prazo padrão de resposta: até 15 dias. Poderemos solicitar comprovação de identidade. Para dados em que atuamos como Operadora, direcionaremos o titular ao Gestor Controlador. 8. Encarregado (DPO) Encarregado pelo Tratamento (Art. 41): (Identidade anonimizada) – Contato: **wm@aivax.net**. Funções: canal de comunicação com titulares e ANPD, orientação interna de conformidade, suporte a avaliações de impacto. 9. Subprocessadores Utilizamos subprocessadores para: infraestrutura em nuvem, balanceamento, monitoramento de desempenho, e-mail transacional, faturamento, provedores de modelo, detecção de abuso. Publicaremos (ou já publicamos) lista atualizada em página dedicada: (link a adicionar). Notificaremos alterações materiais antes de entrada em vigor sempre que exigido contratualmente; o uso continuado após prazo de objeção razoável constitui aceitação. 10. Provedores de Modelos de Terceiros Ao selecionar um modelo específico, o Gestor também se sujeita às políticas do respectivo provedor. Alguns provedores podem usar dados de inferência para melhoria ou treinamento. O Gestor deve validar a adequação antes de enviar dados pessoais ou sensíveis. A AIVAX não controla políticas de terceiros e recomenda a leitura prévia. 11. Transferências Internacionais de Dados Dados podem ser processados ou armazenados em datacenters fora do Brasil (ex.: EUA, UE), utilizando provedores que adotam padrões de segurança alinhados às melhores práticas internacionais. Aplicamos: (i) contratos com cláusulas de proteção; (ii) criptografia; (iii) minimização; (iv) segregação lógica. Caso a transferência se enquadre em hipóteses específicas do art. 33, adotaremos salvaguardas contratuais e técnicas apropriadas. 12. Segurança da Informação (Camadas) Medidas principais (sem divulgação de segredos operacionais): Criptografia em trânsito (TLS 1.2+ / 1.3) e em repouso (AES-256 ou equivalente). Controle de acesso baseado em papéis e princípio de mínimo privilégio. Segregação de ambientes (desenvolvimento, staging, produção) e pipeline com revisões. Logs de auditoria para ações administrativas e acessos a dados delicados. Monitoramento de integridade, alertas de anomalia e limitações automáticas de taxa (rate limiting). Testes periódicos de vulnerabilidade e correções priorizadas por criticidade. Hardening de infraestrutura e rotação de credenciais seguras. Pseudonimização ou truncamento de campos sensíveis em logs técnicos. Nenhuma medida de segurança é absoluta; mantemos programa contínuo de aprimoramento. 13. Gestão de Incidentes Incidentes relevantes de segurança serão avaliados conforme impacto, natureza dos dados e risco a titulares. Caso exigido, notificaremos Gestores afetados e a ANPD com: (i) descrição do evento; (ii) dados possivelmente envolvidos; (iii) medidas já tomadas e mitigação planejada; (iv) orientações ao Gestor. Mantemos plano de resposta revisto periodicamente. 14. Decisões Automatizadas Empregamos automações para detecção de abuso, limitação de requisições e prevenção a fraude de uso. Estas automações podem restringir temporariamente acessos ou chaves. Não realizamos decisões exclusivamente automatizadas que produzam efeitos jurídicos ou signifcativos sobre indivíduos. O Gestor pode solicitar revisão humana via suporte. 15. Cookies e Tecnologias de Rastreamento Na interface de painel podemos utilizar cookies estritamente necessários (sessão/autenticação) e possivelmente cookies funcionais para preferências. Não usamos cookies de publicidade comportamental. Caso venhamos a empregar analytics de terceiros, atualizaremos esta seção e forneceremos mecanismo de consentimento quando aplicável. O Gestor pode gerenciar cookies via configurações de navegador; a desativação de cookies estritamente necessários pode limitar funcionalidades. 16. Crianças, Adolescentes e Menores Emancipados Os serviços não se destinam a menores de 18 anos, exceto menores a partir de 16 anos legalmente emancipados nos termos da legislação brasileira. Não coletamos intencionalmente dados pessoais de menores não emancipados. Caso identifiquemos tratamento indevido, adotaremos medidas para remoção rápida e notificação ao Gestor. O Gestor é responsável por implementar verificações quando o uso envolver público potencialmente menor de idade. 17. Dados Sensíveis Não exigimos o envio de dados sensíveis. O Gestor deve evitar enviar dados de saúde, biométricos, genéticos, crenças religiosas, opinião política ou outros dados especiais, a menos que possua base legal apropriada e comunique claramente os titulares. AIVAX poderá aplicar filtros ou bloqueios para tipos de conteúdo considerados de alto risco. 18. Limitações de Uso e Conteúdos Proibidos É proibido utilizar a plataforma para armazenar ou processar conteúdos ilícitos, violadores de direitos, malware, material difamatório ou que infrinja direitos de terceiros. Podemos suspender ou bloquear chaves mediante suspeita razoável de violação, preservando logs necessários para investigação. Medidas de suspensão e rescisão seguem também o disposto nos Termos de Uso (Seções 2.1 e 5). 19. Anonimização e Dados Agregados Podemos gerar estatísticas agregadas (ex.: volume de tokens, taxa de erro, distribuição por modelo) sem identificação direta de indivíduos ou do conteúdo específico das Conversas. Tais dados não retornam à forma identificável. 20. Exportação e Portabilidade Fornecemos (ou forneceremos) mecanismos para exportar histórico de Conversas e métricas em formatos estruturados (JSON), limitados por janelas de retenção e segurança. Para dados mantidos enquanto Operadora, solicitações de titulares devem ser encaminhadas ao Gestor Controlador. 21. Backups e Recuperação de Desastre Backups cifrados são executados em janelas periódicas e retidos por até 90 dias para continuidade operacional. Após exclusões solicitadas, marcamos registros para expurgo lógico e impedimos reintrodução após restauração mediante reprocessamento de fila de exclusões. 22. Alterações a esta Política Alterações materiais serão notificadas por e-mail ao Gestor ou aviso destacado no painel com antecedência razoável (preferencialmente 15 dias), salvo exigência legal ou segurança urgente. A continuidade de uso após a vigência constitui aceitação. 23. Canal de Contato e Reclamações Dúvidas, solicitações de direitos ou reclamações: **privacy@aivax.net** / **wm@aivax.net**. Se não houver solução satisfatória, o titular pode recorrer à ANPD (Autoridade Nacional de Proteção de Dados). 24. Histórico de Revisões Versão Data de Vigência Principais Alterações 1.0 30/07/2025 Versão inicial publicada 1.1 05/10/2025 Inclusão de bases legais, direitos, retenção detalhada, subprocessadores, transferências, segurança ampliada, incidentes, decisões automatizadas, cookies, dados sensíveis, versionamento 25. Contato Geral Legal / Privacidade: **legal@aivax.net** – Encarregado: **wm@aivax.net**. Usar sempre canais oficiais para evitar engenharia social. 26. Disposições Finais Caso alguma cláusula desta política seja considerada inválida, as demais permanecem em pleno vigor. Em caso de conflito entre esta política e termos específicos de produto, prevalecerá a disposição mais protetiva aos titulares, salvo obrigação legal diversa. Se restarem dúvidas sobre qualquer ponto desta política, entre em contato. Mantemos compromisso com melhoria contínua de privacidade e segurança. Nota: Esta política poderá ser complementada por um Acordo de Processamento de Dados (DPA) específico entre AIVAX e o Gestor, quando aplicável."
  },
  "docs/legal/terms-of-service.html": {
    "href": "docs/legal/terms-of-service.html",
    "title": "Termos de Uso | AIVAX",
    "summary": "Termos de Uso Versão: 1.2 Data de vigência: 26 de dezembro de 2025 Última atualização anterior: 05 de outubro de 2025 Bem-vindo à AIVAX. Estes Termos de Uso (\"Termos\") governam o seu acesso e uso dos nossos serviços de inferência de IA, APIs, site e qualquer software associado (coletivamente, os \"Serviços\"). Ao criar uma conta, acessar ou utilizar nossos Serviços, você (\"Gestor da Conta AIVAX\") concorda em ficar vinculado a estes Termos e à nossa Política de Privacidade. Se você não concordar com estes Termos, não utilize nossos Serviços. 1. Definições AIVAX: A empresa que fornece os serviços. Gestor da Conta AIVAX: A pessoa física ou jurídica que cria e administra uma conta na plataforma AIVAX e concorda com estes Termos. Conteúdo de Entrada: Os dados, textos, prompts ou qualquer outra informação que o Gestor da Conta AIVAX envia para os Serviços para processamento. Conteúdo Gerado: As respostas, textos, imagens ou qualquer outro dado que é gerado pelos modelos de IA como resultado do processamento do Conteúdo de Entrada. (Correspondência Terminológica): Na Política de Privacidade, \"Dados de Inferência\" abrangem conjuntamente Conteúdo de Entrada e Conteúdo Gerado; \"Conversas\" representam sequências agregadas dessas interações. 2. Uso dos Serviços e Responsabilidades 2.1. Uso Responsável e Conduta Você concorda em usar os Serviços da AIVAX de forma ética e responsável. É estritamente proibido: Abusar do Sistema: Não se envolver em atividades que abusem, interfiram, interrompam ou prejudiquem os Serviços, nossos servidores ou redes. Isso inclui, mas não se limita a, enviar um volume de requisições excessivo que possa ser caracterizado como ataque de negação de serviço (DoS), tentar encontrar e explorar vulnerabilidades ou tentar acessar áreas não autorizadas do sistema. Comportamento Inadequado: Não utilizar os Serviços para assediar, ameaçar, difamar, enganar, ou violar os direitos legais e a dignidade de terceiros. A AIVAX preza por um ambiente de uso tecnológico saudável e não tolerará condutas que possam ser razoavelmente interpretadas como maliciosas ou abusivas. 2.2. Conformidade Legal Você é o único responsável por garantir que o seu uso dos Serviços esteja em total conformidade com todas as leis e regulamentos aplicáveis. Leis Brasileiras e Internacionais: Você concorda em não usar os Serviços para criar ou disseminar Conteúdo Gerado que viole qualquer lei vigente no Brasil ou em jurisdições internacionais relevantes. Isso inclui, mas não se limita a, leis sobre direitos autorais, propriedade intelectual, difamação, incitação ao ódio, terrorismo e exploração infantil. Marco Civil da Internet e LGPD: Seu uso deve respeitar os princípios estabelecidos pelo Marco Civil da Internet (Lei nº 12.965/2014) e pela Lei Geral de Proteção de Dados (LGPD - Lei nº 13.709/2018). 2.3. Consentimento para Uso de Dados Pessoais O Gestor da Conta AIVAX é o controlador dos dados inseridos nos Serviços. Caso o Conteúdo de Entrada inclua dados pessoais de terceiros, você declara e garante que: Possui a Base Legal Apropriada: Você obteve a base legal necessária (como o consentimento explícito e informado do titular dos dados) para coletar, processar e enviar esses dados para a AIVAX para fins de inferência. Responsabilidade Integral: Você é o único e exclusivo responsável por cumprir todas as obrigações da LGPD em relação a esses dados, incluindo a resposta a solicitações dos titulares. A AIVAX atua apenas como operadora desses dados sob suas instruções. 2.4. Eligibilidade Para usar os serviços da AIVAX, você precisa ser civilmente capaz, ou seja, ter pelo menos 18 anos de idade ou ter 16 anos quanto emancipado. Ao usar nossos serviços, você declara que: não foi suspenso, removido ou banido de nosso serviço anteriormente; sua conta está vinculada à uma pessoa sem débitos e em concordância com leis e regulações locais; você possui a idade mínima requerida para usar nossos serviços. Se estiver usando nossos serviços em responsabilidade de outra pessoa, organização ou empresa, você assume que tal empresa possui toda responsabilidade necessária para suas ações e aceitar estes termos de uso. 2.5. Saldo, créditos e reembolsos Para usar a maioria dos serviços da AIVAX é necessária a adição de saldo (\"créditos\") pré-pagos em sua conta. Ao usar nossos serviços, você concorda que: Nossos provedores de pagamentos podem coletar e armazenar dados determinísticos à você, como endereços físicos, dados de pagamentos (como cartões de créditos) e quaisquer informações que justifique a cobrança para adição de saldo. Essas informações não são vinculadas ou usadas à AIVAX e é de responsabilidade de nossos parceiros de pagamentos. Antes de pagar por créditos, você pode visualizar com antecedência as taxas de serviço cobradas pela AIVAX e se recusar à pagá-las, impossibilitando a adição de saldo. Créditos adicionados expiram após um ano de sua adição. Após esse período, o crédito expirado passará a não contabilizar mais o balanço da sua conta. Política de Reembolso: Em conformidade com o Art. 49 do Código de Defesa do Consumidor (Lei nº 8.078/1990), você pode exercer o direito de arrependimento em até 7 (sete) dias corridos a contar da data da adição de saldo, solicitando o reembolso via legal@aivax.net. Do valor a ser reembolsado, serão descontados: Os custos correspondentes aos serviços de computação (inferências, processamento) e armazenamento (dados RAG, vetores, memórias) efetivamente consumidos até o momento da solicitação; As taxas de serviço do provedor de pagamento, que não são reembolsáveis. O reembolso será processado no mesmo meio de pagamento utilizado, em até 15 (quinze) dias úteis após a aprovação da solicitação. O saldo restante na conta será deduzido ou zerado. Exclusão de Dados por Inadimplência: O armazenamento de dados (Coleções RAG, Vetores Embeddings e Memórias de Usuário) gera custos contínuos para a AIVAX. Caso o saldo da sua conta permaneça negativo ou zerado por período superior a 30 (trinta) dias consecutivos, a AIVAX se reserva o direito de excluir permanentemente e de forma irreversível todos os dados armazenados associados à sua conta, incluindo documentos de RAG, vetores e memória de usuários, a fim de cessar os custos operacionais. A própria conta (credenciais de login e histórico de transações) será mantida ativa para permitir futura recarga de créditos, mas os dados mencionados não poderão ser recuperados após a exclusão. Recomendamos fortemente que você exporte seus dados regularmente e mantenha saldo positivo para evitar perda de informações. A AIVAX notificará o e-mail cadastrado com no mínimo 7 (sete) dias de antecedência antes de proceder com a exclusão de dados. 3. Conteúdo Gerado e Propriedade Intelectual 3.1. Propriedade e Responsabilidade do Conteúdo Gerado Sujeito a estes Termos, a AIVAX concede a você todos os direitos, títulos e interesses sobre o Conteúdo Gerado. Em outras palavras: o que você cria é seu. Consequentemente, você é o único e exclusivo responsável pelo Conteúdo Gerado e pelo seu uso subsequente. Você assume todos os riscos associados a ele, incluindo sua legalidade, precisão, adequação e possíveis violações de direitos de terceiros. A AIVAX não tem qualquer responsabilidade ou obrigação sobre o uso que você faz do Conteúdo Gerado. Não Exclusividade e Similaridade: Devido à natureza estatística dos modelos, conteúdos semanticamente ou textualmente semelhantes podem ser gerados para diferentes usuários sem acesso cruzado às entradas originais. Não garantimos exclusividade absoluta de expressões ou ideias resultantes. Você não adquire qualquer direito sobre pesos de modelos, prompts internos, técnicas ou segredos comerciais da AIVAX. Licença Limitada concedida à AIVAX: Ao enviar Conteúdo de Entrada, você concede à AIVAX uma licença mundial, não exclusiva, livre de royalties, limitada ao necessário para (i) processar inferências; (ii) manter logs técnicos e segurança; (iii) detectar abuso; (iv) cumprir obrigações legais. Não usamos Conteúdo de Entrada ou Conteúdo Gerado para treinamento de modelos proprietários. Setores de Alto Risco: O Conteúdo Gerado não deve ser usado como única base para decisões médicas, jurídicas, financeiras, de engenharia de segurança crítica, ou qualquer contexto que possa gerar risco físico ou financeiro relevante sem validação humana qualificada. 3.2. Conteúdo Adulto, Explícito e Sensível A AIVAX é uma ferramenta e, como tal, pode ser utilizada para gerar uma vasta gama de conteúdos. A geração de conteúdo explícito, adulto ou pornográfico é permitida, desde que estritamente observadas as seguintes condições: Responsabilidade Total: Você assume total e completa responsabilidade pela criação, armazenamento e distribuição de tal material. Legalidade Inquestionável: O material não deve, em hipótese alguma, violar qualquer lei vigente sobre o tema, com tolerância zero para conteúdo que represente ou sugira exploração infantil, violência não consensual ou qualquer outra forma de abuso ilegal. Consentimento: Caso o material envolva a representação de pessoas reais, você deve ter o consentimento explícito e verificável dessas pessoas para criar e usar suas imagens para tal finalidade. Controle de Acesso: Você é responsável por implementar seus próprios mecanismos de controle de acesso e verificação de idade, caso decida disponibilizar esse conteúdo a terceiros. A AIVAX não endossa esse tipo de conteúdo e se reserva o direito de investigar e suspender contas que violem as condições acima. 4. Provedores de Modelos de Terceiros e BYOK 4.1. Bring Your Own Key (BYOK) – Uso de Chaves Próprias A AIVAX oferece a funcionalidade opcional de BYOK (Bring Your Own Key), permitindo que você utilize suas próprias chaves de API de provedores externos (como OpenAI, Anthropic, Google, entre outros) para realizar inferências. Ao optar por essa funcionalidade, você concorda e reconhece que: Responsabilidade Integral: Você é o único e exclusivo responsável pela obtenção, custódia, gerenciamento e conformidade de uso das chaves de API próprias. A AIVAX não tem controle sobre as políticas, limites de uso ou termos estabelecidos pelos provedores originais dessas chaves. Banimentos e Restrições: A AIVAX não se responsabiliza por suspensões, banimentos, limitações de taxa (rate limits), interrupções de serviço ou quaisquer outras penalidades aplicadas pelo provedor original sobre sua chave. Caso sua chave seja bloqueada ou revogada, os serviços que dependem dela não poderão ser executados. Cobrança de Serviços Periféricos: Ainda que você utilize chaves próprias para inferências, os serviços periféricos da AIVAX — incluindo, mas não se limitando a, armazenamento de dados, processamento RAG, gerenciamento de vetores, memórias de usuário, orquestração de agentes e ferramentas auxiliares (tools) — continuam sendo cobrados do saldo de créditos da sua conta AIVAX, conforme os preços vigentes. Uso Ético e Legal: O uso de chaves próprias não isenta você das obrigações estabelecidas nestes Termos, incluindo conformidade legal, proibição de abuso e respeito às políticas de uso aceitável. 4.2. Modelos de Terceiros Fornecidos pela AIVAX Os Serviços da AIVAX podem rotear seu Conteúdo de Entrada para modelos de IA operados por terceiros. Ao usar um modelo específico, você também pode estar sujeito aos termos de uso do provedor daquele modelo. É sua responsabilidade revisar e cumprir tais termos. A AIVAX não se responsabiliza pelas políticas ou práticas de provedores terceiros. 5. Suspensão e Rescisão A AIVAX reserva-se o direito de suspender, rescindir ou banir seu acesso aos nossos serviços prestados, a nosso critério exclusivo e sem aviso prévio, por qualquer violação destes termos. Atividades que podem levar à suspensão incluem, mas não se limitam a, violações de conformidade legal, abuso do sistema ou falta de pagamento. As suspensões podem ser temporárias ou permanentes, dependendo da gravidade da infração. 6. Limitação de Responsabilidade e Isenção de Garantias OS SERVIÇOS SÃO FORNECIDOS \"COMO ESTÃO\" E \"CONFORME DISPONÍVEIS\", SEM GARANTIAS DE QUALQUER TIPO, SEJAM EXPRESSAS OU IMPLÍCITAS. A AIVAX NÃO GARANTE QUE OS SERVIÇOS SERÃO ININTERRUPTOS, SEGUROS OU LIVRES DE ERROS. EM NENHUMA CIRCUNSTÂNCIA A AIVAX SERÁ RESPONSÁVEL POR QUAISQUER DANOS INDIRETOS, INCIDENTAIS, ESPECIAIS, CONSEQUENCIAIS OU PUNITIVOS DECORRENTES DO SEU ACESSO OU USO DOS SERVIÇOS. O CONTEÚDO GERADO PODE CONTER IMPRECISÕES, OMISSÕES OU “ALUCINAÇÕES” E É FORNECIDO PARA FINS INFORMATIVOS, SENDO O USUÁRIO RESPONSÁVEL POR VERIFICAÇÃO HUMANA ANTES DE QUALQUER USO CRÍTICO. 7. Indenização Você concorda em indenizar, defender e manter indene a AIVAX, suas afiliadas, administradores, colaboradores e parceiros contra quaisquer reclamações, perdas, danos, responsabilidades, custos e despesas (incluindo honorários advocatícios razoáveis) resultantes de: (i) Conteúdo de Entrada; (ii) uso indevido dos Serviços; (iii) violação destes Termos ou da legislação aplicável; (iv) infração de direitos de propriedade intelectual, privacidade ou personalidade de terceiros; (v) uso ou exposição indevida de chaves de API emitidas para sua conta. 8. Encerramento e Pós-Término Podemos encerrar ou suspender o acesso aos Serviços (total ou parcialmente) caso: (i) haja violação destes Termos; (ii) risco de segurança; (iii) exigência legal; (iv) inadimplência reiterada; (v) abuso ou fraude. Após encerramento: (a) seu acesso e chaves podem ser desativados imediatamente; (b) você poderá solicitar exportação de dados disponíveis (quando funcionalidade existir) em até 15 dias; (c) dados serão eliminados ou anonimizados conforme a Política de Privacidade, ressalvadas obrigações legais e defesa de direitos; (d) valores devidos continuam exigíveis. 9. Força Maior Nenhuma parte será responsável por falhas ou atrasos de desempenho causados por eventos fora de seu controle razoável, incluindo, mas não se limitando a, desastres naturais, atos governamentais, falhas generalizadas de infraestrutura de internet, ataques cibernéticos massivos, pandemias, guerras ou interrupções amplas de energia. Obrigações de pagamento não são exoneradas por força maior já consumada. 10. Controles de Exportação e Sanções Você declara que não está localizado em, nem atua em nome de entidade ou pessoa sujeita a sanções ou restrições comerciais impostas por autoridades brasileiras ou internacionais, incluindo, mas não se limitando a: Listas de restrição de comércio mantidas pelo Governo Brasileiro; Sanções econômicas da ONU (Organização das Nações Unidas); Lista de Nacionais Especialmente Designados (SDN List) e outras listas de sanções mantidas pela OFAC (Office of Foreign Assets Control) do Departamento do Tesouro dos Estados Unidos, considerando que a AIVAX utiliza infraestrutura e provedores sediados nos EUA. Você não usará os Serviços para fins proibidos por leis de exportação, anticorrupção ou antiterrorismo. O descumprimento desta cláusula pode resultar na suspensão ou encerramento imediato da sua conta, sem direito a reembolso. 11. Confidencialidade e Segurança de Credenciais Você deve manter confidenciais chaves de API, tokens e credenciais associadas à sua conta, adotando controles de acesso. Qualquer atividade realizada com suas credenciais será presumida como autorizada por você até comunicação de comprometimento. Você se compromete a notificar a AIVAX prontamente sobre suspeitas de uso não autorizado. 12. Feedback e Melhorias Quaisquer comentários, sugestões, ideias ou feedback fornecidos podem ser utilizados livremente pela AIVAX para aperfeiçoar ou desenvolver produtos e serviços, sem obrigação de compensação, crédito ou confidencialidade adicional. 13. Recursos Beta e Descontinuação de Modelos Recursos identificados como “Beta”, “Experimental” ou equivalentes podem apresentar instabilidade, alteração de comportamento ou remoção sem aviso. Podemos descontinuar modelos ou ajustar limites técnicos (latência, throughput, quotas) por razões de desempenho, custo, conformidade ou segurança. 14. Procedimento de Notificação e Remoção (Takedown) Se você acreditar que qualquer saída ou uso dos Serviços viola direitos autorais, de marca ou outros direitos, envie notificação para legal@aivax.net contendo: (i) identificação precisa do material; (ii) base da alegação; (iii) seus dados de contato; (iv) declaração de boa-fé e veracidade. Podemos remover ou limitar acesso preventivamente e encerrar contas reincidentes. 15. Cessão Você não pode ceder ou transferir estes Termos sem consentimento prévio por escrito da AIVAX. A AIVAX poderá ceder estes Termos, total ou parcialmente (incluindo em operações societárias, fusões, aquisições ou reorganizações) mediante simples aviso. 16. Sobrevivência As seguintes disposições sobrevivem ao término: Propriedade Intelectual, Limitação de Responsabilidade, Indenização, Confidencialidade, Encerramento (obrigações pós-término), Cessão, Lei Aplicável e Foro, e quaisquer outras que por sua natureza devam persistir. 17. Acordo Integral Estes Termos, juntamente com a Política de Privacidade e eventuais documentos adicionais expressamente referenciados, constituem o acordo integral entre você e a AIVAX, substituindo entendimentos ou comunicações anteriores sobre o objeto. 18. Notificações Notificações formais poderão ocorrer por: (i) e-mail cadastrado; (ii) avisos no painel; ou (iii) publicação em página oficial dos Termos. Considera-se recebida notificação enviada por e-mail após 24 horas do envio, salvo erro técnico comprovado. 19. Atualizações de Preços e Limites Podemos ajustar preços, modelos de cobrança, limites de uso ou políticas de quotas. Alterações que impactem materialmente custos futuros serão comunicadas com antecedência razoável (salvo exigência legal ou emergencial). Uso continuado após vigência das mudanças implica concordância. 20. Idioma Esta versão em português prevalece sobre qualquer tradução fornecida apenas por conveniência. 21. Modificações nos Termos Podemos modificar estes Termos a qualquer momento. Notificaremos sobre alterações publicando versão atualizada ou enviando comunicação eletrônica. Alterações materiais poderão exigir aceitação adicional ou interrupção de uso caso não concorde. O uso continuado após a data de vigência das alterações constitui aceitação. 22. Disposições Gerais Estes Termos são regidos pelas leis da República Federativa do Brasil. Fica eleito o foro da Comarca de São Paulo, Estado de São Paulo, Brasil, para dirimir controvérsias, com renúncia a qualquer outro foro, por mais privilegiado que seja. A eventual invalidade de alguma cláusula não afeta a validade das demais. Para qualquer dúvida sobre estes Termos de Uso, entre em contato: **legal@aivax.net**."
  },
  "docs/limits.html": {
    "href": "docs/limits.html",
    "title": "Limites da API | AIVAX",
    "summary": "Limites da API Os limites de taxa regulam o número de requisições que você pode enviar em uma janela de tempo. Eles ajudam a prevenir abuso e garantir estabilidade para todos os usuários. Os limites abaixo são aplicados conforme o tier da sua conta: Tier zero: conta nova que nunca adicionou créditos ou que possui créditos de teste. Tier 1: conta criada há pelo menos 48 horas e que já adicionou qualquer valor em créditos. Tier 2: conta criada há pelo menos 1 mês e que já adicionou pelo menos $100 em créditos. Tier 3: conta criada há pelo menos 3 meses e que já adicionou pelo menos $1.000 em créditos. A medição é pela adição de créditos e não pelo consumo. Exemplo: não é necessário consumir $100 para avançar ao Tier 2, basta adicionar esse valor. Legendas: RPM: requisições por minuto RPD: requisições por dia (24h) TPM: tokens de entrada por minuto Conta nova Tier 1 Tier 2 Tier 3 Operação RPM RPD TPM Pesquisa de documentos 10 - - Inserção de documentos - 30 - Inferência (requisições) 5 30 - Inferência (tokens de entrada) - - 50.000 Inferência (tokens de entrada - high-end) 0 - 0 Execução serverless 5 100 - Ferramentas (compartilhado) - 100 - Ferramenta web_search - 15 - Ferramenta x_posts_search - 10 - Ferramenta generate_image - 3 - Operação RPM RPD TPM Pesquisa de documentos 150 - - Inserção de documentos - 3.000 - Inferência (requisições) 75 10.000 - Inferência (tokens de entrada) - - 1.000.000 Inferência (tokens de entrada - high-end) - - 200.000 Execução serverless 30 - - Ferramentas (compartilhado) - 1.000 - Ferramenta web_search - 300 - Ferramenta x_posts_search - 100 - Ferramenta generate_image - 30 - Operação RPM RPD TPM Pesquisa de documentos 300 - - Inserção de documentos - 10.000 - Inferência (requisições) 200 - - Inferência (tokens de entrada) - - 4.000.000 Inferência (tokens de entrada - high-end) - - 1.000.000 Execução serverless 100 - - Ferramentas (compartilhado) - 10.000 - Ferramenta web_search - 1.000 - Ferramenta x_posts_search - 500 - Ferramenta generate_image - 300 - Operação RPM RPD TPM Pesquisa de documentos 1.000 - - Inserção de documentos - 30.000 - Inferência (requisições) 1.000 - - Inferência (tokens de entrada) - - 10.000.000 Inferência (tokens de entrada - high-end) - - 4.000.000 Execução serverless 500 - - Ferramentas (compartilhado) - 50.000 - Ferramenta web_search - 10.000 - Ferramenta x_posts_search - 5.000 - Ferramenta generate_image - 1.000 - Descrição das operações: Pesquisa de documentos: inclui pesquisa semântica de documentos em uma coleção. Inserção de documentos: criação e modificação de documentos em uma coleção. Inferência (requisições): número de chamadas de inferência ou função (API ou chat client). Inferência (tokens de entrada): tokens de entrada usados em inferência. Inferência (tokens de entrada - high-end): tokens de entrada para modelos high-end (Tier 1+). Execução serverless: chamadas de função serverless. Ferramentas (compartilhado): uso de ferramentas integradas providas pela AIVAX (não inclui ferramentas customizadas). Ferramenta (nome): uso individual de cada ferramenta integrada. Grupos de modelos Certos modelos possuem multiplicadores de taxa: Comum: 1x Descontados: 0,5x Baixa-latência: 0,3x Grátis: 0,1x Exemplo: se usar um modelo \"descontado\", os limites de taxa serão 50% menores (ex: 75 req/min → 37 req/min). Limites para BYOK (Bring-your-own-key) Para modelos providos por você, o limite é 1.500 requisições por minuto (separado do limite de inferência integrada)."
  },
  "docs/pricing.html": {
    "href": "docs/pricing.html",
    "title": "Precificação | AIVAX",
    "summary": "Precificação O modelo de pagamento da AIVAX é pré-pago: você adiciona saldo à sua conta e utiliza nossos serviços consumindo esse crédito. Não enviamos faturas surpresas no final do mês. Isso garante total previsibilidade sobre seus gastos com inferência e agentes. Ao adicionar créditos, a AIVAX cobra uma pequena taxa (variável por método de pagamento) para cobrir impostos (notas fiscais), tarifas bancárias e custos operacionais. A precificação de inferência (geração de texto) é repassada diretamente dos provedores (como Google e OpenAI) sem markup. Você paga na AIVAX exatamente o mesmo preço de tabela que pagaria utilizando esses provedores diretamente. Usamos diferentes serviços para ajudar você a criar assistentes agênticos. Algumas ferramentas possuem custos específicos que são debitados do seu saldo sem taxas adicionais. Nota: A inferência é calculada em dólares americanos (USD). Pode haver flutuação cambial ao converter da sua moeda local para o dólar no momento da recarga ou do uso. Expiração de Créditos Como não podemos prever qual modelo você utilizará, precisamos alinhar a validade dos créditos com as políticas mais restritivas dos nossos fornecedores. Atualmente, os créditos expiram 12 meses após a data de adição. Consulte os detalhes em nossos termos de uso. Bring-your-own-key (BYOK) Você pode conectar sua própria chave de API (compatível com OpenAI) para usar a infraestrutura da AIVAX. Custo de Inferência: $0,00 (cobrado diretamente pelo dono da chave). Limites: Os limites de taxa são aumentados para 1.500 requisições por minuto (aprox. 25 req/s), sem limitação de tokens. Importante: Mesmo usando sua própria chave, serviços periféricos da AIVAX (como armazenamento de RAG, pesquisa na web, geração de imagem, etc.) continuam sendo cobrados do seu saldo AIVAX. Se seu saldo ficar negativo, o serviço será interrompido, inclusive para chamadas BYOK. RAG (Coleções e Vetores) O custo de indexação depende do modelo de incorporação (embedding) escolhido. Modelo Padrão: @google/gemini-embedding-001: $ 0,15 / 1 milhão de tokens. Modelos Legados/Compatibilidade: @google/text-embedding-004: $ 0,10 / 1 milhão de tokens. @baai/bge-m3: $ 0,012 / 1 milhão de tokens. No momento, não cobramos taxa computacional para processar a indexação, apenas pelo armazenamento resultante. Cálculo de Tokens Como nem todos os provedores retornam a contagem exata de tokens na resposta, utilizamos uma aproximação padrão da indústria para faturamento: tokens = ceil(utf8_bytes_count / 4) Armazenamento Para manter a integridade e disponibilidade dos seus dados, cobramos uma taxa de armazenamento por hora. Preço: $0,0015 por GB / hora. Franquia Gratuita: Os primeiros 100 MB são grátis. Como funciona a cobrança: Você paga apenas pelo excedente da franquia. Exemplo: Se você usar 120 MB por uma hora, pagará apenas sobre os 20 MB excedentes. Exemplo: Se usar 80 MB, o custo é zero. O que consome armazenamento: Memória de longo prazo dos usuários (chats e inferências salvas); Cache de descrições de imagens (processamento multi-modal); Conteúdo de documentos RAG e seus vetores. Logs de sistema são temporários e não geram custos de armazenamento. Ferramentas (Tools) As ferramentas nativas da AIVAX possuem preços e limites específicos. Consulte a documentação de cada ferramenta."
  },
  "docs/rag/best-practices.html": {
    "href": "docs/rag/best-practices.html",
    "title": "Boas Práticas de RAG | AIVAX",
    "summary": "Boas Práticas de RAG Para obter os melhores resultados com a indexação e busca semântica, a qualidade dos seus documentos é fundamental. A forma como você estrutura e escreve seus documentos impacta diretamente na capacidade do modelo de recuperar a informação correta. Estrutura e Tamanho Um documento deve representar um trecho limitado e autossuficiente de conhecimento. Tamanho ideal: Mantenha documentos entre 20 e 700 palavras. Muito curto (< 20 palavras): Pode não ter contexto suficiente para ser encontrado semanticamente. Muito longo (> 700 palavras): Pode ter seu conteúdo truncado, afetando a qualidade da indexação, ou misturar muitos tópicos diferentes, confundindo a busca. O que Fazer e O que Evitar ❌ Não faça Documentos muito curtos ou vazios: Evite criar documentos com 10 ou menos palavras. Documentos gigantes: Não envie documentos com milhares de palavras; quebre-os em partes menores. Mistura de assuntos: Não fale sobre múltiplas coisas desconexas em um mesmo documento (ex: \"Como ligar o carro\" e \"Preço da gasolina\" no mesmo texto). Mistura de idiomas: Mantenha o documento em uma única língua para melhor performance do embedding. Linguagem implícita: Evite textos onde o sujeito ou contexto não está claro (ex: \"Ele é azul\" - quem é ele?). Linguagem excessivamente técnica: Evite indexar JSONs puros ou logs de código sem explicação textual. ✅ Faça Seja explícito: O documento deve fazer sentido sozinho. Foco único: Cada documento deve cobrir um único tópico ou conceito. Repetição de palavras-chave: Use termos importantes explicitamente. Exemplo: Prefira \"A cor do Honda Civic 2015 é amarela\" ao invés de \"a cor do carro é amarelo\". Linguagem natural: Escreva como um humano falaria ou explicaria o assunto. Use Tags: Utilize tags para categorizar seus documentos e facilitar filtros. Dicas Adicionais Independência de Contexto: Imagine que o documento será lido fora de ordem. Ele ainda faz sentido? Se a resposta for não, reescreva-o para ser independente. Metadados: Use o campo de metadados para armazenar informações estruturadas (fonte, autor, data) que não precisam ser pesquisadas semanticamente mas são úteis para referência. Chunks: Se você tem um PDF grande, faça o \"chunking\" (divisão) dele em parágrafos ou seções lógicas antes de indexar. Seguir essas diretrizes garantirá que o sistema RAG recupere as informações mais relevantes para seus usuários."
  },
  "docs/rag/collections.html": {
    "href": "docs/rag/collections.html",
    "title": "Coleções e Documentos | AIVAX",
    "summary": "Coleções e Documentos A AIVAX fornece um serviço autônomo de RAG (Retrieval-Augmented Generation) que permite usar documentos em conversas de chat. As coleções são grupos de documentos que possuem informações que serão obtidas posteriormente, armazenados de forma persistente em um banco de dados de similaridade. Coleções As coleções permitem você enviar, salvar, gerenciar e consultar semanticamente por documentos armazenadas nela. Você pode associar uma coleção à um gateway de IA ou consultar diretamente nela através da API. Pela interface da AIVAX, é possível enviar lotes de documentos e criar documentos com chunking, e associá-los como um documento só no resultado da incorporação. Custos e limites Não há um limite de quantos documentos podem ser indexados em coleções. Preços de consulta e armazenamento podem ocorrer na conta. O custo de pesquisa e indexação é calculado em cima dos tokens do conteúdo de cada documento quando ele é indexado ou modificado. O conteúdo é tokenizado de acordo com o modelo usado na indexação. Documentos Um documento representa um pedaço de um conhecimento. É um trecho limitado, autosuficiente e que faça sentido de forma isolada. Um documento é o componente que é indexado pelo modelo interno para ser recuperado posteriormente através de um termo de busca semântico. Considere um manual sobre um carro: ele não é um documento mas sim vários documentos. Cada um destes documentos fala, de forma isolada, sobre um determinado assunto sobre esse carro, de forma que esse documento não dependa de um contexto ou informação externa para fazer sentido. Enviar documentos em lote Para enviar uma lista em massa de documentos para uma coleção, estruture-os seguindo o formato JSONL. A estrutura é composta pelas propriedades: Propriedade Tipo Descrição docid string Especifica o nome do documento. Útil para depuração e identificação. text string O conteúdo \"cru\" do documento que será indexado. __ref string Opcional. Especifica um ID de referência do documento. __tags string[] Opcional. Especifica um array de tags do documento. Útil para gestão de documentos. A referência de um documento é um ID que pode ser especificado em vários documentos que precisam estar vinculados em uma busca quando um dos mesmos for correspondido em uma busca de similaridade. Por exemplo, se uma busca encontrar um documento que possui um ID de referência, todos os outros documentos da mesma coleção que compartilham o mesmo ID de referência do documento correspondido também serão incluídos na resposta da busca. Você pode enviar até 50.000 linhas de documentos por requisição. Se precisar enviar mais documentos, separe o envio em mais requisições. Warning Esse endpoint gera custo calculado em cima dos tokens do conteúdo de cada documento. Gerenciamento de Documentos Criar ou modificar documento Esse endpoint cria ou modifica um documento a partir do seu nome. Quando um documento é modificado, seus vetores de indexação são resetados e o documento entra na fila para ser reindexado. O custo é gerado apenas quando o documento é de fato alterado. Listar documentos Lista todos os documentos disponíveis em uma coleção. Suporta filtro por nome, tag, referência ou conteúdo. Filtros suportados: -t \"tag\": filtra documentos que possuem essa tag. -r \"reference\": filtra documentos que possuem esse ID de referência. -c \"content\": filtra documentos que possuem esse trecho em seu conteúdo. -n \"name\": filtra documentos que possuem esse trecho em seu nome. in \"id\": filtra documentos por ID."
  },
  "docs/rag/semantic-search.html": {
    "href": "docs/rag/semantic-search.html",
    "title": "Pesquisa Semântica | AIVAX",
    "summary": "Pesquisa Semântica A API de pesquisa, através da query key obtida das coleções, realiza uma busca semântica na mesma, realizando uma comparação inteligente para cada documento indexado em uma coleção. Após criar uma coleção, você obterá seu ID. Utilize o ID da sua coleção para realizar a busca nos documentos indexados da mesma. O AIVAX utiliza modelos de embedding que permitem a orientação da tarefa. Para a busca, o termo é vetorizado com uma orientação DOCUMENT_QUERY. Para indexação dos documentos, a orientação é DOCUMENT_RETRIEVAL, o que fornece uma busca mais otimizada. Warning Esse endpoint gera custo. O custo é calculado em cima dos tokens do termo de busca."
  },
  "docs/tools/builtin-tools.html": {
    "href": "docs/tools/builtin-tools.html",
    "title": "Ferramentas embutidas | AIVAX",
    "summary": "Ferramentas embutidas A AIVAX fornece uma lista de ferramentas embutidas para você habilitar em seu modelo. Essas ferramentas podem ser usadas em conjunto com as funções do lado do servidor. Algumas funções possuem custo. Esse custo é aplicado em modelos usados pela AIVAX e os que você fornece através do BYOK (bring-your-own-key), portanto, é importante adicionar saldo se você pretende usar essas ferramentas. Note que cada modelo decide qual função chamar e seus parâmetros. Nem todos os modelos podem obedecer as regras de chamadas. Pesquisa na internet Essa função habilita a pesquisa na internet no seu modelo. Com isso, o modelo pode consultar por informações específicas ou em tempo real, como dados meteorológicos, notícias, resultados de jogos, etc. A pesquisa na internet é feita por vários provedores, escolhido conforme disponibilidade de rede e latência. A AIVAX utiliza uma mistura de provedores para realizar pesquisas na internet. A AIVAX fornece dois tipos de pesquisa configuráveis pelo seu dashboard: Full: a pesquisa realizada é completa, inserindo no contexto da conversa o conteúdo inteiro de cada resultado encontrado. Summarized: a pesquisa realizada é resumida, inserindo no contexto da conversa um resumo feito por IA pelo próprio provedor de pesquisa. O custo dos dois modos é de $5 à cada 1.000 pesquisas realizadas. O modo Full pode consumir mais tokens de entrada da conversa, mas pode proporcionar resultados mais precisos. Note Importante: nem sempre a pesquisa Full está disponível. Pesquisa avançada na internet Essa função permite que o modelo tenha um navegador da internet e consiga realizar automação, como pesquisas, navegar em sites, preencher formulários e clicar em botões. No momento não há parametrização dessa função. O custo dessa função é de $2 por hora de automação, tendo também uma quantia fixa de $11,10 à cada 1.000 chamadas dessa função. Execução de código Essa função permite que o modelo execute código JavaScript e inspecione o resultado da execução. Com isso, o modelo consegue avaliar através de algoritmos resultados de expressões matemáticas e outras situações que são melhores representadas através de código. O código é executado em um ambiente protegido com pouquíssimas funções disponíveis. O modelo não conseguirá acessar I/O, acesso à internet ou importar scripts por essa ferramenta. Essa função não tem custo. Contexto de URL Essa função permite que o modelo acesse conteúdo externo em URLs e links providos pelo usuário. Com essa função, o modelo consegue acessar links e avaliar seu conteúdo. Note que, alguns destinos podem identificar o acesso como bot e barrar o acesso, desde que essa função não é um crawling e sim um simples GET feito no destino. O modelo consegue acessar até 5 links de uma vez. Somente os primeiros 10MB dos links são lidos. Ao obter o conteúdo do link, o sistema verifica o conteúdo de retorno e lida com eles de acordo com cada tipo: Conteúdos de HTML são renderizados: as tags HTML, scripts, CSS e \"ruídos\" são removidos do resultado do acesso, mantendo somente o texto puro do link. Outros conteúdos textuais: o conteúdo é lido diretamente e nenhuma transformação é realizada. Conteúdos não textuais: quando o link responde com um conteúdo não textual e a resposta indica um nome de arquivo (seja pelo caminho ou pelo cabeçalho Content-Disposition), o sistema tenta converter o arquivo baixado para uma versão textual. Essa função não tem custo. Memória Essa função permite que o modelo armazene conteúdo relevante para ser usado por várias conversas. No momento, essa função só está disponível quando usada em chat clients e quando a sessão está identificada por uma tag. Através da tag da sessão, o modelo armazena um dado relevante da conversa, como preferência de nomes, lembretes ou ações que a assistente deve realizar. A instrução dessa memória instrui o modelo à não salvar dados sensíveis ou pessoais, no entanto, não é garantido que o modelo sempre irá seguir essa regra. Os dados são armazenados por um ano nos bancos de dados da AIVAX e podem ser excluídos à qualquer momento pela plataforma. Para toda conversa por um chat client, esses dados são obtidos e anexados na conversa. Essa função não tem custo. Geração de imagens Essa função permite que o modelo crie imagens de IA. As imagens geradas por IA são anexadas no contexto da conversa, mas não são visíveis diretamente para a assistente. Atualmente, existem quatro categorias de imagens geradas: Qualidade baixa: gera imagens rapidamente com um custo baixo, no entanto, pode gerar bastante artefato, como dedos à mais, olhos distorcidos, braços fora do lugar. Qualidade média: equilíbrio entre boa qualidade e velocidade, mas ainda pode gerar artefatos. Qualidade alta: maior qualidade nas imagens e menor chance de existir artefatos na imagem. Qualidade altíssima: a maior qualidade na geração de imagens. Após a geração, um modelo de upscaling realiza o reajuste na imagem criada. Essa função possui custo. O custo varia do tempo de processamento de cada imagem, o que é interferido com o consumo do processamento, tamanho da fila de processamento, modelos usados, etc. A geração de imagens ocorre em um provedor externo, o que o custo pode mudar conforme vários fatores. A imagem de exemplo acima mostra uma previsão do preço de cada qualidade de imagem. Você também pode ativar a geração de imagens explícitas e adultas na geração de imagem. Ao ativar esse recurso, o modelo será permitido gerar material adulto. Para isso ocorrer, o modelo também deve \"concordar\" em gerar esse conteúdo. Certos modelos possuem um filtro de segurança menor que outros. Por exemplo, os modelos Gemini são os com o menor filtro de segurança, sendo uma opção viável para role-play e geração desse tipo de material. Você é sempre responsável pelo material que gera e o material gerado deve ser compatível com nossos termos de serviço. Imagens geradas são armazenadas nos servidores da AIVAX por alguns meses antes de serem permanentemente removidas. Pesquisa de posts no X Essa função permite o modelo pesquisar por posts no X (antigo Twitter). É uma alternativa direta ao web_search, pois pode ser usada para procurar por informações atualizadas em tempo real, como notícias, informações, resultados de jogos, etc. Essa ferramenta traz resultados muito mais recentes que a ferramenta de pesquisa na internet convencional. Não é recomendado usar as duas funções em conjunto pois elas possuem o mesmo objetivo. No momento, os últimos 20 posts de um determinado assunto é inserido no contexto da conversa, contendo link e autor. No momento, não é possível acessar posts de perfis específicos. O custo dessa função é de $5 à cada 1.000 pesquisas realizadas. Geração de documentos Essa função permite que o modelo possa criar PDFs a partir de textos em HTML. Os arquivos criados são hospedados nos servidores da AIVAX e disponibilizados pelo assistente. O conteúdo é hospedado por alguns meses antes de ser permanentemente excluído. Essa função não tem custo. Geração de páginas da web Essa função permite que o modelo possa hospedar páginas HTML em servidores da AIVAX. Isso permite que o modelo possa hospedar relatórios, landing-pages e outros infográficos em HTML. O conteúdo é hospedado por alguns meses antes de ser permanentemente excluído. Essa função não tem custo."
  },
  "docs/tools/mcp.html": {
    "href": "docs/tools/mcp.html",
    "title": "Suporte à Model Context Protocol (MCP) | AIVAX",
    "summary": "Suporte à Model Context Protocol (MCP) É possível vincular ferramentas externas do protocolo MCP em seu AI Gateway. O protocolo define funções que executam do lado do servidor e possibilitam a interação da assistente com serviços em tempo real. As funções MCP persistem a chamada de ações do lado do servidor da AIVAX, removendo a necessidade de implementação da função do lado do cliente. Escolhendo o nome da função O nome da função deve ser simples e determinístico ao que essa função faz. Evite nomes difíceis de advinhar ou que não remetam ao papel da função, pois a assistente pode se confundir e não chamar a função quando apropriado. Como um exemplo, vamos pensar em uma função de consultar um usuário em um banco de dados externo. Os nomes a seguir são bons exemplos para considerar para a chamada: search_user query_user Nomes ruins incluem: search (implícito, possivelmente ambíguo) search user (nome com caracteres impróprios) Tendo o nome da função, podemos pensar na descrição da função. Escolhendo a descrição da função A descrição da função deve explicar conceitualmente duas situações: o que ela faz e quando deve ser chamada pela assistente. Essa descrição deve incluir os cenários que a assistente deve considerar chamar ela e quando não deve ser chamada, fornecendo poucos exemplos de chamadas (one-shot) e/ou tornando explícitas as regras da função. Definindo servidores MCP Você pode definir seus servidores MCP no gateway através de um array JSON: [ { \"name\": \"Meu servidor MCP\", \"url\": \"https://example-server.io/mcp\", \"headers\": { \"Authorization\": \"sk-pv-12nbo...\" } } ] Seu servidor MCP deve estar habilitado para SSE ou Streamable HTTP para funcionar com AIVAX. Você pode definir cabeçalhos customizados na configuração do seu servidor MCP para configurar autenticação ou demais necessidades. Chamadas da AIVAX no servidor MCP remoto normalmente enviarão informações de metadata adicionais através do campo _meta do MCP: { \"jsonrpc\": \"2.0\", \"id\": 2, \"method\": \"tools/call\", \"params\": { \"name\": \"get_weather\", \"arguments\": { \"location\": \"New York\" }, \"_meta\": { \"_aiv_nonce\": \"$2a$12$ynC9kC2q6iuEjO8SFDQqVeDxvHPUIZ9jTClE91SJo8VYtt/BSJDUG\", \"_aiv_external_user_id\": \"custom-user-id\", \"_aiv_call_source\": \"WebChatClient\", \"_aiv_conversation_token\": \"iiocc6stxgj5jc75ay4y\", \"_aiv_moment\": \"2025-09-09T16:58:05\", \"custom_metadata_field_1\": \"foo\", \"something\": \"bar\" } } } Dos valores definidos em _meta, você tem os parâmetros de metadata da inferência, cliente ou função. Valores prefixados em _aiv são reservados para parâmetros da AIVAX."
  },
  "docs/tools/protocol-functions.html": {
    "href": "docs/tools/protocol-functions.html",
    "title": "Funções do lado do servidor | AIVAX",
    "summary": "Funções do lado do servidor As funções de protocolo da AIVAX, ou server-side functions, é uma implementação em que a chamada de ferramentas do modelo ocorre do lado do servidor. Similar ao MCP, mas com suporte nativo à autenticação e otimizado para funcionar externamente. As funções de protocolo permitem a tomada de ações no lado do servidor da AIVAX, removendo a necessidade de implementação da função no lado do cliente e integrando com aplicações e serviços existentes. Essas funções esperam um callback através de uma URL, e quando o modelo decide chamar a função, o callback é acessado com os parâmetros informados pela própria assistente. A assistente não sabe qual URL ela está chamando, pois a mesma permanece invisível tanto para a assistente quanto para o usuário. Escolhendo o nome da função O nome da função deve ser simples e determinístico ao que essa função faz. Evite nomes difíceis de advinhar ou que não remetam ao papel da função, pois a assistente pode se confundir e não chamar a função quando apropriado. Como um exemplo, vamos pensar em uma função de consultar um usuário em um banco de dados externo. Os nomes a seguir são bons exemplos para considerar para a chamada: search_user query_user Nomes ruins incluem: search (pouco abrangente) query-user-in-database-data (nome muito grande) pesquisa-usuario (nome não em inglês) search user (nome com caracteres impróprios) Tendo o nome da função, podemos pensar na descrição da função. Escolhendo a descrição da função. A descrição da função deve explicar conceitualmente duas situações: o que ela faz e quando deve ser chamada pela assistente. Essa descrição deve incluir os cenários que a assistente deve considerar chamar ela e quando não deve ser chamada, fornecendo poucos exemplos de chamadas (one-shot) e/ou tornando explícitas as regras da função. Definindo funções de protocolo Essas funções são definidas no AI-gateway, o que permite a criação de agentes inteligentes que realizam ações sem intervenção humana. Elas seguem uma sintaxe simples, esperam o nome da função, uma descrição do que ela faz e os parâmetros de invocação. Funções de protocolo são definidas no AI gateway seguindo o JSON: POST /api/v1/ai-gateways { \"name\": \"my-ai-gateway\", \"parameters\": { ... \"protocolFunctions\": [ { \"name\": \"list_clients\", \"description\": \"Use essa ferramenta para listar e procurar pelos clientes do usuário.\", \"callbackUrl\": \"https://my-external-api.com/api/scp/users\", \"contentFormat\": null }, { \"name\": \"view_client\", \"description\": \"Use essa ferramenta para obter detalhes e pedidos de um cliente através do seu ID.\", \"callbackUrl\": \"https://my-external-api.com/api/scp/users\", \"contentFormat\": { \"type\": \"object\", \"properties\": { \"user_id\": { \"type\": \"string\", \"format\": \"uuid\" } }, \"required\": [\"user_id\"] } } ] } } No snippet acima, você está fornecendo duas funções para seu modelo de IA: list_clients e view_client, o qual irá decidir qual será executada durante o seu raciocínio. Você pode fornecer também um formato de conteúdo JSON para qual o modelo irá chamar sua API fornecendo o contéudo informado. Você também pode definir as lista de funções suportadas através de um endpoint. Toda vez que o modelo receber uma mensagem, ele irá consultar o endpoint fornecido para obter uma lista de funções que ele possa executar. Defina os endpoints de listagem de funções no seu AI gateway: POST /api/v1/ai-gateways { \"name\": \"my-ai-gateway\", \"parameters\": { ... \"protocolFunctionSources\": [ \"https://my-external-api.com/api/scp/listings\" ] } } Os endpoint de fornecimento de funções deve responder seguindo o formato: GET https://my-external-api.com/api/scp/listings { \"functions\": [ { \"name\": \"list_clients\", \"description\": \"Use essa ferramenta para listar e procurar pelos clientes do usuário.\", \"callbackUrl\": \"https://my-external-api.com/api/scp/users\", \"contentFormat\": null }, { \"name\": \"view_client\", \"description\": \"Use essa ferramenta para obter detalhes e pedidos de um cliente através do seu ID.\", \"callbackUrl\": \"https://my-external-api.com/api/scp/users\", \"contentFormat\": { \"type\": \"object\", \"properties\": { \"user_id\": { \"type\": \"string\", \"format\": \"uuid\" } }, \"required\": [\"user_id\"] } } ] } Essas funções são armazenadas em cache por 10 minutos antes de uma nova requisição ser feita no endpoint fornecido. Lidando com chamada de funções As funções são invocadas no endpoint fornecido em callbackUrl através de uma requisição HTTP POST, com o corpo: { \"function\": { \"name\": \"view_client\", \"content\": { \"user_id\": \"3e5a2823-98fa-49a1-831a-0c4c5d33450e\" } }, \"context\": { \"externalUserId\": \"...\", \"moment\": \"2025-05-18T03:36:27\" } } A resposta dessa ação deve responder sempre com um status HTTP OK (2xx ou 3xx), até mesmo para erros que a assistente possa ter cometido. Uma resposta não OK irá indicar para a assistente que não foi possível chamar a função e ela não irá continuar com o que estava planejando fazer. Formato das respostas As respostas bem sucedidas devem ser textuais e serão anexadas como resposta da função do jeito que for respondida pelo endpoint. Não há formato JSON ou estrutura para essa resposta, mas é aconselhável que dê uma resposta simples, humanamente legível, para que a assistente consiga ler o resultado da ação. Erros podem ser comuns, como não encontrar um cliente pelo ID ou algum campo não estiver no formato desejado. Nestes casos, responda com um status OK e no corpo da resposta inclua uma descrição humana do erro e como a assistente pode contornar ele. É garantido que a requisição irá seguir estritamente o JSON Schema do conteúdo fornecido pela definição da função. Funções que não esperam argumentos não devem especificar um formato de conteúdo para essa função. Important Quanto mais funções você definir, mais de entrada tokens você irá consumir no processo de raciocínio. A definição da função, bem como o formato dela, consome tokens do processo de raciocínio. Autenticação A autenticação das requisições são feitas pelo cabeçalho X-Aivax-Nonce enviado em todas as requisições de protocolo das funções, até mesmo as de listagem. Veja o manual de autenticação para entender como autenticar requisições reversas do AIVAX. Autenticação de usuário As chamadas de função enviam um campo $.context.externalUserId contendo a tag de usuário criada em uma sessão de chat. Essa tag pode ser usada para autenticar o usuário que chamou essa função. Considerações de segurança Para o modelo de IA, somente é visível o nome, descrição e formato da função. Ela não é capaz de ver o endpoint para onde essa função aponta. Além disso, ela não possui acesso à tag do usuário que está autenticado em um cliente de chat. Funções especialistas Além das funções embutidas, você pode definir funções especialistas, que executam tarefas específicas na sua conta da AIVAX. Você define funções especialistas pelo esquema de URL aivax://, seguindo o exemplo abaixo: { \"name\": \"my-ai-gateway\", \"parameters\": { ... \"protocolFunctions\": [ { \"name\": \"search_disease\", \"description\": \"Use essa ferramenta para pesquisar por doenças, tratamentos e sintomas.\", \"callbackUrl\": \"aivax://query-collection?collection-id=0196f5ef-9334-742b-a988-f913bb3be5ba&top=5&min=0.4\", \"contentFormat\": { \"type\": \"object\", \"properties\": { \"query\": { \"type\": \"string\", \"description\": \"Nome da doença, tratamento ou sintomas.\" } }, \"required\": [ \"query\" ] } } ] } } A função acima cria uma ferramenta para IA consultar em uma coleção de documentos específica, guiando a assistente do que ela deve pesquisar nessa coleção e o que esperar de uma resposta. Dessa forma, você pode vincular várias coleções de RAG para uma assistente poder buscar conteúdo especialista. Você pode personalizar a descrição das propriedades do JSON Schema de funções especialistas mas não sua estrutura, pois nosso backend espera um formato específico para chamar as funções. Os parâmetros de funções especialistas são fornecidos na URL através de parâmetros da query. Atualmente, apenas uma função especialista existe: query-collection: executa uma pesquisa RAG em uma coleção informada. Parâmetros da query: collection-id: o UUID da coleção que será pesquisada. top: um número indicando quantos documentos devem ser retornados na pesquisa. min: um decimal indicando qual a pontuação mínima de similaridade da busca. Formato JSON da função: { \"type\": \"object\", \"properties\": { \"query\": { \"type\": \"string\", \"description\": \"Conteúdo da pesquisa.\" } }, \"required\": [ \"query\" ] }"
  },
  "index.html": {
    "href": "index.html",
    "title": "Bem-vindo! | AIVAX",
    "summary": "Bem-vindo! Bem-vindo à documentação da AIVAX."
  },
  "readme.html": {
    "href": "readme.html",
    "title": "Sisk Documentation | AIVAX",
    "summary": "Sisk Documentation This repository contains the source code of the Sisk Documentation website. Building Firstly, make sure you have docfx installed in your machine. You'll need .NET SDK to install it. Clone this repository. Build the Sisk Framework project and put the .DLL binaries and XML documentation file at the ref/ directory, on the repository root. Run docfx, then docfx serve. Warning Please, do not use the docfx version 2.78.0 or later. This version has a bug that changes the documentation navigation layout. See the tracking issue. Prefer the version 2.76.0: dotnet tool install -g docfx --version 2.76.0 Then you're ready to go and you'll have the static website files at /_site. Contributing Contributions are always welcome. Contribute with spelling corrections, fixing broken links and more. Please, only edit english documentation files. Documentation files for another languages are AI-generated from english files through. Note Please do not edit API specification files (XML). These files are generated. If you want to edit any API documentation, edit it in the repository where the code is hosted."
  }
}